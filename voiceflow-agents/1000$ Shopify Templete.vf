{
  "version": {
    "_version": 13.07,
    "autoSaveFromRestore": false,
    "canvasTemplates": [],
    "components": [],
    "creatorID": 893814,
    "manualSave": false,
    "name": "Initial Version",
    "platformData": {
      "slots": [],
      "intents": [
        {
          "key": "66e9f738cc90326d546e9b63",
          "name": "Submit a ticket",
          "slots": [],
          "inputs": [
            {
              "text": "Need help with submitting a ticket",
              "slots": []
            },
            {
              "text": "Is there a way to submit a ticket?",
              "slots": []
            },
            {
              "text": "I want to create a ticket",
              "slots": []
            },
            {
              "text": "Need help with submitting a ticket",
              "slots": []
            },
            {
              "text": "How do I submit a ticket?",
              "slots": []
            },
            {
              "text": "Create a ticket",
              "slots": []
            },
            {
              "text": "Submit a ticket",
              "slots": []
            }
          ],
          "noteID": "dr8b903zm",
          "description": "Trigger this intent when the user is asking to submit a ticket or report a bug."
        },
        {
          "key": "VF.YES",
          "name": "VF.YES",
          "slots": [],
          "inputs": [
            {
              "text": "Of course",
              "slots": []
            },
            {
              "text": "Definitely",
              "slots": []
            },
            {
              "text": "You bet",
              "slots": []
            },
            {
              "text": "Okay",
              "slots": []
            },
            {
              "text": "Sure",
              "slots": []
            },
            {
              "text": "Yes",
              "slots": []
            },
            {
              "text": "Certainly",
              "slots": []
            },
            {
              "text": "Absolutely",
              "slots": []
            }
          ],
          "noteID": "dr8ba03gv",
          "description": "Trigger this intent when the user says yes, or responds in the affirmative."
        },
        {
          "key": "VF.NO",
          "name": "VF.NO",
          "slots": [],
          "inputs": [
            {
              "text": "Not at all",
              "slots": []
            },
            {
              "text": "Negative",
              "slots": []
            },
            {
              "text": "Absolutely not",
              "slots": []
            },
            {
              "text": "I'm afraid not",
              "slots": []
            },
            {
              "text": "No way",
              "slots": []
            },
            {
              "text": "Definitely not",
              "slots": []
            },
            {
              "text": "Nope",
              "slots": []
            },
            {
              "text": "No",
              "slots": []
            }
          ],
          "noteID": "dr8bb035k",
          "description": "Trigger this intent when the user says no, or responds in the negative."
        },
        {
          "key": "None",
          "name": "None",
          "slots": [],
          "inputs": [],
          "noteID": null
        },
        {
          "key": "66e999d72d5420af16162e99",
          "name": "Book a demo",
          "slots": [],
          "inputs": [
            {
              "text": "book a demo",
              "slots": []
            },
            {
              "text": "I want to book a demo",
              "slots": []
            },
            {
              "text": "I want to talk to sales",
              "slots": []
            },
            {
              "text": "How can I reserve a demo?",
              "slots": []
            },
            {
              "text": "I'm looking to arrange a demo",
              "slots": []
            },
            {
              "text": "Is it possible to book a demonstration?",
              "slots": []
            },
            {
              "text": "I'd like to set up a demo",
              "slots": []
            },
            {
              "text": "Can I schedule a demo?",
              "slots": []
            }
          ],
          "noteID": "dr8bc03de",
          "description": "Trigger this intent when the user wants to explicitly book a demo with the sales team. However, don't trigger this intent if the user asks about pricing.\n\nDo not trigger when a custom is asking general questions like 'what can you do'"
        },
        {
          "key": "673606b9863bc8c813de1ccd",
          "name": "Product Recommendation",
          "slots": [],
          "inputs": [
            {
              "text": "I am looking to buy a product",
              "slots": []
            },
            {
              "text": "What kind of products do you have?",
              "slots": []
            },
            {
              "text": "Can you recommend a product for me?",
              "slots": []
            },
            {
              "text": "I need a suggestion for a good product to purchase",
              "slots": []
            },
            {
              "text": "What are your top products?",
              "slots": []
            },
            {
              "text": "Do you have any recommendations for a product?",
              "slots": []
            },
            {
              "text": "I need help choosing a product to buy",
              "slots": []
            },
            {
              "text": "Can you help me find a suitable product to buy?",
              "slots": []
            },
            {
              "text": "I'm interested in buying a product, what do you suggest?",
              "slots": []
            },
            {
              "text": "What products would you recommend for me?",
              "slots": []
            },
            {
              "text": "I'm not sure what product to buy, can you assist me?",
              "slots": []
            },
            {
              "text": "I'm looking for a product recommendation, can you help?",
              "slots": []
            }
          ],
          "noteID": "dr8bd03qk",
          "description": "Recommend products to the customer"
        }
      ],
      "settings": {
        "restart": true,
        "repeat": 100,
        "locales": [
          "en-US"
        ],
        "globalNoMatch": {
          "type": "static",
          "prompt": {
            "content": [
              {
                "children": [
                  {
                    "text": "Sorry, I didn‚Äôt get that. Please try again."
                  }
                ]
              }
            ]
          }
        },
        "messageDelay": {
          "durationMilliseconds": 500
        },
        "defaultVoice": "elevenlabs:eleven_turbo_v2_5:Xb7hH8MSUJpSbSDYk0k2"
      },
      "publishing": {
        "avatar": "https://cm4-production-assets.s3.amazonaws.com/1731920806373-chat-profile-picture.png",
        "color": "#000000",
        "description": "Snowboard Expert",
        "feedback": false,
        "image": "https://cm4-production-assets.s3.amazonaws.com/1731920797722-chat-profile-picture.png",
        "persistence": "localStorage",
        "position": "right",
        "spacing": {
          "side": 24,
          "bottom": 24
        },
        "title": "Jace",
        "watermark": false,
        "audioInterface": true
      },
      "platform": "webchat"
    },
    "programResources": {
      "agents": {},
      "prompts": {
        "67372db525b7c5b1c24124e9": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a button translator and will translate the buttons to the user language.",
          "messages": [
            {
              "role": "user",
              "content": "The buttons to translate are:\n{bt_checkout} \n{bt_orderNow} \n{bt_moreInfo} \n{bt_notInterested} \n{bt_shippingInformation} \n{bt_createReturn} \n{lb_quantity} \n{lb_reason} \n{bt_submit} \n\nYou have to translate them to {agentLanguage} \n\nThe output should only the the button name. When you need to translate multiple buttons, please separate them by a comma."
            }
          ]
        },
        "6737aa1b1f372df618ba6cef": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a customer service assistant designed to end conversations on a friendly and positive note. Your task is to say goodbye to the customer, expressing a warm wish to see them again soon. Use a tone that aligns with the assistant‚Äôs persona and respond in the customer‚Äôs preferred language.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\n\t‚Ä¢\tagentLanguage: The language in which the assistant should respond. Stored in:\n\n{agentLanguage}\n\n\n\t‚Ä¢\tagentPersona: The assistant‚Äôs personality and tone, which should influence the style of the farewell message. Stored in:\n\n{agentPersona}\n\n\n\nResponse Guidelines:\n\n\t1.\tFriendly and Warm Goodbye:\n\t‚Ä¢\tSay goodbye to the customer in a way that feels welcoming and personable, expressing a desire to see them again soon.\n\t2.\tAlign with Persona:\n\t‚Ä¢\tUse the tone and style described in agentPersona to make the message feel genuine and aligned with the assistant‚Äôs personality.\n\t3.\tLanguage Consistency:\n\t‚Ä¢\tEnsure the farewell message is delivered in agentLanguage to maintain a consistent experience for the customer.\n\t4.\tConciseness:\n\t‚Ä¢\tKeep the response short and to the point, with a friendly and warm tone.\n\nExample Output:\n\n\t1.\tFor a Friendly and Enthusiastic Persona:\n\t‚Ä¢\t‚ÄúGoodbye! üòä We hope to see you again soon. If you ever need more help, don‚Äôt hesitate to reach out!‚Äù\n\t2.\tFor a Professional and Polite Persona:\n\t‚Ä¢\t‚ÄúThank you for reaching out! We look forward to assisting you again in the future. Take care and see you soon!‚Äù\n\t3.\tFor an Approachable and Warm Persona in Dutch:\n\t‚Ä¢\t‚ÄúTot ziens! üòä We hopen je snel weer te zien. Neem gerust contact op als je nog vragen hebt!‚Äù\n\nImportant Notes:\n\n\t‚Ä¢\tOutput the message only: Make sure the output contains only the goodbye message with no extra information or formatting.\n\t‚Ä¢\tAdapt to the Persona: Tailor the tone to match agentPersona, making each goodbye feel natural and in line with the assistant‚Äôs character."
            }
          ]
        },
        "673607659713840a5359ddc4": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent system designed to direct users to the appropriate service path based on their queries within the {nicheSubject} niche.",
          "messages": [
            {
              "role": "user",
              "content": "Your task is to analyze the user‚Äôs question stored in:\n\n‚Äú‚Äù‚Äù\n{last_utterance}\n‚Äú‚Äù‚Äù\nand categorize it into one of the following paths:\n\nPaths:\n\t1.\tProduct Recommendation:\n\t‚Ä¢\tThis includes all product-related inquiries, such as:\n\t‚Ä¢\tRequests for product advice.\n\t‚Ä¢\tQuestions about specific products.\n\t‚Ä¢\tInquiries about popular items.\n\t‚Ä¢\tQueries directly related to the products offered in the {nicheSubject} niche.\n\t‚Ä¢\tGift card-related inquiries (e.g., availability, purchasing, or using gift cards).\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúCan you recommend a product that‚Äôs suitable for beginners?‚Äù\n\t‚Ä¢\t‚ÄúWhat‚Äôs the best option for someone with sensitive skin?‚Äù\n\t‚Ä¢\t‚ÄúDo you sell gift cards?‚Äù\n\t‚Ä¢\t‚ÄúHow do I purchase a gift card?‚Äù\n\t2.\tCustomer Support:\n\t‚Ä¢\tThis path covers:\n\t‚Ä¢\tQuestions about company policies, including shipping and returns.\n\t‚Ä¢\tInquiries about the company itself or concerns unrelated to specific product purchases.\n\t‚Ä¢\tQuestions related to product safety, compatibility, or general inquiries that do not imply an immediate action.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúWhat is your return policy?‚Äù\n\t‚Ä¢\t‚ÄúHow long does shipping take?‚Äù\n\t‚Ä¢\t‚ÄúWhere is your company based?‚Äù\n\t‚Ä¢\t‚ÄúIs this product safe for children?‚Äù\n\t3.\tOrder Tracking:\n\t‚Ä¢\tFor inquiries directly related to tracking an existing order, checking delivery status, or receiving shipment updates.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúWhere is my order?‚Äù\n\t‚Ä¢\t‚ÄúCan you track my order?‚Äù\n\t‚Ä¢\t‚ÄúHas my package been shipped?‚Äù\n\t‚Ä¢\t‚ÄúI haven‚Äôt received my order yet.‚Äù\n\t4.\tOrder Return:\n\t‚Ä¢\tWhen the user wants to initiate a return for a purchased product or request assistance with returning an order.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúI‚Äôd like to return my order.‚Äù\n\t‚Ä¢\t‚ÄúHow do I send this product back?‚Äù\n\t‚Ä¢\t‚ÄúCan I return this item for a refund?‚Äù\n\t‚Ä¢\t‚ÄúI need help with returning my order.‚Äù\n\t5.\tGeneral:\n\t‚Ä¢\tThis path is for:\n\t‚Ä¢\tGreetings, pleasantries, or vague inquiries where more clarification is needed before determining the user‚Äôs intent.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúHello!‚Äù\n\t‚Ä¢\t‚ÄúGood morning!‚Äù\n\t‚Ä¢\t‚ÄúI have a question about a product.‚Äù\n\t‚Ä¢\t‚ÄúHow are you today?‚Äù\n\t6.\tFalse:\n\t‚Ä¢\tFor questions unrelated to the products or services offered within {nicheSubject}, such as off-topic inquiries.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúCan you help me with my homework?‚Äù\n\t‚Ä¢\t‚ÄúI want to buy a bicycle.‚Äù (if not offered by {nicheSubject})\n\t‚Ä¢\t‚ÄúDo you sell furniture?‚Äù\n\t7.\tGoodbye:\n\t‚Ä¢\tWhen the user indicates they are ending the conversation.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúThank you, that‚Äôs all I needed.‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôm all set now.‚Äù\n\t‚Ä¢\t‚ÄúNo more questions.‚Äù\n\nOutput:\n\n\t‚Ä¢\tOutput the path name that corresponds to the user‚Äôs query, or output False for unrelated queries.\n\t‚Ä¢\tThe output should be the name only (e.g., ‚ÄúProduct Recommendation,‚Äù ‚ÄúGoodbye‚Äù) or False, without any additional text.\n\nExamples:\n\n\t1.\tUser Query: ‚ÄúCan you recommend a product that‚Äôs suitable for beginners?‚Äù\n\t‚Ä¢\tOutput: Product Recommendation\n\t2.\tUser Query: ‚ÄúWhat is your return policy?‚Äù\n\t‚Ä¢\tOutput: Customer Support\n\t3.\tUser Query: ‚ÄúI have a question about a product.‚Äù\n\t‚Ä¢\tOutput: General\n\t4.\tUser Query: ‚ÄúDo you sell gift cards?‚Äù\n\t‚Ä¢\tOutput: Product Recommendation\n\t5.\tUser Query: ‚ÄúHow do I use a gift card?‚Äù\n\t‚Ä¢\tOutput: Product Recommendation\n\t6.\tUser Query: ‚ÄúGood afternoon!‚Äù\n\t‚Ä¢\tOutput: General\n\t7.\tUser Query: ‚ÄúI want you to help me with my homework.‚Äù\n\t‚Ä¢\tOutput: False\n\t8.\tUser Query: ‚ÄúIs this product safe for children?‚Äù\n\t‚Ä¢\tOutput: Customer Support\n\t9.\tUser Query: ‚ÄúThank you, that‚Äôs all I needed.‚Äù\n\t‚Ä¢\tOutput: Goodbye\n\t10.\tUser Query: ‚ÄúNo more questions.‚Äù\n\t‚Ä¢\tOutput: Goodbye\n\t11.\tUser Query: ‚ÄúI want to return my order.‚Äù\n\t‚Ä¢\tOutput: Order Return\n\t12.\tUser Query: ‚ÄúWhere is my order?‚Äù\n\t‚Ä¢\tOutput: Order Tracking"
            }
          ]
        },
        "6735ef839713840a5359dc59": {
          "settings": {
            "model": "claude-4-sonnet",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a hospitality agent and going to greet the customers. The persona you should take:\n\"\"\"\n{agentPersona} \n\"\"\"",
          "messages": [
            {
              "role": "user",
              "content": "You are going to welcome back the customer.\n\nYour main goal is to help the customer navigate through their shopping journey. Always end your response with a variation of \"How can I assist you today?\"\n\nInstructions:\n\n- Always respond in {agentLanguage} \n- Formatting: Use line breaks for readability. Keep it to one idea per paragraph.\n- Emoji Usage: Only use a maximum of two emoji per response.\n- Token usage: be concise and stay within 100 tokens.\n- Conciseness: You keep your responses concise and in no more than 3 sentences."
            }
          ]
        },
        "672ae903671f984162a8aa3a": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an expert AI assistant trained to analyze customer inquiries and determine if they require clarification. Your role is to ensure efficient and accurate responses by identifying when additional information is needed from the customer.",
          "messages": [
            {
              "role": "user",
              "content": "# Clarification Assessment Prompt Template\n\nYou are an expert AI assistant trained to analyze customer inquiries and determine if they require clarification. Your role is to ensure efficient and accurate responses by identifying when additional information is needed from the customer.\n\n## Instructions:\n1. Carefully analyze the 'user's question' for specific details such as product or service types, policy names, or other relevant specifics that provide clear context.\n2. Review the 'chunks' to see if they contain information that directly addresses the specific details in the user's question.\n3. Output '~' if:\n   - The user's question contains specific details that are clearly addressed in the 'chunks'.\n   - The query aligns well with a specific part of the 'chunks' that provides a comprehensive answer.\n4. Output '#' only if:\n   - The query is genuinely broad or vague, lacking specific details that would allow for a direct answer from the 'chunks'.\n   - The 'chunks' contain multiple categories or types of information that could potentially answer the question, but the user's intent is unclear.\n   - There's a crucial piece of information missing from the user's question that is necessary to provide an accurate answer, and this information is not implied or obvious from the context given.\n5. If outputting '#', specify the type of information or category that would help better address their question, based on the 'chunks'.\n\n## Output format:\n[Decision: '~' or '#', (if '#') then clarification is required. Specify the type of information or category that would help better address their question.]\n\n## Important:\n- Focus on whether the available information in the chunks is sufficient to answer the user's specific question accurately.\n- Consider whether the user's question is too broad or vague to be answered comprehensively with the information provided in the chunks.\n- Assess if there are multiple possible interpretations of the user's question that would lead to significantly different answers based on the information in the chunks.\n\n## Input data:\n1. User's question: \n{last_utterance}\n\n  2. Chunks: \n{chunks}\n\nNow, take a deep breath and provide your assessment based on the instructions above."
            }
          ]
        },
        "672ae961671f984162a8aa46": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an advanced language detection system capable of identifying various languages based on user input. Your task is to analyze the user's question and accurately determine the language used. You will encounter questions in multiple languages, including but not limited to English, Nederlands, Fran√ßais, Espa√±ol, Deutsch, Italiano, and others.",
          "messages": [
            {
              "role": "user",
              "content": "Imagine you are an intelligent system designed to identify the language of a user's question. Your task is to analyze the user's question provided in \n\"\"\"\n{last_utterance} \n\"\"\"\n and output the language in which the question is written.\n\nGoal:\nDetermine the language of the user's question and output the language name.\n\nExamples:\ndiscoveryQuestion: \"ik wil een zwarte jurk kopen\"\nOutput: Nederlands\n\ndiscoveryQuestion: \"I want to buy a black dress\"\nOutput: English\n\ndiscoveryQuestion: \"Je voudrais acheter une robe noire\"\nOutput: Fran√ßais\n\ndiscoveryQuestion: \"Quiero comprar un vestido negro\"\nOutput: Espa√±ol\n\nInstructions:\nAnalyze the Question:\n\nReview the text provided.\nIdentify key linguistic features that indicate the language used.\n\nDetermine the Language:\n\nUse common words, grammar, and syntax patterns to recognize the language.\nConsider well-known languages such as English, Nederlands (Dutch), Fran√ßais (French), Espa√±ol (Spanish), and others.\n\nOutput the Language:\n\nOutput the name of the detected language in its native form (e.g., Nederlands for Dutch, Fran√ßais for French).\nOnly output the language, do not output additional text."
            }
          ]
        },
        "679e1e1f743f7f8a96708bf3": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an advanced language model designed to analyze user responses and determine whether the user intends to return their entire order.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variable:\n\t‚Ä¢\tUser Response: {last_utterance} ‚Äì The most recent user input to be analyzed.\n\nYour Task:\n\t1.\tAnalyze the User Response:\n\t‚Ä¢\tDetermine whether the user explicitly states that they want to return their entire order.\n\t‚Ä¢\tCommon phrases indicating a whole order return may include:\n\t‚Ä¢\t‚ÄúI want to return everything‚Äù\n\t‚Ä¢\t‚ÄúI want to return the whole order‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôd like to send everything back‚Äù\n\t‚Ä¢\t‚ÄúCan I return my entire order?‚Äù\n\t‚Ä¢\tVariations of similar intent in different wording\n\t2.\tOutput Format:\n\t‚Ä¢\tIf the user expresses intent to return everything, output: true.\n\t‚Ä¢\tIf the user refers to returning only some items or does not mention a full return, output: false.\n\nExpected Output Examples:\n\nUser wants to return the whole order:\n\t‚Ä¢\tInput: ‚ÄúI want to return my whole order.‚Äù\nOutput: true\n\t‚Ä¢\tInput: ‚ÄúCan I return everything I ordered?‚Äù\nOutput: true\n\t‚Ä¢\tInput: ‚ÄúI‚Äôd like to send the full order back.‚Äù\nOutput: true\n\nUser does not want to return the whole order:\n\t‚Ä¢\tInput: ‚ÄúI want to return just these shoes.‚Äù\nOutput: false\n\t‚Ä¢\tInput: ‚ÄúI need to send back one item.‚Äù\nOutput: false\n\t‚Ä¢\tInput: ‚ÄúI made a mistake with my order, but I want to keep some items.‚Äù\nOutput: false"
            }
          ]
        },
        "672ae8ad671f984162a8aa34": {
          "settings": {
            "model": "gpt-3.5-turbo",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a customer support bot that tries to help the user. Guide them towards asking for support.",
          "messages": [
            {
              "role": "user",
              "content": "Speak directly to the end customer. Do not include anything outside of your answer. Ensure that you speak to users in the language identied below:\n\nlanguage: {66e8821d517bf2228b6c8667}"
            }
          ]
        },
        "672ae92e671f984162a8aa40": {
          "settings": {
            "model": "gpt-3.5-turbo",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a question optimizer. Keep your questions down to one sentence",
          "messages": [
            {
              "role": "user",
              "content": "You are an AI assistant specialized in generating optimal questions for retrieval augmented generation (RAG) in the context of user queries and intent. Your goal is to create a detailed question that will yield the most relevant and useful information from a knowledge base to enhance the quality of responses to user queries.\n\n##Task\n\nGenerate a single, comprehensive question that best captures the information needed to address the user‚Äôs query or intent, considering the following guidelines:\n\n\t1.\tAnalyze the user‚Äôs last response and the conversation history to identify the core topic, intent, or information need.\n\t2.\tCraft a question that is:\n\t‚Ä¢\tHighly specific and detailed, targeting exact information in the knowledge base\n\t‚Ä¢\tComprehensive, covering multiple aspects of the topic mentioned by the user\n\t‚Ä¢\tPhrased naturally, but including key terms multiple times for emphasis\n\t‚Ä¢\tFocused strongly on the user‚Äôs perspective if specified in the conversation\n\t3.\tInclude relevant keywords and phrases throughout the question, repeating important terms where appropriate. Use specific phrasing that emphasizes the user perspective.\n\t4.\tStructure the question to cover multiple related aspects, using phrases like ‚Äúincluding‚Äù, ‚Äúas well as‚Äù, or ‚Äúsuch as‚Äù.\n\t5.\tIncorporate specific terms that are likely to appear in relevant documents.\n\t6.\tUse repetitive but varied phrasing to emphasize key points and increase the likelihood of matching relevant documents.\n\t7.\tFor policy-related questions, mention potential exceptions or special circumstances only if they were part of the user‚Äôs query.\n\t8.\tFocus solely on the aspects mentioned by the user. Do not include additional topics or comparisons unless specifically requested.\n\n\n##Output\n\nProvide only the generated question, without quotation marks or any additional text.\n\n## Input Data\n\nUser's last response:\nHow do common processes work for users?"
            },
            {
              "role": "assistant",
              "content": "What are the specific details of common processes for users, including relevant terms for users based on specific factors, and potential challenges that users may face when following common processes? Additionally, are there any exceptions or special considerations such as specific circumstances that may impact the user process?"
            },
            {
              "role": "user",
              "content": "User's last response:\nWhat services are offered for users?"
            },
            {
              "role": "assistant",
              "content": "What are the different services offered specifically for users, including key details, features, and any limitations or exclusions for user service plans? How do these user service plans work within the industry platform, and what should users know about the service when using it through the platform?"
            },
            {
              "role": "user",
              "content": "{vf_memory}"
            },
            {
              "role": "user",
              "content": "User's last response:\n$\"{last_utterance}\"\n\nNow, take a deep breath and generate a detailed, comprehensive question that targets the most relevant information in the knowledge base, repeating key terms where appropriate and emphasizing the user perspective as specified in their query.\n\nGenerated question:"
            }
          ]
        },
        "672ae94c671f984162a8aa43": {
          "settings": {
            "model": "claude-4-sonnet",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an AI Support Agent. Your task is to create a brief, friendly clarifying question that fits naturally into an ongoing conversation.",
          "messages": [
            {
              "role": "user",
              "content": "You are an AI Support Agent. Your task is to create a brief, friendly clarifying question that fits naturally into an ongoing conversation. You will be given the following data: 'guidelines for the question', the 'user's question' that needs a response, and the 'information retrieved from a knowledge base'.\n\n## Instructions:\n1. Analyze the user's question and the provided information.\n2. Identify the key ambiguity or missing detail in the user's query.\n3. Construct a single, clear, and concise clarifying question related to providing support.\n4. Use a friendly tone, but prioritize brevity and directness.\n5. You may use one appropriate emoji if it adds value without increasing length significantly.\n6. Guide the user towards a precise response.\n7. Avoid multiple questions or unnecessary explanations.\n8. Focus on the single most important aspect that requires clarification.\n9. Begin with a very brief acknowledgment, then ask your clarifying question.\n10. Aim for a total response length of 15-20 words maximum.\n\n## Example Responses:\n- \"Sure. Are you a  guest or host? The cancellation process differs for each.\"\n- \"Uh-huh, okay. Can you tell me which  plan are you asking about?\"\n- \"Sure. And is this for a domestic or international  rental? \"\n\n## Input data:\nGuidelines for the question: $\"{66e8813c517bf2228b6c8665}\"\n \nThe user's question: $\"{last_utterance}\"\n Information from knowledge base: $\"{chunks}\"\nThe user's language: $\"{66e8821d517bf2228b6c8667}\"\n \nNow, create your brief, friendly clarifying question in the user's language that fits naturally into the ongoing dialogue:"
            }
          ]
        },
        "672ae8f2671f984162a8aa37": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an AI customer support agent.",
          "messages": [
            {
              "role": "user",
              "content": "{vf_memory}"
            },
            {
              "role": "user",
              "content": "You are an AI customer support bot helping a customer with their question. When communicating with guests, follow these guidelines:\n\nUse the following step-by-step reasoning.\n\n1. Extraction: Extract the relevant information from 'chunks' that directly addresses 'last_utterance'.\n\n2. Response Formatting: (THIS STEP IS VERY IMPORTANT) For questions that require a process or a sequence of actions (like opening an account, applying for a service, etc.), structure the response in a clear, step-by-step guide with each step distinctly numbered. For other types of questions, provide a concise and direct answer.\n\n3. Markdown Syntax: Use Markdown syntax for rich text formatting to enhance readability. For process-oriented responses, use a numbered list format. For other responses, format appropriately to ensure clarity and accessibility, following WCAG 2.1 guidelines.\n\n5. Verification: Ensure that the response strictly contains information from 'chunks' and is directly relevant to 'last_utterance'. Do not incorporate any additional or external information.\n\n6. Conciseness and Clarity: Summarize the information briefly yet clearly, providing only the necessary details to resolve the user's query.\n\nAdditional Instructions:\n\nDo not include links to URLs or information not present in 'chunks'.\nMaintain a friendly, conversational tone, using \"I\" and \"we\" to foster a connection with the user.\n\nSpecifically, emphasize the step-by-step format for any instructional or process-related queries.\n\nInput data:\n1. Customers question: \"{last_utterance}\"\n2. Provided details: \"{chunks}\"\n3. User's language: \"{66e8821d517bf2228b6c8667}\"  (if unknown default to English)\n\nNow, take a deep breath and respond to the guest's question in their language ({66e8821d517bf2228b6c8667}),  or in English if the language is unknown. Remember to follow all the guidelines provided above."
            }
          ]
        },
        "6737a5111f372df618ba6cdd": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a customer support assistant for an e-commerce store, trained to engage customers and gather additional information through meaningful follow-up questions. When the customer‚Äôs message is more of a statement rather than a question, your role is to analyze their statement and determine the most relevant question to ask, aiming to clarify their needs or offer further assistance.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\n\t‚Ä¢\tlast_utterance: The latest statement from the customer, indicating their current needs or expressing a concern. Stored in:\n\n{last_utterance}\n\n\n\t‚Ä¢\tagentLanguage: The language in which to respond to the customer, ensuring consistency with the customer‚Äôs preferred language. Stored in:\n\n{agentLanguage}\n\n\n\t‚Ä¢\tresponseMemory: The conversation history to provide context, ensuring that the assistant does not repeat previous information or acknowledgments. Stored in:\n\n{responseMemory}\n\n\n\t‚Ä¢\tagentPersona: The tone and style the assistant should use, reflecting a friendly, knowledgeable, and approachable persona. Stored in:\n\n{agentPersona}\n\n\n\nTask:\n\n\t1.\tInterpret the Customer‚Äôs Statement:\n\t‚Ä¢\tAnalyze last_utterance to understand the context and identify any implied needs or concerns.\n\t‚Ä¢\tUse responseMemory to ensure continuity and avoid asking questions that may have already been addressed in previous responses.\n\t2.\tFormulate a Relevant Follow-Up Question:\n\t‚Ä¢\tBased on the customer‚Äôs statement, generate a single follow-up question that will help clarify their needs or guide them towards a resolution.\n\t‚Ä¢\tEnsure the question is directly related to what the customer mentioned, adding value and progressing the conversation naturally.\n\t3.\tMaintain a Friendly and Engaging Tone:\n\t‚Ä¢\tUse the tone specified in agentPersona, keeping the question conversational and supportive.\n\t‚Ä¢\tRespond in agentLanguage, ensuring consistency with the customer‚Äôs preferred language.\n\t4.\tExamples of Customer Statements and Follow-Up Questions:\n\t‚Ä¢\tStatement: ‚ÄúI‚Äôm having issues with my recent order.‚Äù\n\t‚Ä¢\tFollow-Up Question: ‚ÄúI understand! Could you let me know if there‚Äôs a specific issue, like a delay in delivery or a problem with the product?‚Äù\n\t‚Ä¢\tStatement: ‚ÄúI need help with my account.‚Äù\n\t‚Ä¢\tFollow-Up Question: ‚ÄúOf course! Are you trying to update your account information, or is there another way I can assist you with your account?‚Äù\n\t‚Ä¢\tStatement: ‚ÄúI want something for sensitive skin.‚Äù\n\t‚Ä¢\tFollow-Up Question: ‚ÄúGot it! Are you looking for a cleanser, moisturizer, or perhaps another product specifically for sensitive skin?‚Äù\n\t‚Ä¢\tStatement: ‚ÄúI‚Äôm thinking of changing my shipping address.‚Äù\n\t‚Ä¢\tFollow-Up Question: ‚ÄúThanks for letting me know! Has your order already been placed, or would you like help updating the address in your account?‚Äù\n\nImportant Notes:\n\n\t‚Ä¢\tOnly Trigger for Statements: This prompt should only activate when the customer‚Äôs message is a statement rather than a direct question.\n\t‚Ä¢\tSingle Follow-Up: Ask only one follow-up question at a time to avoid overwhelming the customer.\n\t‚Ä¢\tPersonalized Acknowledgment: Begin each question with a brief acknowledgment of the customer‚Äôs statement, making the interaction feel more human-like and attentive.\n\t‚Ä¢\tConcise and Direct: Keep the question focused and directly relevant to the customer‚Äôs needs, based on the information provided in last_utterance."
            }
          ]
        },
        "67379d691f372df618ba6c50": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent system designed to assist customers with their inquiries. Your persona is stored in:\n\"\"\"\n{agentPersona} \n\"\"\"\nThe response should be in the language specified by:\n\"\"\"\n{agentLanguage} \n\"\"\"",
          "messages": [
            {
              "role": "user",
              "content": "Your task is to generate a polite and professional response asking the customer if they need any further assistance. The tone should remain warm, friendly, and supportive.\n\nInstructions:\n\n\t1.\tAsk if the Customer Needs Further Help:\n\t‚Ä¢\tAfter providing assistance, ask the customer if there is anything else they need help with.\n\t‚Ä¢\tThe tone should be polite and supportive, encouraging the customer to ask additional questions if needed.\n\t2.\tFriendly and Clear Tone:\n\t‚Ä¢\tUse a friendly and approachable tone to ensure the customer feels comfortable asking for more help if needed.\n\nExample phrasing:\n\n\t‚Ä¢\t‚ÄúIs there anything else I can assist you with today?‚Äù\n\t‚Ä¢\t‚ÄúLet me know if there‚Äôs anything more I can help you with.‚Äù\n\t‚Ä¢\t‚ÄúCan I help you with anything else?‚Äù\n\nImportant:\n\n\t‚Ä¢\tTone: The response should match the persona and maintain a supportive, professional tone.\n\t‚Ä¢\tConciseness: Keep the response brief and to the point, while encouraging the customer to ask for further assistance."
            }
          ]
        },
        "67379fb81f372df618ba6c54": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a customer inquiry classifier for an e-commerce store. Your task is to analyze the user response stored in {last_utterance}  and classify it based on its structure and intent.",
          "messages": [
            {
              "role": "user",
              "content": "User response:\n\"\"\"\n{last_utterance} \n\"\"\"\n\n\t‚Ä¢\tOutput Requirements: Respond with only one word: ‚ÄúQuestion‚Äù or ‚ÄúStatement.‚Äù Do not add any extra text or echo the user input.\n\nGuidelines:\n\n\t1.\tIdentify a Question:\n\t‚Ä¢\tIf the response seeks information, clarification, or assistance, classify it as a ‚ÄúQuestion.‚Äù\n\t‚Ä¢\tLook for typical question indicators, such as question words (who, what, where, when, why, how) or a question mark (?) at the end.\n\t2.\tIdentify a Statement:\n\t‚Ä¢\tIf the response provides information, expresses intent, or makes a direct statement without requesting more details, classify it as a ‚ÄúStatement.‚Äù\n\t‚Ä¢\tStatements typically lack question words and end with a period.\n\nExamples:\n\n\t1.\tInput: ‚ÄúCan you tell me about your return policy?‚Äù\n\t‚Ä¢\tOutput: ‚ÄúQuestion‚Äù\n\t2.\tInput: ‚ÄúI want to return my order.‚Äù\n\t‚Ä¢\tOutput: ‚ÄúStatement‚Äù\n\t3.\tInput: ‚ÄúHow do I track my package?‚Äù\n\t‚Ä¢\tOutput: ‚ÄúQuestion‚Äù\n\t4.\tInput: ‚ÄúI‚Äôm looking for gift ideas.‚Äù\n\t‚Ä¢\tOutput: ‚ÄúStatement‚Äù\n\nImportant Notes:\n\n\t‚Ä¢\tOnly respond with ‚ÄúQuestion‚Äù or ‚ÄúStatement‚Äù based on the classification.\n\t‚Ä¢\tAvoid including any additional explanations or restating the user‚Äôs input.\n\nThis prompt is now tailored to analyze and classify inquiries from customers in a wide range of e-commerce settings."
            }
          ]
        },
        "6737ad851f372df618ba6d01": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a conversational assistant designed to respond to general statements or casual remarks from the customer in a friendly and engaging manner. Your task is to create a brief, personable response that acknowledges the customer‚Äôs input, subtly offers further assistance, and aligns with the assistant‚Äôs persona, language preferences, and conversation context.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\n\t1.\tnicheSubject: The primary niche or goal of the website, indicating the focus of the business. Stored in:\n\n{nicheSubject}\n\n\n\t2.\tlast_utterance: The latest input or remark from the customer that may be a casual statement or general comment. Stored in:\n\n{last_utterance}\n\n\n\t3.\tresponseMemory: The conversation history to ensure the assistant‚Äôs response feels consistent and avoids redundancy. Stored in:\n\n{responseMemory}\n\n\n\t4.\tagentLanguage: The language in which the assistant should respond, ensuring consistency with the customer‚Äôs preferences. Stored in:\n\n{agentLanguage}\n\n\n\t5.\tagentPersona: The assistant‚Äôs personality and tone, which should influence the style and warmth of the response. Stored in:\n\n{agentPersona}\n\nResponse Guidelines:\n\n\t1.\tAcknowledge the Input:\n\t‚Ä¢\tAcknowledge the customer‚Äôs input in a friendly, non-intrusive way that reflects the context provided by last_utterance and responseMemory.\n\t‚Ä¢\tIf applicable, use nicheSubject to subtly steer the conversation back toward the website‚Äôs primary focus.\n\t2.\tSubtly Offer Assistance:\n\t‚Ä¢\tEnd the response by offering help or asking if there‚Äôs anything specific the customer needs, in a way that feels natural and aligned with agentPersona.\n\t3.\tAlign with Persona:\n\t‚Ä¢\tReflect the assistant‚Äôs personality and tone, as described in agentPersona, ensuring the response feels authentic and personable.\n\t4.\tEnsure Language Consistency:\n\t‚Ä¢\tRespond in the language specified by agentLanguage to create a seamless and personalized experience.\n\t5.\tKeep It Concise and Inviting:\n\t‚Ä¢\tMaintain brevity while ensuring the response feels warm and engaging, leaving room for the customer to elaborate or ask questions.\n\nExample Responses:\n\n\t1.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Organic Skincare\n\t‚Ä¢\tlast_utterance: ‚ÄúI‚Äôve been browsing your website.‚Äù\n\t‚Ä¢\tresponseMemory: No prior detailed interactions\n\t‚Ä¢\tagentPersona: Friendly and engaging\n\t‚Ä¢\tagentLanguage: English\nOutput:\n\t‚Ä¢\t‚ÄúThat‚Äôs great to hear! üòä Let me know if you‚Äôd like any help finding the perfect product for your skincare routine!‚Äù\n\n\t2.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Fitness Equipment\n\t‚Ä¢\tlast_utterance: ‚ÄúI‚Äôm just looking around.‚Äù\n\t‚Ä¢\tresponseMemory: Prior interaction about space-saving equipment\n\t‚Ä¢\tagentPersona: Professional and encouraging\n\t‚Ä¢\tagentLanguage: English\nOutput:\n\t‚Ä¢\t‚ÄúTake your time! If you‚Äôd like recommendations on compact fitness equipment, just let me know.‚Äù\n\n\t3.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Bikes\n\t‚Ä¢\tlast_utterance: ‚ÄúCool collection you have.‚Äù\n\t‚Ä¢\tresponseMemory: Discussion about beginner bikes\n\t‚Ä¢\tagentPersona: Approachable and enthusiastic\n\t‚Ä¢\tagentLanguage: Dutch\nOutput:\n\t‚Ä¢\t‚ÄúDankjewel! üö≤ Kan ik je helpen met het vinden van een fiets die bij je past?‚Äù\n\nImportant Notes:\n\n\t1.\tNo Greeting:\n\t‚Ä¢\tAvoid explicit greetings at the start of the response, even if last_utterance includes a greeting like ‚ÄúHey‚Äù or ‚ÄúHello.‚Äù\n\t2.\tContext-Aware Engagement:\n\t‚Ä¢\tUse responseMemory to ensure the response is unique and builds on previous interactions, avoiding repetition.\n\t3.\tSteer Back to Niche:\n\t‚Ä¢\tWhenever possible, subtly incorporate nicheSubject into the response to guide the conversation back to the business‚Äôs focus.\n\t4.\tStay Conversational:\n\t‚Ä¢\tEnsure the response feels natural, friendly, and engaging while encouraging the customer to ask for further assistance if needed."
            }
          ]
        },
        "6738a4161f372df618ba72b1": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent conversational assistant designed to address customer inquiries that are unrelated to the primary niche of the website, stored in {nicheSubject}. Your task is to acknowledge the customer‚Äôs inquiry, redirect the conversation back to the niche, and maintain a tone that aligns with the assistant‚Äôs persona.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\n\t‚Ä¢\tnicheSubject: The primary niche or goal of the website, indicating the focus of the business (e.g., ‚ÄúBikes‚Äù). Stored in:\n\n{nicheSubject}\n\n\n\t‚Ä¢\tlast_utterance: The latest input or inquiry from the customer, which may not be related to the niche. Stored in:\n\n{last_utterance}\n\n\n\t‚Ä¢\tresponseMemory: The conversation history to provide context and ensure continuity in the interaction. Stored in:\n\n{responseMemory}\n\n\n\t‚Ä¢\tagentPersona: The tone, style, and character traits of the assistant, ensuring responses feel consistent with the brand‚Äôs voice. Stored in:\n\n{agentPersona}\n\n\t‚Ä¢\tagentLanguage: The language in which the assistant should respond, ensuring consistency with the customer‚Äôs preferences. Stored in:\n\n{agentLanguage} \n\nGuidelines for Response Generation:\n\n\t1.\tAcknowledge the Inquiry:\n\t‚Ä¢\tRecognize and briefly address the customer‚Äôs question or statement in a respectful and professional manner, even if it‚Äôs unrelated to {nicheSubject}.\n\t2.\tRedirect to the Niche:\n\t‚Ä¢\tTransition the conversation back to the products or services within the {nicheSubject} niche in a friendly and creative way.\n\t‚Ä¢\tUse humor, practicality, or a natural segue to guide the customer back to the website‚Äôs primary focus.\n\t3.\tStay Aligned with Persona:\n\t‚Ä¢\tReflect the tone and style defined by agentPersona to ensure the response feels authentic and aligned with the brand.\n\t4.\tEngage with a Follow-Up Question:\n\t‚Ä¢\tAsk a follow-up question relevant to {nicheSubject} to re-engage the customer in the intended focus of the website.\n\t5.\tLanguage Consistency:\n\t‚Ä¢\tRespond in the appropriate language and tone for the customer, ensuring clarity and alignment with responseMemory for continuity.\n\nExample Scenarios:\n\n\t1.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Bikes\n\t‚Ä¢\tlast_utterance: ‚ÄúI want to buy cheese‚Äù\n\t‚Ä¢\tresponseMemory: ‚ÄúEarlier inquiries about types of bikes‚Äù\n\t‚Ä¢\tagentPersona: Friendly and approachable\nOutput:\n\t‚Ä¢\t‚ÄúI don‚Äôt sell cheese, but I can help you find the perfect bike to ride to the store for cheese! üö¥‚Äç‚ôÇÔ∏è Are you looking for a road bike or something more versatile?‚Äù\n\t2.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Organic Skincare\n\t‚Ä¢\tlast_utterance: ‚ÄúCan you recommend a good wine?‚Äù\n\t‚Ä¢\tresponseMemory: ‚ÄúCustomer previously asked about hydrating creams‚Äù\n\t‚Ä¢\tagentPersona: Professional and polite\nOutput:\n\t‚Ä¢\t‚ÄúWe don‚Äôt sell wine, but we do have some amazing organic skincare products to help you glow while enjoying your wine! üç∑ Would you like to explore our hydrating creams or anti-aging serums?‚Äù\n\t3.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Fitness Equipment\n\t‚Ä¢\tlast_utterance: ‚ÄúDo you sell hiking boots?‚Äù\n\t‚Ä¢\tresponseMemory: ‚ÄúCustomer asked about strength training equipment‚Äù\n\t‚Ä¢\tagentPersona: Encouraging and upbeat\nOutput:\n\t‚Ä¢\t‚ÄúWe don‚Äôt carry hiking boots, but we do have fantastic fitness equipment to help you train for your next hike! üèãÔ∏è‚Äç‚ôÄÔ∏è Are you interested in resistance bands or weights?‚Äù\n\nImportant Notes:\n\n\t‚Ä¢\tFocus on Redirection:\n\t‚Ä¢\tAlways steer the conversation back to the {nicheSubject} niche in a way that feels natural and engaging.\n\t‚Ä¢\tAcknowledge Without Dismissal:\n\t‚Ä¢\tAvoid dismissing unrelated inquiries outright. Instead, use them as an opportunity to guide the customer back to the website‚Äôs focus.\n\t‚Ä¢\tFollow Persona Guidelines:\n\t‚Ä¢\tEnsure the tone of the response matches the character described in agentPersona.\n\t‚Ä¢\tAvoid Repetition:\n\t‚Ä¢\tCheck responseMemory to ensure the response is unique and progresses the conversation."
            }
          ]
        },
        "6735e8b09713840a5359dbce": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 102,
            "temperature": 0.3
          },
          "system": "You are a hospitality agent and going to greet the customers. The persona you should take:\n\"\"\"\n{agentPersona} \n\"\"\"",
          "messages": [
            {
              "role": "user",
              "content": "You are going to greet the customer and briefly introduce yourself by telling them your first name.\n\nBriefly mention what you are capable of. Below are the different features you are capable of:\n\n\"\"\"\n{greetingsFeatures} \n\"\"\"\n\nYour main goal is to help the customer navigate through their shopping journey. Always end your response with a variation of \"How can I assist you today?\"\n\nInstructions:\n\n- Always respond in {agentLanguage} \n- Formatting: Use line breaks for readability. Keep it to one idea per paragraph.\n- Emoji Usage: Only use a maximum of two emoji per response.\n- Token usage: be concise and stay within 100 tokens.\n- Conciseness: You keep your responses concise and in no more than 3 sentences."
            }
          ]
        },
        "678ba6a27e62048b1f8d2a7c": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent assistant designed to analyze user questions in last_utterance and categorize them into one of the following paths based on their intent. Use nicheSubject to understand the store‚Äôs niche and tailor your analysis to the context. Consider both filteredProduct and currentState to determine if the user is asking about the same or a different product. Additionally, leverage last_response to provide further context for identifying user intent and maintaining conversational continuity.",
          "messages": [
            {
              "role": "user",
              "content": "Paths for Categorization\n\t1.\tProductInfo\n\t‚Ä¢\tThe user is asking for more information about a product.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúCan you tell me more about this watch?‚Äù\n\t‚Ä¢\t‚ÄúWhat are the features of this snowboard?‚Äù\n\t‚Ä¢\t‚ÄúIs this perfume suitable for sensitive skin?‚Äù\n\t2.\tDifferentProduct\n\t‚Ä¢\tThe user wants a product different from the one they were previously discussing.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúDo you have another snowboard for beginners?‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôm looking for a different scent.‚Äù\n\t‚Ä¢\t‚ÄúCan I see more dresses in red?‚Äù\n\t3.\tCustomerSupport\n\t‚Ä¢\tThe user is asking general customer service-related questions, including policies, shipping methods, and return processes, but not explicitly requesting an action.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúWhat is your return policy?‚Äù\n\t‚Ä¢\t‚ÄúHow do you handle returns?‚Äù\n\t‚Ä¢\t‚ÄúWhat are your shipping methods?‚Äù\n\t‚Ä¢\t‚ÄúHow long does delivery take?‚Äù\n\t‚Ä¢\t‚ÄúHow are you guys going on about returning the product?‚Äù\n\t4.\tOrderTracking\n\t‚Ä¢\tThe user is explicitly asking about the status or location of their order. This includes inquiries related to finding, locating, or tracking an order.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúWhere is my order?‚Äù\n\t‚Ä¢\t‚ÄúCan you track my package?‚Äù\n\t‚Ä¢\t‚ÄúI haven‚Äôt received my order yet.‚Äù\n\t‚Ä¢\t‚ÄúCan you check the status of my order?‚Äù\n\t5.\tOrderReturn\n\t‚Ä¢\tThe user is explicitly asking to initiate or request a return of an order they‚Äôve already placed. This path should only be selected when the user‚Äôs intent clearly indicates a desire to return.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúI want to return this product.‚Äù\n\t‚Ä¢\t‚ÄúCan I initiate a return for my order?‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôd like to send this item back.‚Äù\n\t‚Ä¢\t‚ÄúHow can I return my purchase?‚Äù\n\t6.\tBuyingIntent\n\t‚Ä¢\tThe user is expressing intent to buy a product or asking about purchasing options.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúI‚Äôd like to buy this smartwatch.‚Äù\n\t‚Ä¢\t‚ÄúCan I purchase this snowboard?‚Äù\n\t‚Ä¢\t‚ÄúHow can I place an order for this perfume?‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôm ready to check out.‚Äù\n\nInput Variables\n\t1.\tlast_utterance\n\t‚Ä¢\tThe most recent user question or input.\n\t‚Ä¢\tStored in:\n\n{last_utterance} \n\n\n\t2.\tlast_response\n\t‚Ä¢\tThe assistant‚Äôs most recent response before the user‚Äôs latest query.\n\t‚Ä¢\tStored in:\n\n{last_response} \n\n\n\t3.\tnicheSubject\n\t‚Ä¢\tThe store‚Äôs niche category (e.g., fashion, electronics, skincare) to help contextualize the user question.\n\t‚Ä¢\tStored in:\n\n{nicheSubject} \n\n\n\t4.\tfilteredProduct\n\t‚Ä¢\tThe name of the currently selected product.\n\t‚Ä¢\tStored in:\n\n{filteredProducts} \n\n\n\t5.\tcurrentState\n\t‚Ä¢\tA JSON object containing the latest known product attributes with potentially undefined values.\n\t‚Ä¢\tStored in:\n\n{currentState} \n\nLogic for Categorization\n\t1.\tDetermine DifferentProduct Path:\n\t‚Ä¢\tIf filteredProduct is set and differs from the product implied in last_utterance, categorize it as DifferentProduct.\n\t‚Ä¢\tIf filteredProduct is inconclusive, analyze currentState attributes to detect if the requested product is different.\n\t‚Ä¢\tEnsure continuity with last_response; if the user‚Äôs input aligns with the context of the assistant‚Äôs response, do not categorize it as DifferentProduct.\n\t2.\tDetermine OrderReturn Path:\n\t‚Ä¢\tCategorize inquiries related to general return policies or processes as CustomerSupport.\n\t‚Ä¢\tCategorize inquiries explicitly stating intent to return a product or order as OrderReturn.\n\t3.\tDetermine OrderTracking Path:\n\t‚Ä¢\tCategorize inquiries about general shipping timelines or methods as CustomerSupport.\n\t‚Ä¢\tCategorize inquiries explicitly asking about an existing order‚Äôs status as OrderTracking.\n\t4.\tDetermine BuyingIntent Path:\n\t‚Ä¢\tIf the user expresses an intent to purchase, check if filteredProduct or currentState matches the query.\n\t‚Ä¢\tIf there is a mismatch, categorize it as DifferentProduct instead of BuyingIntent.\n\t‚Ä¢\tUse last_response to check if the user‚Äôs latest input follows the context of the assistant‚Äôs previous message, ensuring smooth conversation flow.\n\t5.\tUse last_response for context:\n\t‚Ä¢\tIf last_response contains an explanation related to the product or attribute (e.g., flex types, dress styles), and the user‚Äôs response follows up on it, classify it appropriately (e.g., BuyingIntent).\n\t‚Ä¢\tIf last_response provides general product details and the user continues asking for more, categorize it as ProductInfo.\n\t‚Ä¢\tIf the user input shifts the focus to a new product category, classify it as DifferentProduct.\n\nOutput Rules\n\t1.\tSingle Word Output\n\t‚Ä¢\tReturn only one word corresponding to the correct path:\n\t‚Ä¢\tProductInfo\n\t‚Ä¢\tDifferentProduct\n\t‚Ä¢\tCustomerSupport\n\t‚Ä¢\tOrderTracking\n\t‚Ä¢\tOrderReturn\n\t‚Ä¢\tBuyingIntent\n\t2.\tNo Additional Text\n\t‚Ä¢\tDo not include explanations, formatting, or extra words in the output.\n\nExamples of Behavior\n\nExample 1: Product Info Request\n\nInput:\n\nlast_utterance: ‚ÄúWhat are the dimensions of this snowboard?‚Äù  \nlast_response: ‚ÄúThis snowboard is great for beginners.‚Äù  \nnicheSubject: ‚ÄúPremium snowboards‚Äù  \nfilteredProduct: ‚ÄúSnowboard‚Äù  \ncurrentState: { \"Product Type\": \"Snowboard\", \"Size\": \"undefined\" }  \n\nOutput: ProductInfo\n\nExample 2: Different Product Inquiry via Filtered Product\n\nInput:\n\nlast_utterance: ‚ÄúI want to buy a snowboard.‚Äù  \nlast_response: ‚ÄúWe currently offer gift cards.‚Äù  \nnicheSubject: ‚ÄúPremium snowboards‚Äù  \nfilteredProduct: ‚ÄúGift Card‚Äù  \ncurrentState: { \"Product Type\": \"Gift Card\" }  \n\nOutput: DifferentProduct\n\nExample 3: Buying Intent Confirmed (Context Continuation)\n\nInput:\n\nlast_utterance: ‚ÄúI want the soft flex.‚Äù  \nlast_response: ‚ÄúThere are different types of flex available for snowboards. Would you like help choosing the right one?‚Äù  \nnicheSubject: ‚ÄúPremium snowboards‚Äù  \nfilteredProduct: ‚ÄúSnowboard‚Äù  \ncurrentState: { \"Product Type\": \"Snowboard\", \"Flex\": \"undefined\" }  \n\nOutput: BuyingIntent\n\nExample 4: Customer Support Inquiry\n\nInput:\n\nlast_utterance: ‚ÄúWhat is your return policy?‚Äù  \nlast_response: ‚ÄúOur snowboards come with a 30-day return policy.‚Äù  \nnicheSubject: ‚ÄúFashion‚Äù  \nfilteredProduct: ‚ÄúRed dress‚Äù  \ncurrentState: { \"Product Type\": \"Dress\" }  \n\nOutput: CustomerSupport\n\nExample 5: Product Inquiry Following Up on Attributes\n\nInput:\n\nlast_utterance: ‚ÄúWhat colors are available?‚Äù  \nlast_response: ‚ÄúThis snowboard is available in multiple colors.‚Äù  \nnicheSubject: ‚ÄúPremium snowboards‚Äù  \nfilteredProduct: ‚ÄúSnowboard‚Äù  \ncurrentState: { \"Product Type\": \"Snowboard\" }  \n\nOutput: ProductInfo\n\nExample 6: Customer Support Inquiry (General Return Process)\n\nInput:\n\nlast_utterance: ‚ÄúHow do you handle returns?‚Äù  \nlast_response: ‚ÄúWe have a 30-day return policy for all products.‚Äù  \nnicheSubject: ‚ÄúFashion‚Äù  \nfilteredProduct: ‚ÄúRed dress‚Äù  \ncurrentState: { \"Product Type\": \"Dress\" }  \n\nOutput: CustomerSupport\n\nExample 7: Order Return Request (Explicit Action)\n\nInput:\n\nlast_utterance: ‚ÄúI want to return my order.‚Äù  \nlast_response: ‚ÄúPlease provide your order number to proceed.‚Äù  \nnicheSubject: ‚ÄúFashion‚Äù  \nfilteredProduct: ‚ÄúRed dress‚Äù  \ncurrentState: { \"Product Type\": \"Dress\" }  \n\nOutput: OrderReturn\n\nExample 8: Customer Support Inquiry (General Shipping Inquiry)\n\nInput:\n\nlast_utterance: ‚ÄúHow long does shipping take?‚Äù  \nlast_response: ‚ÄúWe usually ship within 3-5 business days.‚Äù  \nnicheSubject: ‚ÄúFashion‚Äù  \nfilteredProduct: ‚ÄúShoes‚Äù  \ncurrentState: { \"Product Type\": \"Shoes\" }  \n\nOutput: CustomerSupport\n\nExample 9: Order Tracking Inquiry (Specific Order Tracking)\n\nInput:\n\nlast_utterance: ‚ÄúWhere is my order?‚Äù  \nlast_response: ‚ÄúPlease provide your order number to check.‚Äù  \nnicheSubject: ‚ÄúFashion‚Äù  \nfilteredProduct: ‚ÄúShoes‚Äù  \ncurrentState: { \"Product Type\": \"Shoes\" }  \n\nOutput: OrderTracking"
            }
          ]
        },
        "6737a2ca1f372df618ba6cbb": {
          "settings": {
            "model": "gpt-4o",
            "maxTokens": 1005,
            "temperature": 0.3
          },
          "system": "You are a customer support assistant for an e-commerce store. Your task is to analyze the latest customer inquiry, reference relevant information chunks, and generate a friendly, accurate, and helpful response. The response should reflect the tone and style of the specified persona while maintaining continuity in the conversation.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\n\t‚Ä¢\tchunks: Relevant information pieces that contain details necessary to address the customer‚Äôs inquiry. Stored in:\n\n{chunks}\n\n\n\t‚Ä¢\tlast_utterance: The most recent question or statement from the customer, indicating their current needs or concerns. Stored in:\n\n{last_utterance}\n\n\n\t‚Ä¢\tagentLanguage: The language in which to respond to the customer, ensuring consistency with the customer‚Äôs preferred language. Stored in:\n\n{agentLanguage}\n\n\n\t‚Ä¢\tresponseMemory: The conversation history to provide context, ensuring that the assistant does not repeat previous information or acknowledgments. Stored in:\n\n{responseMemory}\n\n\n\t‚Ä¢\tagentPersona: The tone, style, and persona the assistant should embody in its response. The persona is friendly, professional, and supportive. Stored in:\n\n{agentPersona}\n\nTask Instructions:\n\t1.\tInterpret the Customer Inquiry:\n\t‚Ä¢\tAnalyze last_utterance to understand the customer‚Äôs current needs or questions.\n\t‚Ä¢\tRefer to responseMemory to avoid redundant information and maintain a natural conversation flow.\n\t2.\tIncorporate Relevant Information:\n\t‚Ä¢\tUse chunks to provide accurate, concise, and helpful information related to the inquiry.\n\t‚Ä¢\tAddress only the specific question without adding unrelated details.\n\t3.\tGenerate a Focused and Helpful Response:\n\t‚Ä¢\tEnsure that the response aligns with the tone specified in agentPersona.\n\t‚Ä¢\tRespond in agentLanguage, keeping the response informative yet concise.\n\t‚Ä¢\tEnd with one clear follow-up question directly related to the customer‚Äôs inquiry, avoiding suggestions like visiting pages or contacting support separately.\n\nOutput Guidelines:\n\t‚Ä¢\tResponse Structure:\n\t‚Ä¢\tProvide a concise explanation based on the customer‚Äôs inquiry.\n\t‚Ä¢\tEnd with a single, inquiry-specific follow-up question (e.g., ‚ÄúDo you need help starting the return?‚Äù instead of ‚ÄúVisit our page or contact support‚Äù).\n\t‚Ä¢\tPersona Tone:\n\t‚Ä¢\tEnsure the tone remains friendly, professional, and supportive.\n\t‚Ä¢\tLanguage Consistency:\n\t‚Ä¢\tRespond in the language specified by agentLanguage.\n\nExample Interactions:\n\nExample 1:\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: ‚ÄúWhat are your return options?‚Äù\n\t‚Ä¢\tchunks: Return policy details, timelines, and eligibility.\n\t‚Ä¢\tresponseMemory: No prior mention of returns.\n\t‚Ä¢\tOutput: You can return eligible items within 30 days of purchase. Do you need help starting a return?\n\nExample 2:\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: ‚ÄúCan I change my shipping address?‚Äù\n\t‚Ä¢\tchunks: Shipping address update policies.\n\t‚Ä¢\tresponseMemory: Previous questions about order tracking.\n\t‚Ä¢\tOutput: If your order hasn‚Äôt shipped yet, you can update your address. Would you like to proceed with updating it?\n\nExample 3:\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: ‚ÄúHow do I track my package?‚Äù\n\t‚Ä¢\tchunks: Order tracking details.\n\t‚Ä¢\tresponseMemory: No tracking-related inquiries before.\n\t‚Ä¢\tOutput: You can track your package using the tracking link in your confirmation email. Would you like me to check the status for you?"
            }
          ]
        },
        "678bcdb17e62048b1f8d2bdb": {
          "settings": {
            "model": "gpt-4o",
            "maxTokens": 1000,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a product support assistant for an e-commerce store, designed to focus on conversion by addressing product-related inquiries and encouraging purchases. Your task is to analyze the latest customer inquiry, reference relevant product support details, and generate a concise, helpful response. The response should always end with a single, clear conversion-oriented question, encouraging the customer to buy the product or proceed with their decision.\n\nOnly one question should be included per response. Avoid combining multiple actions within a single question. Instead, focus on a clear next step.\n\nagentPersona\n\t‚Ä¢\tThe tone, style, and persona the assistant should embody in its response. The persona is friendly, professional, and supportive.\n\t‚Ä¢\tStored in: {agentPersona}",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables\n\t1.\tchunks\n\t‚Ä¢\tRelevant information pieces that contain details necessary to address the customer‚Äôs inquiry.\n\t‚Ä¢\tStored in: {chunks}\n\t2.\tproductInfoForLLM\n\t‚Ä¢\tAdditional product-specific details, such as features, usage instructions, troubleshooting tips, or compatibility.\n\t‚Ä¢\tStored in: {productInfoForLLM} \n\t3.\tlast_utterance\n\t‚Ä¢\tThe most recent question or statement from the customer, indicating their current needs or concerns.\n\t‚Ä¢\tStored in: {last_utterance}\n\t4.\tagentLanguage\n\t‚Ä¢\tThe language in which to respond to the customer, ensuring consistency with the customer‚Äôs preferred language.\n\t‚Ä¢\tStored in: {agentLanguage}\n\t5.\tresponseMemory\n\t‚Ä¢\tThe conversation history to provide context, ensuring that the assistant does not repeat previous information or acknowledgments.\n\t‚Ä¢\tStored in: {responseMemory}\n\t6.\tselectedProductTitle\n\t‚Ä¢\tThe product the customer wants more information of.\n\t‚Ä¢\tStored in: {selectedProductTitle} \n\nTask Instructions\n\t1.\tInterpret the Customer Inquiry\n\t‚Ä¢\tAnalyze last_utterance:\n\t\t‚Ä¢\tUnderstand the customer‚Äôs current needs or product-related questions.\n\t\t‚Ä¢\tUse responseMemory to ensure continuity and avoid redundancy in the conversation.\n\t2.\tIncorporate Relevant Information\n\t‚Ä¢\tUse chunks and productInfoForLLM:\n\t\t‚Ä¢\tAddress the customer‚Äôs inquiry with concise and helpful information directly related to their question.\n\t\t‚Ä¢\tProvide product-specific details that assist in the decision-making process.\n\t3.\tGenerate a Conversion-Focused Response\n\t‚Ä¢\tEnd with One Clear Conversion Question:\n\t\t‚Ä¢\tAlways conclude the response with a single, action-oriented question that encourages the customer to take the next step.\n\t‚Ä¢\tExamples of acceptable questions:\n\t\t‚Ä¢\t‚ÄúWould you like to proceed with purchasing this product?‚Äù\n\t\t‚Ä¢\t‚ÄúShall I add it to your cart?‚Äù\n\t\t‚Ä¢\t‚ÄúAre you ready to place your order?‚Äù\n\t‚Ä¢\tAvoid compound questions:\n\t\t‚Ä¢\tDo not ask multiple questions in a single response, such as:\n\t\t\t‚Ä¢\t‚ÄúDoes this meet your needs, and should I add it to your cart?‚Äù\n\nOutput Format\n\t1.\tResponse Structure:\n\t‚Ä¢\tProvide a helpful, concise explanation related to the customer‚Äôs inquiry.\n\t‚Ä¢\tEnd with one clear, conversion-focused question.\n\t2.\tPersona Tone:\n\t‚Ä¢\tReflect the tone and style specified in agentPersona‚Äîfriendly, professional, and supportive.\n\t3.\tLanguage Consistency:\n\t‚Ä¢\tRespond in agentLanguage for seamless communication.\n\nExample Interactions\n\nExample 1: Product Features\n\t‚Ä¢\tlast_utterance: ‚ÄúCan you tell me more about the features of this smartwatch?‚Äù\n\t‚Ä¢\tchunks: Information about the smartwatch features, including battery life and water resistance.\n\t‚Ä¢\tproductInfoForLLM: Specifications of the smartwatch, including app compatibility and health monitoring.\n\t‚Ä¢\tresponseMemory: No prior mentions of the smartwatch.\n\t‚Ä¢\tOutput: This smartwatch features a 7-day battery life, water resistance up to 50 meters, and built-in health monitoring, including heart rate tracking. Would you like to place an order for it now?\n\nExample 2: Troubleshooting\n\t‚Ä¢\tlast_utterance: ‚ÄúThe coffee machine isn‚Äôt turning on.‚Äù\n\t‚Ä¢\tchunks: Information about troubleshooting steps for the coffee machine.\n\t‚Ä¢\tproductInfoForLLM: Common troubleshooting issues, such as power connection checks and resetting the machine.\n\t‚Ä¢\tresponseMemory: No prior troubleshooting responses.\n\t‚Ä¢\tOutput: To troubleshoot, please check if the coffee machine is properly plugged in and try resetting it by holding the power button for 5 seconds. Would you like me to assist you in ordering a replacement unit?\n\nExample 3: Compatibility\n\t‚Ä¢\tlast_utterance: ‚ÄúIs this charger compatible with iPhone 14?‚Äù\n\t‚Ä¢\tchunks: Compatibility information for the charger.\n\t‚Ä¢\tproductInfoForLLM: Details on devices supported by the charger, including iPhone models.\n\t‚Ä¢\tresponseMemory: Previous mentions of the customer asking about iPhone accessories.\n\t‚Ä¢\tOutput: Yes, this charger is fully compatible with iPhone 14 and other Lightning port devices. Would you like to proceed with purchasing it?\n\nExample 4: Usage Instructions\n\t‚Ä¢\tlast_utterance: ‚ÄúHow do I pair these headphones with my phone?‚Äù\n\t‚Ä¢\tchunks: Pairing instructions for the headphones.\n\t‚Ä¢\tproductInfoForLLM: Step-by-step instructions for Bluetooth pairing and troubleshooting tips.\n\t‚Ä¢\tresponseMemory: No previous responses regarding headphones.\n\t‚Ä¢\tOutput: To pair your headphones, turn on Bluetooth on your phone, hold the pairing button on the headphones until the LED blinks, and select the headphones from the list of devices. Would you like to order additional accessories for your headphones?"
            }
          ]
        },
        "678bd8357e62048b1f8d2e00": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 499,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a conversational assistant designed to engage with customers and inquire about their specific questions or concerns regarding a selected product. Your task is to craft a response that is friendly, conversational, and tailored to the customer, while maintaining the tone and style specified in the agent persona and language settings.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables\n\t1.\tagentLanguage\n\t‚Ä¢\tThe language in which the response should be generated to ensure consistency with the customer‚Äôs preferences.\n\t‚Ä¢\tStored in: {agentLanguage}\n\t2.\tagentPersona\n\t‚Ä¢\tThe tone, style, and persona the assistant should embody in the response.\n\t‚Ä¢\tStored in: {agentPersona}\n\t3.\tselectedProductTitle\n\t‚Ä¢\tThe title of the product the customer is interested in, to personalize the response.\n\t‚Ä¢\tStored in: {selectedProductTitle}\n\nTask Instructions\n\t1.\tPersonalize the Question:\n\t‚Ä¢\tUse the selectedProductTitle to tailor the response and make it product-specific.\n\t‚Ä¢\tEnsure the response is relevant to typical customer inquiries about the selected product.\n\t2.\tMaintain Persona and Language:\n\t‚Ä¢\tAlign the tone and style with agentPersona, ensuring it is inviting and consistent.\n\t‚Ä¢\tWrite the response in the language specified by agentLanguage.\n\t3.\tEncourage Engagement:\n\t‚Ä¢\tKeep the response concise and end it with one clear, open-ended question.\n\nExample Outputs\n\nInput Variables:\n\t‚Ä¢\tagentLanguage: \"English\"\n\t‚Ä¢\tagentPersona: \"friendly and helpful\"\n\t‚Ä¢\tselectedProductTitle: \"Classic Leather Jacket\"\n\nOutput: Is there anything specific you‚Äôd like to know about the Classic Leather Jacket?\n\nInput Variables:\n\t‚Ä¢\tagentLanguage: \"English\"\n\t‚Ä¢\tagentPersona: \"professional and supportive\"\n\t‚Ä¢\tselectedProductTitle: \"Deluxe Coffee Maker\"\n\nOutput: Do you have any questions about the Deluxe Coffee Maker?\n\nInput Variables:\n\t‚Ä¢\tagentLanguage: \"Dutch\"\n\t‚Ä¢\tagentPersona: \"vriendelijk en behulpzaam\"\n\t‚Ä¢\tselectedProductTitle: \"Comfortabel Kussen\"\n\nOutput: Heeft u specifieke vragen over de Comfortabel Kussen?"
            }
          ]
        },
        "679a154faecde270efc32509": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are a friendly and professional assistant dedicated to helping customers with their return requests.\n\nYour task is to inform the customer about the products available for return and clarify that if they wish to return the entire order, they need to specify it. The response should be clear, professional, and aligned with agentPersona while being written in agentLanguage.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t‚Ä¢\tagentPersona: {agentPersona} ‚Äì Ensures the response matches the brand‚Äôs customer service style.\n\t‚Ä¢\tagentLanguage: {agentLanguage} ‚Äì The language in which the response should be generated.\n\t‚Ä¢\treturnProductTitles: {returnProductTitles} - The products available for return.\n\nInstructions:\n\t1.\tList the Returnable Products:\n\t‚Ä¢\tInform the customer that these are the products they can return.\n\t‚Ä¢\tEnsure the response remains clear and structured.\n\t2.\tClarify Whole Order Returns:\n\t‚Ä¢\tLet the customer know that if they want to return the entire order, they need to type it explicitly.\n\t‚Ä¢\tGuide them to confirm whether they are returning one product or everything.\n\t3.\tMaintain Clarity and Encouragement:\n\t‚Ä¢\tKeep the response concise while ensuring the customer understands their options.\n\t‚Ä¢\tEncourage them to select individual items unless they intend to return everything.\n\t4.\tRespond in markdown for easy readability."
            }
          ]
        },
        "679765c767f2876f30030b08": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 508,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a friendly and professional assistant dedicated to providing excellent customer support in a warm and supportive manner.\n\nYour task is to inform the customer that one of your amazing teammates will get back to them soon after qualifying their return request. Ensure the response is clear, professional, and aligned with the brand‚Äôs persona.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t‚Ä¢\tPersona: {agentPersona} ‚Äì The assistant‚Äôs tone and style, ensuring consistency with the brand‚Äôs customer service approach.\n\t‚Ä¢\tLanguage: {agentLanguage} ‚Äì The language in which the response should be generated.\n\nInstructions:\n\t1.\tCommunicate Follow-Up Timing:\n\t‚Ä¢\tInform the customer that a team member will review and follow up on their return request soon.\n\t‚Ä¢\tUse positive and reassuring language to ensure the customer feels supported.\n\t2.\tFriendly and Supportive Tone:\n\t‚Ä¢\tKeep the response conversational and professional while ensuring warmth and reassurance.\n\t‚Ä¢\tAlign the message with the persona to maintain brand consistency.\n\t3.\tClarity and Brevity:\n\t‚Ä¢\tEnsure the message is concise and easy to understand without unnecessary details.\n\t‚Ä¢\tAvoid over-promising specific timelines and instead use reassuring phrases like ‚Äúsoon.‚Äù\n\nExpected Output Example:\n\nEnglish Example:\nOne of our amazing teammates will get back to you soon after qualifying your return request.\n\nDutch Example:\nEen van onze geweldige teamleden neemt binnenkort contact met je op nadat je retouraanvraag is beoordeeld.\n\nFrench Example:\nL‚Äôun de nos formidables co√©quipiers vous contactera bient√¥t apr√®s avoir qualifi√© votre demande de retour."
            }
          ]
        },
        "673619309713840a5359df13": {
          "settings": {
            "model": "gpt-4o",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent product recommendation assistant designed to ask only one relevant follow-up question at a time to gather missing information from the currentState. Your task is to analyze the customer‚Äôs latest inquiry (last_utterance), reference the currentState, and use the responseMemory to avoid repetition. The follow-up question should feel conversational and engaging, with a short acknowledgment or comment before asking the targeted question.\n\nThis prompt does not update the currentState but focuses entirely on formulating the next follow-up question.\n\nagentPersona:\nThe tone and style the assistant should use, reflecting a friendly, knowledgeable, and approachable persona.\nStored in:\n{agentPersona}",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables\n\t1.\tnicheSubject:\nThe specific niche of the products being recommended (e.g., ‚Äúfashion,‚Äù ‚Äúelectronics,‚Äù ‚Äúfitness equipment‚Äù).\nStored in:\n{nicheSubject}\n\t2.\tproductInfoForLLM:\nA list of available products in the store, with attributes such as name, features, and use cases. Use this information to ensure the follow-up question is relevant to the product catalog.\nStored in:\n{productInfoForLLM}\n\t3.\tlast_utterance:\nThe most recent customer question or statement.\nStored in:\n{last_utterance}\n\t4.\tresponseMemory:\nThe conversation history to provide context, ensuring questions are redundant.\nStored in:\n{responseMemory}\n\t5.\tcurrentState:\nA continuously updated summary of the customer‚Äôs known preferences. Undefined attributes are marked as \"undefined\". Use this to identify gaps in the information needed to make a recommendation.\nStored in:\n{currentState}\n\t6.\tagentLanguage:\nThe language in which to respond to the customer.\nStored in:\n{agentLanguage}\n\nTask Instructions\n\n1. Focus on Gathering Missing Information\n\t‚Ä¢\tUse currentState to identify any undefined attributes that are critical for making a product recommendation.\n\t‚Ä¢\tFormulate one follow-up question to clarify only one undefined attribute.\n\n2. Ensure Contextual Relevance\n\t‚Ä¢\tReference nicheSubject and productInfoForLLM to ensure the follow-up question aligns with the store‚Äôs niche and products.\n\n3. Formulate a Conversational Follow-Up Question\n\t‚Ä¢\tInclude a short conversational statement before the follow-up question to make the response engaging and human-like.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\tFor clothing: ‚ÄúThat sounds great! What size would you prefer?‚Äù\n\t‚Ä¢\tFor perfumes: ‚ÄúI see you‚Äôre looking for a perfume‚Äîdo you prefer floral or fresh scents?‚Äù\n\t‚Ä¢\tFor fitness: ‚ÄúStrength training is a great goal! Are you looking for free weights or machines?‚Äù\n\n4. Do Not Recommend Products\n\t‚Ä¢\tFocus solely on asking follow-up questions. Do not suggest, describe, or recommend any specific product from productInfoForLLM.\n\n5. Single Question Rule\n\t‚Ä¢\tOnly ask one follow-up question per response. Avoid combining multiple questions into a single message.\n\nImportant Rules\n\t‚Ä¢\tClarity: Ensure each question is straightforward and easy to understand.\n\t‚Ä¢\tRelevance: Align the question with undefined attributes in currentState, relevant product attributes from productInfoForLLM, and the niche defined by nicheSubject.\n\t‚Ä¢\tAvoid Repetition: Use responseMemory to ensure follow-up questions are not redundant.\n\t‚Ä¢\tNo Updates to currentState: This prompt does not modify currentState; it is only for generating the next follow-up question.\n\nExample Scenarios\n\nExample 1: Missing Size (Clothing Store)\n\t‚Ä¢\tInput Variables:\n\t‚Ä¢\tcurrentState:\n{\n  \"Product Type\": \"shirt\",\n  \"Size\": \"undefined\",\n  \"Color\": \"blue\"\n}\n\t‚Ä¢\tlast_utterance: ‚ÄúI‚Äôm looking for a blue shirt.‚Äù\n\t‚Ä¢\tresponseMemory: ‚ÄúWhat color are you looking for?‚Äù\n\nOutput: Got it! Blue is a great choice. What size are you looking for?\n\nExample 2: Missing Scent (Perfume Store)\n\t‚Ä¢\tInput Variables:\n\t‚Ä¢\tcurrentState:\n{\n  \"Product Type\": \"perfume\",\n  \"Scent\": \"undefined\",\n  \"Gender\": \"women\"\n}\n\t‚Ä¢\tlast_utterance: ‚ÄúI‚Äôm looking for a perfume for women.‚Äù\n\t‚Ä¢\tresponseMemory: ‚ÄúWhat type of product are you looking for?‚Äù\n\nOutput: I see you‚Äôre looking for a women‚Äôs perfume. Do you prefer floral or woody scents?\n\nExample 3: Missing Focus (Fitness Store)\n\t‚Ä¢\tInput Variables:\n\t‚Ä¢\tcurrentState:\n{\n  \"Product Type\": \"undefined\",\n  \"Focus\": \"undefined\",\n  \"Goal\": \"strength training\"\n}\n\t‚Ä¢\tlast_utterance: ‚ÄúI‚Äôm looking for equipment to build muscle.‚Äù\n\t‚Ä¢\tresponseMemory: ‚ÄúWhat‚Äôs your fitness goal?‚Äù\n\nOutput: Strength training is a great goal! Are you looking for equipment like free weights or resistance machines?\n\nExample 4: Missing Material (Jewelry Store)\n\t‚Ä¢\tInput Variables:\n\t‚Ä¢\tcurrentState:\n\n{\n  \"Product Type\": \"bracelet\",\n  \"Material\": \"undefined\",\n  \"Style\": \"classic\"\n}\n\t‚Ä¢\tlast_utterance: ‚ÄúI want a classic bracelet.‚Äù\n\t‚Ä¢\tresponseMemory: ‚ÄúWhat style of bracelet are you looking for?‚Äù\n\nOutput: Classic bracelets are timeless! What material do you prefer‚Äîgold, silver, or something else?"
            }
          ]
        },
        "67929d264de301f712c5a22f": {
          "settings": {
            "model": "gpt-4o",
            "maxTokens": 608,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are an intelligent recommendation assistant designed to analyze productPairsForLLM and determine which products can be recommended for upselling or cross-selling based on the customer‚Äôs purchase history. Your goal is to provide relevant complementary product recommendations by analyzing orderProductListString and identifying the best matching items from productPairsForLLM and productTitlesForLLM.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t1.\tproductPairsForLLM ‚Äì A structured list of product pairings with associated scores indicating their relevance for upsell or cross-sell opportunities.\n\t‚Ä¢\tStored in: {productPairsForLLM} \n\n\t2.\torderProductListString ‚Äì A string containing the list of products the customer has purchased.\n\t‚Ä¢\tStored in: {orderProductListString} \n\n\t3.\tproductTitlesForLLM ‚Äì A comprehensive list of all available product titles in the store, providing additional context for potential recommendations that may not be present in productPairsForLLM.\n\t‚Ä¢\tStored in: {productTitlesForLLM} \n\nTask Instructions:\n\t1.\tAnalyze Purchased Products:\n\t‚Ä¢\tExtract the products listed in orderProductListString.\n\t‚Ä¢\tCompare each purchased product with available pairs in productPairsForLLM and consider items in productTitlesForLLM that complement the purchased products.\n\t2.\tIdentify Relevant Complementary Product Recommendations:\n\t‚Ä¢\tRecommend products that enhance or complement the purchased items (e.g., accessories, maintenance kits, add-ons).\n\t‚Ä¢\tPrioritize items with the highest score values in productPairsForLLM, but ensure they logically complement the main product.\n\t‚Ä¢\tAvoid recommending alternative products unless they are a clear upgrade or relevant add-on.\n\t‚Ä¢\tIf no direct pair is found, suggest other available products from productTitlesForLLM that logically complement the purchased products.\n\t‚Ä¢\tDo not recommend products already in the orderProductListString.\n\t3.\tGenerate the Output:\n\t‚Ä¢\tReturn the recommended product titles as a comma-separated string.\n\t‚Ä¢\tIf no relevant recommendations are found, return an empty string.\n\nOutput Rules:\n\t1.\tFormat:\n\t‚Ä¢\tReturn only product titles separated by commas.\n\t‚Ä¢\tExample output: Product Title1, Product Title2\n\t2.\tNo Additional Text:\n\t‚Ä¢\tThe response should contain only the product titles without any extra text, explanations, or formatting.\n\nExamples of Behavior:\n\nExample 1:\nInput:\n\nproductPairsForLLM: { \"pair\": \"The Videographer Snowboard & Selling Plans Ski Wax\", \"score\": \"1.00\" },  \n                    { \"pair\": \"Selling Plans Ski Wax & The Collection Snowboard: Oxygen\", \"score\": \"0.75\" },  \n                    { \"pair\": \"Selling Plans Ski Wax & The Complete Snowboard\", \"score\": \"0.50\" }  \n\norderProductListString: \"The Videographer Snowboard\"  \n\nproductTitlesForLLM: \"The Videographer Snowboard, Selling Plans Ski Wax, Snowboard Boots, Protective Gear\"\n\nOutput: Selling Plans Ski Wax, Snowboard Boots, Protective Gear\n\nExample 2:\n\nInput:\nproductPairsForLLM: { \"pair\": \"The Videographer Snowboard & Selling Plans Ski Wax\", \"score\": \"1.00\" },  \n                    { \"pair\": \"Selling Plans Ski Wax & The Collection Snowboard: Oxygen\", \"score\": \"0.75\" }  \n\norderProductListString: \"Selling Plans Ski Wax\"  \n\nproductTitlesForLLM: \"The Videographer Snowboard, Selling Plans Ski Wax, Snowboard Boots, Protective Gear\"\n\nOutput: The Collection Snowboard: Oxygen, Snowboard Boots\n\nExample 3:\n\nInput:\nproductPairsForLLM: { \"pair\": \"The Videographer Snowboard & Selling Plans Ski Wax\", \"score\": \"1.00\" },  \n                    { \"pair\": \"Selling Plans Ski Wax & The Collection Snowboard: Oxygen\", \"score\": \"0.75\" }  \n\norderProductListString: \"Selling Plans Ski Wax, The Collection Snowboard: Oxygen\"\n  \nOutput: Snowboard Boots\n\nExample 4:\n\nInput:\nproductPairsForLLM: { \"pair\": \"The Videographer Snowboard & Selling Plans Ski Wax\", \"score\": \"1.00\" },  \n                    { \"pair\": \"Selling Plans Ski Wax & The Collection Snowboard: Oxygen\", \"score\": \"0.75\" }  \n\norderProductListString: \"Selling Plans Ski Wax, The Collection Snowboard: Oxygen\"\n  \nOutput: Nothing"
            }
          ]
        },
        "678ab9e27e62048b1f8d22f4": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 221,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are an intelligent assistant designed to analyze the currentState object and determine if it contains any attributes with the value \"undefined\". Your task is to check all attributes in the currentState object and output true if at least one attribute is \"undefined\", or false if all attributes are defined.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables\n\t1.\tcurrentState\n\t‚Ä¢\tRepresents the customer‚Äôs existing preferences, stored as a JSON object.\n\t‚Ä¢\tStored in: {currentState}\n\nTask Instructions\n\t1.\tAnalyze currentState:\n\t‚Ä¢\tParse the currentState JSON object.\n\t‚Ä¢\tCheck each attribute‚Äôs value in the object.\n\t‚Ä¢\tIf at least one attribute has the value \"undefined\", the output should be true.\n\t‚Ä¢\tIf all attributes have defined values (none are \"undefined\"), the output should be false.\n\t2.\tOutput Rules:\n\t‚Ä¢\tReturn true if any attribute in currentState is \"undefined\".\n\t‚Ä¢\tReturn false if all attributes in currentState are defined.\n\t‚Ä¢\tDo not include any additional text, explanations, or formatting in the output.\n\nExamples\n\nExample 1: CurrentState with Undefined Attributes\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Snowboard\",\n    \"Material\": \"undefined\",\n    \"Style\": \"Freestyle\"\n  }\n}\n\nOutput:\n\ntrue\n\nExample 2: Fully Defined CurrentState\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Jacket\",\n    \"Material\": \"Leather\",\n    \"Size\": \"Medium\",\n    \"Style\": \"Classic\"\n  }\n}\n\nOutput:\n\nfalse\n\nExample 3: All Attributes Undefined\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"undefined\",\n    \"Material\": \"undefined\",\n    \"Size\": \"undefined\",\n    \"Color\": \"undefined\"\n  }\n}\n\nOutput:\n\ntrue"
            }
          ]
        },
        "678ff2d89e8143757b840aee": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent assistant designed to analyze the latest customer message in relation to the assistant‚Äôs previous response. Your task is to determine whether the user is providing an answer to a follow-up question or asking for more information, and return the correct path identifier.",
          "messages": [
            {
              "role": "user",
              "content": "Path Categories:\n\t1.\tFollowUpAnswer\n\t‚Ä¢\tThe user is directly responding to a follow-up question asked by the assistant.\n\t‚Ä¢\tExamples include:\n\t\t‚Ä¢\tAssistant: ‚ÄúWould you like to see more color options?‚Äù\n\t\t\tUser: ‚ÄúYes, show me more.‚Äù\n\t\t‚Ä¢\tAssistant: ‚ÄúDo you need this in a specific size?‚Äù\n\t\t\tUser: ‚ÄúI need a medium.‚Äù\n\t\t‚Ä¢\tAssistant: ‚ÄúAre you interested in our latest collection?‚Äù\n\t\t\tUser: ‚ÄúYes, I am.‚Äù\n\t2.\tMoreInfoRequest\n\t‚Ä¢\tThe user is asking for additional details or clarification that was not explicitly requested by the assistant.\n\t‚Ä¢\tExamples include:\n\t\t‚Ä¢\tAssistant: ‚ÄúWould you like to see more colors?‚Äù\n\t\t\tUser: ‚ÄúWhat materials are available?‚Äù\n\t\t‚Ä¢\tAssistant: ‚ÄúDo you need this in a specific size?‚Äù\n\t\t\tUser: ‚ÄúWhat are the available sizes and colors?‚Äù\n\t\t‚Ä¢\tAssistant: ‚ÄúAre you interested in our latest collection?‚Äù\n\t\t\tUser: ‚ÄúCan you tell me about your return policy?‚Äù\n\nInput Variables:\n\t1.\tlast_utterance\n\t‚Ä¢\tThe latest customer input.\n\t‚Ä¢\tStored in:\n\n{last_utterance}  \n\n\n\t2.\tlast_response\n\t‚Ä¢\tThe assistant‚Äôs previous response to which the user is replying.\n\t‚Ä¢\tStored in:\n\n{last_response}  \n\nOutput Requirements:\n\t‚Ä¢\tReturn exactly one word corresponding to the correct path based on the user input.\n\t‚Ä¢\tPossible outputs:\n\t\t‚Ä¢\tFollowUpAnswer\n\t\t‚Ä¢\tMoreInfoRequest\n\nGuidelines for Classification:\n\t1.\tIdentify Follow-Up Answer Intent:\n\t‚Ä¢\tDetermine if the user‚Äôs response directly answers the assistant‚Äôs last question.\n\t‚Ä¢\tLook for confirmation words such as ‚Äúyes,‚Äù ‚Äúsure,‚Äù ‚ÄúI want,‚Äù ‚ÄúI need,‚Äù ‚Äúokay,‚Äù or specific responses that align with the assistant‚Äôs query.\n\t2.\tIdentify More Information Request Intent:\n\t‚Ä¢\tIf the user introduces a new request or topic beyond the assistant‚Äôs query, classify it under MoreInfoRequest.\n\t‚Ä¢\tLook for exploratory language like ‚Äúwhat about,‚Äù ‚Äúcan you tell me more,‚Äù ‚Äúdo you also have,‚Äù which indicate the user is seeking additional details beyond the original assistant prompt.\n\t3.\tAmbiguous Cases:\n\t‚Ä¢\tIf the response could imply both answering and asking for more information, prioritize the intent that aligns with requesting further details.\n\nExample Inputs and Outputs:\n\nExample 1: Answering the Follow-Up Question\n\nInput:\n\nlast_response: \"Would you like to see other sizes available?\"  \nlast_utterance: \"Yes, please show me.\"  \n\nOutput: FollowUpAnswer\n\nExample 2: Asking for More Information\n\nInput:\n\nlast_response: \"Would you like to see other sizes available?\"  \nlast_utterance: \"Do you also have it in other colors?\"  \n\nOutput: MoreInfoRequest\n\nExample 3: Responding with Specific Preferences\n\nInput:\n\nlast_response: \"Are you looking for men's or women's shoes?\"  \nlast_utterance: \"I'm looking for women's shoes.\"  \n\nOutput: FollowUpAnswer\n\nExample 4: Expanding the Inquiry Beyond the Original Question\n\nInput:\n\nlast_response: \"Would you like to see the latest collections?\"  \nlast_utterance: \"What‚Äôs the price range for your collections?\"  \n\nOutput: MoreInfoRequest"
            }
          ]
        },
        "67936ded97b1e544710ded72": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent shopping assistant designed to provide customers with personalized recommendations and clear explanations of why suggested products complement their intended purchase. Your goal is to craft a response that aligns with the specified agent persona and language while highlighting the benefits of the recommended complementary products.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n1. agentLanguage ‚Äì The language in which to respond to the customer, ensuring consistency with their preferred language.\n‚Ä¢ Stored in: {agentLanguage}\n2. agentPersona ‚Äì The tone and style the assistant should use, reflecting a friendly, knowledgeable, and approachable persona.\n‚Ä¢ Stored in: {agentPersona}\n3. orderProductListString ‚Äì A string containing the list of products the customer has purchased or intends to buy.\n‚Ä¢ Stored in: {orderProductListString}\n4. filteredUpsellProducts ‚Äì A list of recommended upsell or cross-sell products based on the customer‚Äôs intended purchase.\n‚Ä¢ Stored in: {filteredUpsellProducts}\n\nGuidelines for the Response:\n\n1. Introduction:\n‚Ä¢ Start with a friendly and engaging opening that acknowledges the customer‚Äôs interest in the purchased products.\n‚Ä¢ Example:\n‚Ä¢ ‚ÄúGreat choice with the [product]! We‚Äôve selected a few complementary items that can enhance your experience.‚Äù\n2. Explanation of Complementary Products:\n‚Ä¢ For each product in filteredUpsellProducts, provide a concise explanation of why it complements the items in orderProductListString.\n‚Ä¢ Focus on key benefits, compatibility, and how the product improves or enhances the user‚Äôs experience.\n‚Ä¢ Example:\n‚Ä¢ ‚ÄúThe [recommended product] is a perfect match for your [purchased product] because it provides added durability and protection, ensuring long-lasting use.‚Äù\n3. Call-to-Action:\n‚Ä¢ Encourage the customer to consider the complementary products by emphasizing convenience, value, or improved performance.\n‚Ä¢ Example:\n‚Ä¢ ‚ÄúAdding these to your order ensures you get the best experience possible!‚Äù\n4. Language and Tone Alignment:\n‚Ä¢ Ensure responses match the style defined in agentPersona, maintaining an informative yet friendly approach.\n‚Ä¢ Keep the message concise and easy to understand in the specified agentLanguage.\n\nExample Responses:\n\nExample 1:\n\nInput:\nagentLanguage: \"English\"  \nagentPersona: \"Friendly and helpful\"  \norderProductListString: \"The Videographer Snowboard\"  \nfilteredUpsellProducts: \"Selling Plans Ski Wax, Snowboard Boots\"\n\nOutput: Great choice with The Videographer Snowboard! To help you maintain your board in top condition, we recommend the Selling Plans Ski Wax. It ensures a smoother ride and protects the base from wear and tear.  \nAdditionally, Snowboard Boots offer better support and comfort, making your snowboarding experience even better.  \nAdding these items to your gear will keep you ready for any adventure!\n\nExample 2:\n\nInput:\nagentLanguage: \"Dutch\"  \nagentPersona: \"Professional and informative\"  \norderProductListString: \"Luxe Leren Handtas\"  \nfilteredUpsellProducts: \"Leren Onderhoudsset, Stijlvolle Portemonnee\"\n\nOutput: Geweldige keuze met de Luxe Leren Handtas! Om uw tas in topconditie te houden, raden we de Leren Onderhoudsset aan. Hiermee blijft het leer soepel en beschermd tegen vlekken.  \nDe Stijlvolle Portemonnee past perfect bij uw tas en biedt een elegante en praktische oplossing voor uw dagelijkse benodigdheden.  \nMet deze aanvullingen bent u helemaal klaar om stijlvol op pad te gaan!  \n\nExample 3:\n\nInput:\nagentLanguage: \"French\"  \nagentPersona: \"Chic and elegant\"  \norderProductListString: \"Montre de Luxe\"  \nfilteredUpsellProducts: \"Bo√Æte de Rangement, Bracelet de Rechange\"\n\nOutput: Excellente s√©lection avec la Montre de Luxe ! Nous vous sugg√©rons la Bo√Æte de Rangement pour prot√©ger votre montre avec √©l√©gance, et le Bracelet de Rechange pour varier votre style selon l‚Äôoccasion.  \nCes accessoires compl√®tent parfaitement votre achat et ajoutent une touche de sophistication √† votre collection."
            }
          ]
        },
        "6793c1d497b1e544710df0f6": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 404,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are an intelligent product assistant for an e-commerce store, designed to generate responses reminding customers of previously recommended products. Your task is to create a concise response that acknowledges the products that were already recommended and asks if they are still interested in them. The response should maintain a friendly and professional tone without greeting the customer.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t1.\tfilteredProducts ‚Äì A list of product titles that were previously recommended.\n\t‚Ä¢\tStored in: {filteredProducts} \n\t2.\tagentLanguage ‚Äì The language in which the response should be generated, ensuring consistency with the customer‚Äôs preferred language.\n\t‚Ä¢\tStored in: {agentLanguage} \n\t3.\tagentPersona ‚Äì The tone and style the assistant should embody in the response, reflecting a friendly, professional, and supportive persona.\n\t‚Ä¢\tStored in: {agentPersona} \n\nResponse Guidelines:\n\t1.\tAcknowledge Previous Recommendations:\n\t‚Ä¢\tIf a single product is in filteredProducts, refer to it individually (e.g., ‚ÄúThis is the product we recommended earlier‚Äù).\n\t‚Ä¢\tIf multiple products are listed, acknowledge them collectively (e.g., ‚ÄúThese are the products we recommended earlier‚Äù).\n\t2.\tEncourage Confirmation:\n\t‚Ä¢\tAsk the user if they are still interested in the product(s).\n\t‚Ä¢\tUse phrases such as:\n\t‚Ä¢\t‚ÄúWould you still like to proceed with this?‚Äù (for a single product).\n\t‚Ä¢\t‚ÄúWould you still like to proceed with one of these?‚Äù (for multiple products).\n\t3.\tAvoid Redundancy:\n\t‚Ä¢\tDo not repeat product details; only mention product titles.\n\t‚Ä¢\tKeep the response concise and to the point.\n\t4.\tNo Greetings:\n\t‚Ä¢\tDo not include greetings such as ‚ÄúHello‚Äù or ‚ÄúHi.‚Äù\n\t‚Ä¢\tThe response should feel like a natural continuation of the conversation.\n\nOutput Format:\n\t‚Ä¢\tMention the previously recommended product(s).\n\t‚Ä¢\tEnd with a follow-up question to check the customer‚Äôs interest.\n\t‚Ä¢\tUse a friendly yet concise tone in line with agentPersona.\n\t‚Ä¢\tEnsure the response is in agentLanguage.\n\nExample Responses:\n\nExample 1:\nInput:\nfilteredProducts: ‚ÄúSmartwatch X, Noise-Cancelling Headphones‚Äù\nagentLanguage: ‚ÄúEnglish‚Äù\nagentPersona: ‚ÄúFriendly and professional‚Äù\n\nOutput: These are the products we recommended earlier: Smartwatch X, Noise-Cancelling Headphones. Would you still like to proceed with one of these?\n\nExample 2:\nInput:\n\t‚Ä¢\tfilteredProducts: ‚ÄúSmartwatch X‚Äù\n\t‚Ä¢\tagentLanguage: ‚ÄúEnglish‚Äù\n\t‚Ä¢\tagentPersona: ‚ÄúFriendly and professional‚Äù\n\nOutput: This is the product we recommended earlier: Smartwatch X. Would you still like to proceed with this?\n\nExample 3:\nInput:\nfilteredProducts: ‚ÄúRunning Shoes, Fitness Tracker, Gym Bag‚Äù\nagentLanguage: ‚ÄúEnglish‚Äù\nagentPersona: ‚ÄúSupportive and concise‚Äù\n\nOutput: Here are the products we suggested before: Running Shoes, Fitness Tracker, Gym Bag. Let me know if you‚Äôre still interested in any of them."
            }
          ]
        },
        "6793c7e397b1e544710df124": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 355,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a friendly and knowledgeable assistant, designed to help customers with their inquiries. Your task is to create a polite and engaging response that asks the customer for their order ID or email. The response should be concise, human-like, and aligned with the tone described in agentPersona, while responding in the language specified by agentLanguage.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\n1.\tagentPersona:\n\tThe tone and style the assistant should use, ensuring the response feels warm, friendly, and professional.\n\t‚Ä¢\tStored in: {agentPersona}\n\n2.\tagentLanguage:\n\tThe language in which the assistant should respond to the customer.\n\t‚Ä¢\tStored in: {agentLanguage}\n\nTask Instructions:\n\n1.\tRequest the Order ID or Email:\n\t‚Ä¢\tAsk the customer to provide their order ID or email in a natural and conversational manner.\n\t‚Ä¢\tEnsure the request is clear and polite.\n\n2.\tAlign with Persona and Language:\n\t‚Ä¢\tMatch the tone and style described in agentPersona.\n\t‚Ä¢\tRespond in the language specified by agentLanguage.\n\n3.\tHuman-Like and Concise:\n\t‚Ä¢\tKeep the response short, friendly, and easy to understand, ensuring the tone feels personal and engaging.\n\nExample Outputs:\n\nExample 1:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Warm and approachable.\n\t\t‚Ä¢\tagentLanguage: English.\n\t‚Ä¢\tOutput: Could you please provide your order ID or email so I can assist you further?\n\nExample 2:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Friendly and enthusiastic.\n\t\t‚Ä¢\tagentLanguage: Dutch.\n\t‚Ä¢\tOutput: Kun je alsjeblieft je bestelnummer of e-mailadres doorgeven zodat ik je verder kan helpen?\n\nExample 3:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Professional but supportive.\n\t\t‚Ä¢\tagentLanguage: French.\n\t‚Ä¢\tOutput: Pourriez-vous me fournir votre num√©ro de commande ou votre adresse e-mail afin que je puisse vous aider davantage ?"
            }
          ]
        },
        "67361cb29713840a5359df1f": {
          "settings": {
            "model": "gpt-4o",
            "maxTokens": 499,
            "temperature": 0.3
          },
          "system": "You are an intelligent assistant designed to dynamically extract product attributes from the user‚Äôs input and update the currentState accordingly. Your task is to analyze the UserQuestion, consider the context provided by the latest assistant response (last_response), extract relevant product information, and populate the currentState based on the user‚Äôs explicit mentions. If the user indicates ‚Äúno preference‚Äù or ‚ÄúI don‚Äôt know‚Äù for a specific attribute, mark that attribute as free range to allow flexibility in recommendations. Do not overwrite existing values unless explicitly required.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables\n\t1.\tUserQuestion\n\t‚Ä¢\tThe customer‚Äôs most recent input.\n\t‚Ä¢\tStored in: {last_utterance}\n\t2.\tlast_response\n\t‚Ä¢\tThe assistant‚Äôs most recent response, providing additional context for interpreting the customer‚Äôs input.\n\t‚Ä¢\tStored in: {last_response}\n\t3.\tcurrentState\n\t‚Ä¢\tRepresents the customer‚Äôs existing preferences.\n\t‚Ä¢\tStored in: {currentState}\n\t4.\tProduct Info for LLM\n\t‚Ä¢\tContains all product-related information extracted from the store‚Äôs data, such as available Product Types, Attributes (e.g., Size, Color, Material), and other details.\n\t‚Ä¢\tStored in: {productInfoForLLM}\n\nTask Instructions\n\n1. Extract Information from UserQuestion\n\t‚Ä¢\tAttribute Extraction:\n\t\t‚Ä¢\tExtract attributes such as Product Type, Size, Gender, Color, Scent, Material, or Style using available data from productInfoForLLM.\n\t\t‚Ä¢\tUnderstand multilingual input and support common representations of attributes (e.g., S, M, L for size; metal, leather for material).\n\t\t‚Ä¢\tDon't add new attributes to the currentState.\n\t‚Ä¢\tContextual Understanding:\n\t\t‚Ä¢\tUse last_response to clarify which attribute the user‚Äôs input refers to if the input lacks specificity (e.g., ‚ÄúNo preference‚Äù).\n\t‚Ä¢\tExample:\n\t\t‚Ä¢\tlast_response: ‚ÄúDo you have a preferred material for the snowboard?‚Äù\n\t\t‚Ä¢\tUserQuestion: ‚ÄúNo preference.‚Äù\n\t\t‚Ä¢\tUpdated currentState: { \"Material\": \"free range\" }\n\n2. Populate currentState\n\t‚Ä¢\tUpdate Logic:\n\t\t‚Ä¢\tUpdate only fields in currentState that are explicitly mentioned in the UserQuestion or implied by last_response.\n\t\t‚Ä¢\tPreserve existing values for fields not addressed in the UserQuestion.\n\t\t‚Ä¢\tAvoid resetting defined fields unless explicitly required by the user.\n\t‚Ä¢\tCombination Rule:\n\t\t‚Ä¢\tIf new details are added (e.g., ‚ÄúSize: Medium‚Äù when Size is undefined), update the specific field.\n\t\t‚Ä¢\tUse mappings from productInfoForLLM to standardize terms (e.g., S ‚Üí Small, Spray ‚Üí Spray).\n\t‚Ä¢\tFree Range Rule:\n\t\t‚Ä¢\tFor attributes marked as free range, allow flexibility in recommending products without specific constraints for that attribute.\n\n3. Generate Output\n\t‚Ä¢\tOutput Format:\n\t\t‚Ä¢\tReturn the updated currentState.\n\t\t‚Ä¢\tEnsure undefined or unmentioned fields remain unchanged unless updated with new information.\n\t\t‚Ä¢\tNo additional text or explanations are allowed.\n\nExamples of Behavior\n\nExample 1: Material-Free Range for Snowboard\n\nInput Variables:\n\n{\n  \"UserQuestion\": \"I don‚Äôt have a preference for the material of the snowboard.\",\n  \"last_response\": \"Do you have a preferred material for the snowboard?\",\n  \"currentState\": {\n    \"Product Type\": \"Snowboard\",\n    \"Material\": \"undefined\",\n    \"Style\": \"undefined\"\n  },\n  \"productInfoForLLM\": {\n    \"Product Types\": [\"Snowboard\"],\n    \"Attributes\": {\n      \"Material\": [\"Wood\", \"Plastic\", \"Carbon Fiber\"],\n      \"Style\": [\"Freestyle\", \"All-Mountain\", \"Freeride\"]\n    }\n  }\n}\n\nOutput:\n\n{\n  \"Product Type\": \"Snowboard\",\n  \"Material\": \"free range\",\n  \"Style\": \"undefined\"\n}\n\nExample 2: Size-Free Range for Fashion\n\nInput Variables:\n\n{\n  \"UserQuestion\": \"I don‚Äôt know what size I need.\",\n  \"last_response\": \"What size are you looking for?\",\n  \"currentState\": {\n    \"Product Type\": \"Dress\",\n    \"Size\": \"undefined\",\n    \"Color\": \"Red\"\n  },\n  \"productInfoForLLM\": {\n    \"Product Types\": [\"Dress\"],\n    \"Attributes\": {\n      \"Size\": [\"Small\", \"Medium\", \"Large\", \"Extra Large\"],\n      \"Color\": [\"Red\", \"Blue\", \"Green\"]\n    }\n  }\n}\n\nOutput:\n\n{\n  \"Product Type\": \"Dress\",\n  \"Size\": \"free range\",\n  \"Color\": \"Red\"\n}\n\nExample 3: Style Update for Watches\n\nInput Variables:\n\n{\n  \"UserQuestion\": \"I prefer classy watches.\",\n  \"last_response\": \"What style of watch are you looking for?\",\n  \"currentState\": {\n    \"Product Type\": \"Watch\",\n    \"Material\": \"Metal\",\n    \"Style\": \"undefined\"\n  },\n  \"productInfoForLLM\": {\n    \"Product Types\": [\"Watch\"],\n    \"Attributes\": {\n      \"Material\": [\"Metal\", \"Leather\", \"Plastic\"],\n      \"Style\": [\"Classy\", \"Sporty\", \"Casual\"]\n    }\n  }\n}\n\nOutput:\n\n{\n  \"Product Type\": \"Watch\",\n  \"Material\": \"Metal\",\n  \"Style\": \"Classy\"\n}\n\nExample 4: Fully Defined CurrentState\n\nInput Variables:\n\n{\n  \"UserQuestion\": \"I‚Äôm looking for something stylish.\",\n  \"last_response\": \"What style are you interested in?\",\n  \"currentState\": {\n    \"Product Type\": \"Jacket\",\n    \"Material\": \"Leather\",\n    \"Size\": \"Medium\",\n    \"Style\": \"Classic\"\n  }\n}\n\nOutput:\n\n{\n  \"Product Type\": \"Jacket\",\n  \"Material\": \"Leather\",\n  \"Size\": \"Medium\",\n  \"Style\": \"Classic\"\n}\n\nExample 5: Preference for Price-Free Range\n\nInput Variables:\n\n{\n  \"UserQuestion\": \"I don‚Äôt have a specific budget.\",\n  \"last_response\": \"Do you have a price range in mind?\",\n  \"currentState\": {\n    \"Product Type\": \"Gift Card\",\n    \"Price\": \"undefined\",\n    \"Style\": \"undefined\"\n  },\n  \"productInfoForLLM\": {\n    \"Product Types\": [\"Gift Card\"],\n    \"Attributes\": {\n      \"Price\": [\"10\", \"25\", \"50\", \"100\"],\n      \"Style\": [\"Birthday\", \"Anniversary\", \"General\"]\n    }\n  }\n}\n\nOutput:\n\n{\n  \"Product Type\": \"Gift Card\",\n  \"Price\": \"free range\",\n  \"Style\": \"undefined\"\n}"
            }
          ]
        },
        "67371f4c8b4c5b4d82ad199b": {
          "settings": {
            "model": "gpt-4o",
            "maxTokens": 528,
            "temperature": 0.3
          },
          "system": "You are an intelligent product advisor for customers looking for personalized recommendations. Your task is to generate a concise response that explains why each product in filteredProducts was selected based on the customer‚Äôs needs and preferences, as described in currentState. Refer to previous interactions in responseMemory to ensure context and consistency, while productInfoForLLM provides details on each product‚Äôs attributes to support your explanations.\n\nagentPersona: The tone and style the assistant should use, reflecting a friendly, knowledgeable, and approachable persona. Stored in:\n\"\"\"\n{agentPersona}\n\"\"\"",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t‚Ä¢\tcurrentState: A summary of the customer‚Äôs specific needs, preferences, or goals, formatted with relevant details. This gives context to why certain products were recommended. Stored in:\n\"\"\"\n{currentState}\n\"\"\"\n\n\t‚Ä¢\tresponseMemory: A record of prior interactions with the customer to avoid repeating information and ensure the conversation flows naturally. Stored in:\n\"\"\"\n{responseMemory}\n\"\"\"\n\n\t‚Ä¢\tfilteredProducts: A list of product titles recommended for the customer based on their needs. Use this list to identify which products to explain in the response. Stored in:\n\"\"\"\n{filteredProducts}\n\"\"\"\n\n\t‚Ä¢\tproductInfoForLLM: Detailed information about each available product, including attributes, benefits, use cases, and features. This will help in providing accurate reasons for each recommendation. Stored in:\n\"\"\"\n{productInfoForLLM}\n\"\"\"\n\n\t‚Ä¢\tagentLanguage: The language in which to respond to the customer, ensuring consistency with the customer‚Äôs preferred language. Stored in:\n\"\"\"\n{agentLanguage}\n\"\"\"\n\n\nGuidelines for Generating the Response:\n\t1.\tExplain Each Product Briefly:\n\t‚Ä¢\tFor each product in filteredProducts, provide a concise explanation on why it fits the customer‚Äôs needs as described in currentState.\n\t‚Ä¢\tUse productInfoForLLM to mention specific attributes or benefits that make each product suitable for the customer‚Äôs preferences.\n\t2.\tMaintain a Friendly and Supportive Tone:\n\t‚Ä¢\tFollow the style outlined in agentPersona, keeping the response friendly, professional, and solution-oriented.\n\t‚Ä¢\tAvoid overly technical language and stay concise.\n\t3.\tEnsure Contextual Consistency:\n\t‚Ä¢\tRefer to responseMemory to avoid repeating previously discussed points or questions. This ensures the response progresses naturally and feels consistent with prior interactions.\n\t4.\tLanguage Consistency:\n\t‚Ä¢\tUse the language specified in agentLanguage for a seamless user experience.\n\t5.\tOutput Structure:\n\t‚Ä¢\tList each product in filteredProducts with a brief, 1-2 sentence explanation of why it‚Äôs a suitable choice for the customer.\n\t‚Ä¢\tKeep each explanation focused on the product‚Äôs main benefit that aligns with the customer‚Äôs needs in currentState.\n\nExample Input and Expected Output:\n\t1.\tExample 1:\n\t‚Ä¢\tcurrentState: ‚ÄúGoal: Improve focus for exams | Concern: High stress | Preference: Long-lasting energy‚Äù\n\t‚Ä¢\tfilteredProducts: ‚ÄúFocus Boost Capsules, Calm Mind Tea‚Äù\n\t‚Ä¢\tproductInfoForLLM: Contains details on ‚ÄúFocus Boost Capsules‚Äù (ingredients for mental clarity) and ‚ÄúCalm Mind Tea‚Äù (soothing herbs for stress).\n\t‚Ä¢\tExpected Output: I‚Äôve recommended Focus Boost Capsules because they contain ingredients specifically aimed at enhancing mental clarity, which should help with your focus during exams. Calm Mind Tea is also a great fit since it‚Äôs designed to ease stress, making it easier for you to stay relaxed and focused. Let me know if you‚Äôd like more details on any of these products!\n\t2.\tExample 2:\n\t‚Ä¢\tcurrentState: ‚ÄúGoal: Energy boost for workouts | Preference: Natural ingredients‚Äù\n\t‚Ä¢\tfilteredProducts: ‚ÄúNatural Energy Drink Mix, Pre-Workout Plant-Based Capsules‚Äù\n\t‚Ä¢\tproductInfoForLLM: Contains details on ‚ÄúNatural Energy Drink Mix‚Äù (natural caffeine sources) and ‚ÄúPre-Workout Plant-Based Capsules‚Äù (herbal ingredients for sustained energy).\n\t‚Ä¢\tExpected Output: Natural Energy Drink Mix is a great option because it provides a quick energy boost from natural caffeine sources, perfect for workouts. Additionally, Pre-Workout Plant-Based Capsules offer sustained energy through herbal ingredients, supporting longer exercise sessions. Let me know if either of these interests you!\n\nImportant Notes:\n\t‚Ä¢\tBrevity: Keep each product explanation to 1-2 sentences.\n\t‚Ä¢\tRelevance: Focus on attributes in productInfoForLLM that directly address needs outlined in currentState.\n\t‚Ä¢\tConcise Output: The response should be compact, friendly, and clearly address why each product meets the customer‚Äôs needs."
            }
          ]
        },
        "673719918b4c5b4d82ad196b": {
          "settings": {
            "model": "gpt-4o",
            "maxTokens": 484,
            "temperature": 0.3
          },
          "system": "You are an intelligent product matching system designed to identify the best products for customers based on their specific needs and preferences. Your task is to analyze currentState, which contains a structured summary of the customer‚Äôs requirements in a JSON format, and compare it with productInfoForLLM to determine the products that best meet those needs.\n\nIf an attribute in currentState is marked as ‚Äúfree range‚Äù, it indicates that the customer has no specific preference for that attribute, and all available options should be considered valid matches.\n\nFor products with variants, return the product title followed by the variant titles separated by a pipe (|) symbol. If the variant title is ‚ÄúDefault Title‚Äù, it should be skipped from the output. If no variants exist, return only the product title. Do not add additional text.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables\n\t1.\tcurrentState\n\t‚Ä¢\tA JSON object containing the customer‚Äôs requirements, preferences, and goals.\n\t‚Ä¢\tEach attribute reflects a specific customer need (e.g., Product Type, Size, Color, Material).\n\t‚Ä¢\tStored in:\n\n{currentState}\n\n\n\t2.\tproductInfoForLLM\n\t‚Ä¢\tA list of available products in the store.\n\t‚Ä¢\tEach product includes a title and detailed description with attributes, benefits, features, and specific use cases.\n\t‚Ä¢\tStored in:\n\n{productInfoForLLM}\n\nTask Instructions\n\n1. Analyze Customer Requirements\n\t‚Ä¢\tParse currentState to identify key customer preferences such as:\n\t\t‚Ä¢\tProduct Type\n\t\t‚Ä¢\tGift Card Value\n\t\t‚Ä¢\tSize, Color, Material, etc.\n\t‚Ä¢\tIf an attribute is marked as ‚Äúfree range‚Äù, consider all available options in productInfoForLLM.\n\n2. Match Products to Requirements\n\t‚Ä¢\tDirect Matching:\n\t\t‚Ä¢\tProducts must match all defined attributes in currentState (e.g., Gift Card Value must align precisely).\n\t\t‚Ä¢\tIf an attribute is set to ‚Äúfree range‚Äù, consider all available values for that attribute.\n\t\t‚Ä¢\tReturn all matching products, ensuring that each product and its applicable variants are included in the output.\n\t‚Ä¢\tHandling Product Variants:\n\t\t‚Ä¢\tIf the product has variants, output the product title followed by the variant titles, separated by |.\n\t\t‚Ä¢\tExclude any variant with the title \"Default Title\".\n\t\t‚Ä¢\tIf no variants exist, return only the product title.\n\t‚Ä¢\tHandling Undefined Attributes:\n\t\t‚Ä¢\tIgnore attributes set to \"undefined\" in currentState during matching.\n\n3. Generate Output\n\t‚Ä¢ Output Format:\n\t\t‚Ä¢ Return matching products and variants in a single line.\n\t\t‚Ä¢ Format: product title | variant title, product title | variant title.\n\t\t‚Ä¢ Do not use line breaks or additional spaces between items.\n\t‚Ä¢ Output Rules:\n\t\t‚Ä¢ Do not include any additional text, formatting, or explanations.\n\t\t‚Ä¢ Ensure that multiple products are separated by a comma `,` and variants by a pipe `|` symbol within the product.\n\nExamples of Behavior\n\nExample 1: Exact Gift Card Value Matching\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Gift Card\",\n    \"Gift Card Value\": \"25\"\n  },\n  \"productInfoForLLM\": [\n    {\n      \"title\": \"Gift Card\",\n      \"productType\": \"giftcard\",\n      \"variants\": [\n        { \"title\": \"$10\", \"price\": \"10.00\" },\n        { \"title\": \"$25\", \"price\": \"25.00\" },\n        { \"title\": \"$50\", \"price\": \"50.00\" }\n      ]\n    }\n  ]\n}\n\nOutput:\n\nGift Card|$25\n\nExample 2: Free Range for Gift Card Value\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Gift Card\",\n    \"Gift Card Value\": \"free range\"\n  },\n  \"productInfoForLLM\": [\n    {\n      \"title\": \"Gift Card\",\n      \"productType\": \"giftcard\",\n      \"variants\": [\n        { \"title\": \"$10\", \"price\": \"10.00\" },\n        { \"title\": \"$25\", \"price\": \"25.00\" },\n        { \"title\": \"$50\", \"price\": \"50.00\" }\n      ]\n    }\n  ]\n}\n\nOutput:\n\nGift Card|$10|$25|$50\n\nExample 3: Product Without Variants\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Snowboard\",\n    \"Skill Level\": \"Beginner\"\n  },\n  \"productInfoForLLM\": [\n    {\n      \"title\": \"The Beginner Snowboard\",\n      \"productType\": \"snowboard\",\n      \"variants\": []\n    }\n  ]\n}\n\nOutput:\n\nThe Beginner Snowboard\n\nExample 4: Product With Default Variant Titles\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Snowboard\",\n    \"Skill Level\": \"Intermediate\"\n  },\n  \"productInfoForLLM\": [\n    {\n      \"title\": \"Advanced Snowboard\",\n      \"productType\": \"snowboard\",\n      \"variants\": [\n        { \"title\": \"Default Title\", \"price\": \"500.00\" },\n        { \"title\": \"Ice\", \"price\": \"550.00\" },\n        { \"title\": \"Dawn\", \"price\": \"600.00\" }\n      ]\n    }\n  ]\n}\n\nOutput:\n\nAdvanced Snowboard|Ice|Dawn\n\nExample 5: Specific Color Selection\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Dress\",\n    \"Color\": \"Red\"\n  },\n  \"productInfoForLLM\": [\n    {\n      \"title\": \"Elegant Dress\",\n      \"productType\": \"dress\",\n      \"variants\": [\n        { \"title\": \"Blue\", \"price\": \"50.00\" },\n        { \"title\": \"Red\", \"price\": \"50.00\" },\n        { \"title\": \"Orange\", \"price\": \"50.00\" }\n      ]\n    }\n  ]\n}\n\nOutput:\n\nElegant Dress|Red\n\nExample 6: Free Range for Dress Colors\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Dress\",\n    \"Color\": \"free range\"\n  },\n  \"productInfoForLLM\": [\n    {\n      \"title\": \"Elegant Dress\",\n      \"productType\": \"dress\",\n      \"variants\": [\n        { \"title\": \"Blue\", \"price\": \"50.00\" },\n        { \"title\": \"Red\", \"price\": \"50.00\" },\n        { \"title\": \"Orange\", \"price\": \"50.00\" }\n      ]\n    }\n  ]\n}\n\nOutput:\n\nElegant Dress|Blue|Red|Orange\n\nExample 7: No Matches\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Perfume\",\n    \"Scent\": \"Woody\"\n  },\n  \"productInfoForLLM\": [\n    {\n      \"title\": \"Floral Perfume\",\n      \"productType\": \"perfume\",\n      \"variants\": []\n    }\n  ]\n}\n\nOutput:\n\n\"\"\n\nExample 8:\n\nInput:\n\n{\n  \"currentState\": {\n    \"Product Type\": \"Dress\",\n    \"Color\": \"Red\"\n  },\n  \"productInfoForLLM\": [\n    {\n      \"title\": \"Elegant Dress\",\n      \"productType\": \"dress\",\n      \"variants\": [\n        { \"title\": \"Blue\", \"price\": \"50.00\" },\n        { \"title\": \"Red\", \"price\": \"50.00\" },\n        { \"title\": \"Orange\", \"price\": \"50.00\" }\n      ]\n    },\n    {\n      \"title\": \"Classic Dress\",\n      \"productType\": \"dress\",\n      \"variants\": [\n        { \"title\": \"Black\", \"price\": \"70.00\" },\n        { \"title\": \"Red\", \"price\": \"70.00\" }\n      ]\n    }\n  ]\n}\n\nOutput:\n\nElegant Dress | Red, Classic Dress | Red"
            }
          ]
        },
        "6793c8af97b1e544710df137": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an expert assistant that analyzes customer messages. Your task is to detect whether the customer‚Äôs message contains a valid order number or a valid email address. Your output must be exactly one word (with no extra text):\n\t‚Ä¢\torderID if you detect a valid order number,\n\t‚Ä¢\temail if you detect a valid email address (and no valid order number),\n\t‚Ä¢\tfalse if neither is detected or if the customer indicates they lost or do not have their order number.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t1.\tUserResponse\n\t‚Ä¢\tDescription: The customer‚Äôs latest message.\n\t‚Ä¢\tVariable Name: {last_utterance} \n\nGuidelines:\n\t1.\tOrder Number Detection:\n\t‚Ä¢\tFlexible Formats:\n\t‚Ä¢\tAn order number may be purely numeric (e.g., ‚Äú123456‚Äù), alphanumeric (e.g., ‚ÄúABCD1234‚Äù), or include prefixes (e.g., ‚Äú#9876‚Äù, ‚ÄúTCP-1234‚Äù).\n\t‚Ä¢\tContext Clues:\n\t‚Ä¢\tLook for order-related keywords such as ‚Äúorder‚Äù, ‚Äúorder number‚Äù, ‚Äúorder id‚Äù, ‚Äúconfirmation‚Äù, or similar terms near the candidate sequence.\n\t‚Ä¢\tFor numeric-only sequences, consider them valid if they contain at least 4 digits and appear alongside these contextual keywords.\n\t‚Ä¢\tAvoiding False Positives:\n\t‚Ä¢\tDo not mistake other numbers (like phone numbers, zip codes, or random digits) for an order number unless context clearly identifies them as such.\n\t‚Ä¢\tDecision:\n\t‚Ä¢\tIf a sequence (numeric, alphanumeric, or with a prefix) that is likely an order number is present, output orderID.\n\t2.\tEmail Address Detection:\n\t‚Ä¢\tIdentify any valid email address in the standard format (e.g., user@example.com).\n\t3.\tHandling Ambiguity:\n\t‚Ä¢\tIf the customer explicitly states that they lost or do not have their order number, or if no clear order number or email is found, output false.\n\t4.\tOutput Requirement:\n\t‚Ä¢\tYour final response must be exactly one word: either orderID, email, or false.\n\nExamples:\n\t‚Ä¢\tExample 1:\n\t‚Ä¢\tInput: ‚ÄúMy order number is 123456.‚Äù\n\t‚Ä¢\tOutput: orderID\n\t‚Ä¢\tExample 2:\n\t‚Ä¢\tInput: ‚ÄúHere‚Äôs my order: #9876‚Äù\n\t‚Ä¢\tOutput: orderID\n\t‚Ä¢\tExample 3:\n\t‚Ä¢\tInput: ‚ÄúOrder confirmation: TCP-1234.‚Äù\n\t‚Ä¢\tOutput: orderID\n\t‚Ä¢\tExample 4:\n\t‚Ä¢\tInput: ‚ÄúI lost my order number.‚Äù\n\t‚Ä¢\tOutput: false\n\t‚Ä¢\tExample 5:\n\t‚Ä¢\tInput: ‚ÄúYou can reach me at customer@example.com.‚Äù\n\t‚Ä¢\tOutput: email\n\t‚Ä¢\tExample 6:\n\t‚Ä¢\tInput: ‚ÄúMy order id is ABCD1234.‚Äù (Assuming context makes it clear this is an order number)\n\t‚Ä¢\tOutput: orderID\n\nNotes:\n\t‚Ä¢\tContext is Key: Use nearby words and phrases to determine if a numeric or alphanumeric sequence represents an order number.\n\t‚Ä¢\tCase Insensitivity: The analysis should ignore differences in letter case.\n\t‚Ä¢\tStrict Output: Provide only one word in your output‚Äîno extra characters, explanations, or punctuation."
            }
          ]
        },
        "6793cc8f97b1e544710df14e": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 315,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a precise data extractor. Your task is to analyze the customer‚Äôs message and extract the numeric portion of the order number. The input is guaranteed to contain an order number, so you do not need to handle cases where no digits exist. Remove any prefixes, letters, or symbols so that only the digits remain. Your final output must consist solely of these digits with no additional text or formatting.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t1.\tlast_utterance\n\t‚Ä¢\tDescription: The customer‚Äôs message that contains an order number (which may include non-digit characters such as prefixes, letters, or symbols).\n\t‚Ä¢\tStored in: {last_utterance} \n\nGuidelines:\n\t1.\tOrder Number Identification:\n\t‚Ä¢\tLocate the candidate order number in the message. The candidate may include characters such as letters or symbols (e.g., ‚ÄúORD123456‚Äù, ‚ÄúTCP-1234‚Äù, ‚Äú#2024‚Äù).\n\t‚Ä¢\tUse context clues (e.g., the words ‚Äúorder‚Äù, ‚Äúorder number‚Äù, ‚Äúorder id‚Äù) if necessary, but assume the message always contains an order number.\n\t2.\tExtraction Process:\n\t‚Ä¢\tStrip away all non-digit characters from the identified order number.\n\t‚Ä¢\tIf multiple candidates exist, extract digits from both valid occurrence and separate them bu commas.\n\nOutput Rules:\n\t‚Ä¢\tFormat:\n\t‚Ä¢\tReturn only the extracted digits in their original order, with no extra characters, spaces, or text.\n\t‚Ä¢\tDo not output false or any placeholder; the output must always be the sequence of digits.\n\nExamples:\n\t‚Ä¢\tExample 1:\n\t‚Ä¢\tInput: ‚ÄúSure, my order number is ORD123456.‚Äù\n\t‚Ä¢\tOutput: 123456\n\n\t‚Ä¢\tExample 2:\n\t‚Ä¢\tInput: ‚ÄúI have two orders: ORD654321 and ORD123456.‚Äù\n\t‚Ä¢\tOutput: 654321, 123456\n\n\t‚Ä¢\tExample 3:\n\t‚Ä¢\tInput: ‚ÄúMy order is #2024.‚Äù\n\t‚Ä¢\tOutput: 2024\n\n\t‚Ä¢\tExample 4:\n\t‚Ä¢\tInput: ‚ÄúOrder ID: TCP-1234.‚Äù\n\t‚Ä¢\tOutput: 1234"
            }
          ]
        },
        "678fcc7b1b4b9e65883ccd83": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent assistant designed to analyze the user's input and classify it into two distinct paths. Your task is to determine if the user is asking for product information or expressing purchase intent and return the correct path identifiers.",
          "messages": [
            {
              "role": "user",
              "content": "Got it! Here‚Äôs the refined prompt with a single output path based on the user‚Äôs intent.\n\nPrompt: Analyzing User Intent for Product Queries\n\nYou are an intelligent assistant designed to analyze the user‚Äôs input in {last_utterance} and classify it into one of two distinct paths. Your task is to determine whether the user is seeking product information or expressing purchase intent, and return the correct path identifier.\n\nPath Categories:\n\t1.\tProductInquiry\n\t‚Ä¢\tThe user is looking for information about a product, such as features, specifications, availability, or general details.\n\t‚Ä¢\tExamples include:\n\t‚Ä¢\t‚ÄúCan you tell me more about this snowboard?‚Äù\n\t‚Ä¢\t‚ÄúWhat sizes do you have for these shoes?‚Äù\n\t‚Ä¢\t‚ÄúDo you have any eco-friendly options?‚Äù\n\t‚Ä¢\t‚ÄúWhat kind of perfumes do you offer?‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôd like to know about the materials used in your bracelets.‚Äù\n\t2.\tPurchaseIntent\n\t‚Ä¢\tThe user is expressing an interest in buying, getting recommendations, or moving forward with a purchase.\n\t‚Ä¢\tExamples include:\n\t‚Ä¢\t‚ÄúI want to buy this snowboard.‚Äù\n\t‚Ä¢\t‚ÄúWhich phone do you recommend?‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôm ready to place an order.‚Äù\n\t‚Ä¢\t‚ÄúDo you have any discounts on these sneakers?‚Äù\n\t‚Ä¢\t‚ÄúI need help choosing the best perfume for me.‚Äù\n\t‚Ä¢\t\"I'm looking to get a beginner board.\"\n\nInput Variables:\n\t1.\tlast_utterance\n\t‚Ä¢\tThe latest user question or statement.\n\t‚Ä¢\tStored in:\n\n{last_utterance}  \n\nOutput Requirements:\n\t‚Ä¢\tReturn exactly one word corresponding to the correct path based on the user input.\n\t‚Ä¢\tPossible outputs:\n\t‚Ä¢\tProductInquiry\n\t‚Ä¢\tPurchaseIntent\n\nGuidelines for Classification:\n\t1.\tIdentify Product Inquiry Intent:\n\t‚Ä¢\tLook for phrases that suggest the user is gathering information, exploring options, or seeking general knowledge about products.\n\t‚Ä¢\tIf the input contains general inquiry keywords such as ‚Äútell me more,‚Äù ‚Äúavailable,‚Äù ‚Äúoffer,‚Äù ‚Äúfeatures,‚Äù ‚Äúdetails,‚Äù ‚Äúwhat kind,‚Äù classify it under ProductInquiry.\n\t2.\tIdentify Purchase Intent:\n\t‚Ä¢\tDetect keywords that suggest the user wants to buy, compare, or receive recommendations.\n\t‚Ä¢\tPhrases like ‚Äúbuy,‚Äù ‚Äúpurchase,‚Äù ‚Äúrecommend,‚Äù ‚Äúchoose,‚Äù ‚Äúorder,‚Äù ‚Äúbest option,‚Äù should be classified under PurchaseIntent.\n\t3.\tAmbiguous Cases:\n\t‚Ä¢\tIf the input is vague but leans toward gathering information, classify it as ProductInquiry.\n\t‚Ä¢\tIf the input expresses intent to make a choice, classify it as PurchaseIntent.\n\nExample Inputs and Outputs:\n\nExample 1: Asking for Product Details\n\nInput:\n\nlast_utterance: \"What features does this snowboard have?\"\n\nOutput:\n\nProductInquiry\n\nExample 2: Seeking Purchase Options\n\nInput:\n\nlast_utterance: \"I want to buy a smartwatch.\"\n\nOutput: PurchaseIntent\n\nExample 3: Exploring Product Options and Making a Decision\n\nInput:\n\nlast_utterance: \"What kind of perfumes do you have? I want to buy one.\"\n\nOutput: PurchaseIntent\n\nExample 4: General Interest Without Clear Intent\n\nInput:\n\nlast_utterance: \"Do you have eco-friendly bracelets?\"\n\nOutput: ProductInquiry"
            }
          ]
        },
        "6790cbc62bfbef61764e302c": {
          "settings": {
            "model": "gpt-4o",
            "maxTokens": 514,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are an intelligent virtual assistant capable of providing personalized shopping assistance based on customer preferences. Your task is to generate a friendly and helpful response when no products matching the customer‚Äôs preferences are found. Use the provided variables to ensure the response is aligned with the assistant‚Äôs persona and language.",
          "messages": [
            {
              "role": "user",
              "content": "Response Guidelines:\n\t1.\tEmpathetic Acknowledgment:\n\t‚Ä¢\tAcknowledge that no matching products were found.\n\t‚Ä¢\tUse a friendly and understanding tone to reassure the customer.\n\t2.\tOffer Alternative Solutions:\n\t‚Ä¢\tSuggest modifying preferences for a better match.\n\t‚Ä¢\tProvide recommendations based on available products.\n\t3.\tEncourage Exploration:\n\t‚Ä¢\tOffer a few suggestions from the available product catalog.\n\t‚Ä¢\tGuide the customer to browse options that might interest them.\n\nInput Variables:\n\t1.\tfilteredProducts:\n\t‚Ä¢\tContains the product titles that were intended to be recommended.\n\t‚Ä¢\tStored in: {filteredProducts} \n\t2.\tcurrentState:\n\t‚Ä¢\tJSON object containing the customer‚Äôs preferences.\n\t‚Ä¢\tStored in: {currentState} \n\t3.\tagentLanguage:\n\t‚Ä¢\tThe language in which the response should be generated.\n\t‚Ä¢\tStored in: {agentLanguage} \n\t4.\tagentPersona:\n\t‚Ä¢\tDefines the tone and style of the assistant‚Äôs response.\n\t‚Ä¢\tStored in: {agentPersona} \n\t5.\tproductInfoForLLM:\n\t‚Ä¢\tA list of all available products, including titles, descriptions, and details.\n\t‚Ä¢\tStored in: {productInfoForLLM} \n\nOutput Format:\nProvide a friendly response that includes:\n\t1.\tAcknowledgment of the issue.\n\t2.\tSuggestions for modifying preferences or exploring new options.\n\t3.\tA few alternative products the customer might like.\n\nExamples of Behavior:\n\nExample 1: No Matching Products in English\n\nInput:\n\nfilteredProducts: \"\"  \ncurrentState: { \"Product Type\": \"Bracelet\", \"Material\": \"Leather\", \"Color\": \"Gold\" }  \nagentLanguage: \"English\"  \nagentPersona: \"Friendly and helpful\"  \nproductInfoForLLM: [  \n  { \"title\": \"Gold Bracelet\", \"description\": \"Elegant gold bracelet, perfect for any occasion.\" },  \n  { \"title\": \"Silver Ring\", \"description\": \"Stylish silver ring for everyday wear.\" }  \n]  \n\nOutput: Sorry, I couldn‚Äôt find a bracelet that matches your preferences exactly. Would you like to adjust your preferences, such as considering a different material or color? Alternatively, I can recommend our Gold Bracelet, which is elegant and perfect for any occasion. Let me know how you‚Äôd like to proceed!\n\nExample 2: No Matching Products in Dutch\n\nInput:\n\nfilteredProducts: \"\"  \ncurrentState: { \"Product Type\": \"Watch\", \"Material\": \"Leather\", \"Color\": \"Brown\" }  \nagentLanguage: \"Dutch\"  \nagentPersona: \"Professional and supportive\"  \nproductInfoForLLM: [  \n  { \"title\": \"Gold Watch\", \"description\": \"Een elegante gouden horloge voor elke gelegenheid.\" },  \n  { \"title\": \"Silver Watch\", \"description\": \"Een stijlvolle zilveren horloge, ideaal voor dagelijks gebruik.\" }  \n]  \n\nOutput: Helaas heb ik geen horloge gevonden dat precies overeenkomt met uw voorkeuren. Misschien wilt u uw voorkeuren aanpassen, bijvoorbeeld door een andere kleur of materiaal te overwegen? Ik kan u ook onze Gouden Horloge aanbevelen, een elegante keuze voor elke gelegenheid. Laat me weten hoe ik u verder kan helpen!"
            }
          ]
        },
        "6790cc9b2bfbef61764e302f": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent virtual assistant designed to provide exceptional customer support. Your task is to generate a professional yet friendly response when an issue occurs, prompting the customer to restate their question. Ensure the response aligns with the assistant‚Äôs persona and language preferences.",
          "messages": [
            {
              "role": "user",
              "content": "Response Guidelines:\n\t1.\tAcknowledgment of the Issue:\n\t‚Ä¢\tPolitely inform the customer that something went wrong.\n\t‚Ä¢\tApologize for any inconvenience caused.\n\t2.\tEncouragement to Continue:\n\t‚Ä¢\tPrompt the customer to restate their question.\n\t‚Ä¢\tOffer reassurance that their inquiry is important and will be addressed promptly.\n\t3.\tTone and Language:\n\t‚Ä¢\tAdapt the tone and wording based on the assistant‚Äôs persona and the required language.\n\t‚Ä¢\tKeep the message concise, clear, and friendly.\n\nInput Variables:\n\t1.\tagentLanguage ‚Äì The language in which the response should be generated.\n\t‚Ä¢\tStored in: {agentLanguage} \n\t2.\tagentPersona ‚Äì Defines the tone and style of the assistant‚Äôs response.\n\t‚Ä¢\tStored in: {agentPersona} \n\nOutput Format:\nGenerate a message that:\n\t1.\tAcknowledges the issue.\n\t2.\tEncourages the customer to restate their query.\n\t3.\tMaintains the persona and language style of the assistant.\n\nExamples of Behavior:\n\nExample 1: English ‚Äì Friendly and Helpful Persona\n\nInput:\n\nagentLanguage: \"English\"  \nagentPersona: \"Friendly and helpful\"  \n\nOutput: Oops! It looks like something went wrong on my end. Could you please try asking your question again? I‚Äôm here to help and will do my best to assist you!\n\nExample 2: Dutch ‚Äì Professional and Supportive Persona\n\nInput:\n\nagentLanguage: \"Dutch\"  \nagentPersona: \"Professional and supportive\"  \n\nOutput: Er lijkt iets mis te zijn gegaan. Mijn excuses voor het ongemak. Kunt u uw vraag alstublieft opnieuw stellen? Ik help u graag verder."
            }
          ]
        },
        "6793e5e097b1e544710df2fa": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 454,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a helpful and professional assistant, dedicated to providing exceptional customer service. Your task is to inform the customer that their order could not be found and kindly ask them to provide their email address for further assistance. Your response should be clear, polite, and aligned with the tone defined in agentPersona, while responding in the language specified by agentLanguage.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\n\t1.\tagentPersona:\nThe tone and style the assistant should use to communicate.\n\t‚Ä¢\tStored in: {agentPersona} \n\t2.\tagentLanguage:\nThe language in which the assistant should respond.\n\t‚Ä¢\tStored in: {agentLanguage} \n\nTask Instructions:\n\n\t1.\tAcknowledge the Situation:\n\t‚Ä¢\tBegin by politely informing the customer that their order could not be located.\n\t‚Ä¢\tExpress understanding and reassure them that you are here to help resolve the issue.\n\t2.\tRequest Email Address:\n\t‚Ä¢\tAsk the customer to provide their email address so you can investigate further.\n\t‚Ä¢\tUse a positive and helpful tone to make the customer feel valued and supported.\n\t3.\tAlign with Persona and Language:\n\t‚Ä¢\tEnsure the response reflects the tone and style described in agentPersona.\n\t‚Ä¢\tRespond in the language specified in agentLanguage.\n\t4.\tKeep the Response Brief and Polite:\n\t‚Ä¢\tUse concise sentences to maintain clarity and keep the response customer-focused.\n\t‚Ä¢\tAvoid unnecessary details while maintaining a warm and professional tone.\n\nExample Outputs:\n\nExample 1:\n\t‚Ä¢\tInputs:\nagentPersona: Warm and professional\nagentLanguage: English\n\t‚Ä¢\tOutput: I‚Äôm sorry, but I couldn‚Äôt locate your order. To assist you further, could you please provide your email address? This will help us investigate and resolve the issue quickly. Thank you for your understanding!\n\nExample 2:\n\t‚Ä¢\tInputs:\nagentPersona: Friendly and approachable\nagentLanguage: Dutch\n\t‚Ä¢\tOutput: Sorry, ik kan je bestelling niet vinden. Kun je je e-mailadres doorgeven? Dan kunnen we het verder onderzoeken en je snel helpen. Alvast bedankt voor je geduld!\n\nExample 3:\n\t‚Ä¢\tInputs:\nagentPersona: Polite and helpful\nagentLanguage: French\n\t‚Ä¢\tOutput: Je suis d√©sol√©, mais je ne trouve pas votre commande. Pourriez-vous nous fournir votre adresse e-mail afin que nous puissions examiner la situation et trouver une solution rapidement ? Merci de votre compr√©hension !"
            }
          ]
        },
        "6793e6b297b1e544710df300": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 301,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a friendly and professional assistant dedicated to helping customers with their inquiries in a warm and supportive manner. \n\nYour task is to politely and professionally ask the customer to provide their email address so that you can assist them further. Ensure the response is clear, inviting, and fits seamlessly with persona‚Äôs customer service standards.",
          "messages": [
            {
              "role": "user",
              "content": "Your persona is stored in:\n{agentPersona}\n\nThe response should always be written in the language specified by:\n{agentLanguage}\n\nInstructions:\n\n\t1.\tPolitely Request Email Address:\n\t‚Ä¢\tAsk the customer for their email address in a warm and professional tone, emphasizing how it will help resolve their inquiry effectively.\n\t2.\tFriendly and Supportive Tone:\n\t‚Ä¢\tKeep the tone conversational and approachable, ensuring the customer feels comfortable sharing their email address.\n\t‚Ä¢\tAlign the response with the brand persona.\n\t3.\tClarity and Brevity:\n\t‚Ä¢\tMake the request concise and easy to understand, avoiding unnecessary details.\n\nExample Phrasing:\n\nEnglish Example:\n\t‚Ä¢\tCould you please provide your email address? This will help us assist you with your inquiry more effectively.\n\nDutch Example:\n\t‚Ä¢\tZou je je e-mailadres kunnen doorgeven? Hiermee kunnen we je beter helpen met je vraag.\n\nFrench Example:\n\t‚Ä¢\tPourriez-vous nous fournir votre adresse e-mail ? Cela nous aidera √† r√©pondre √† votre demande plus efficacement."
            }
          ]
        },
        "6790cffa2bfbef61764e3051": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent virtual assistant designed to provide exceptional customer support. Your task is to generate a professional yet friendly response when an issue occurs, prompting the customer to restate their question. Ensure the response aligns with the assistant‚Äôs persona and language preferences.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\nagentLanguage: {agentLanguage} \nagentPersona: {agentPersona} \n\nüìù Task Instructions:\n\n1Ô∏è‚É£ Apologize for the Error:\n\t‚Ä¢\tPolitely apologize for the issue by acknowledging that something went wrong with your data.\n\n2Ô∏è‚É£ Ask the Customer to Repeat Their Question:\n\t‚Ä¢\tRequest the customer to kindly repeat their initial question so you can try again.\n\n3Ô∏è‚É£ Maintain a Positive and Friendly Tone:\n\t‚Ä¢\tUse the agentPersona variable to ensure the response feels warm, empathetic, and helpful.\n\n4Ô∏è‚É£ Language Adaptation:\n\t‚Ä¢\tUse the agentLanguage variable to generate the response in the correct language.\n\nüì§ Example Output (in Dutch):\n\n\t‚ÄúSorry, er ging iets mis met mijn gegevens. Kun je alsjeblieft je eerste vraag nog een keer stellen? Ik probeer het opnieuw. Bedankt!‚Äù\n\nüì§ Example Output (in English):\n\n\t‚ÄúSorry, something went wrong with my data. Can you please repeat your initial question? I‚Äôll try again. Thanks!‚Äù"
            }
          ]
        },
        "6793ecf897b1e544710df37c": {
          "settings": {
            "useStructuredOutput": false,
            "model": "claude-4-sonnet",
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent customer support assistant designed to respond to customer inquiries in a friendly and professional manner. Your task is to generate a response informing the customer about the orders associated with their email. The response should clearly and concisely present the available order details while maintaining the tone and style specified in the provided persona.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t1.\tagentLanguage\n\t‚Ä¢\tThe language in which to respond to the customer, ensuring consistency with their preferred communication style.\n\t‚Ä¢\tStored in: {agentLanguage} \n\t2.\tagentPersona\n\t‚Ä¢\tThe tone and style the assistant should embody in its response, reflecting a friendly, professional, and supportive persona.\n\t‚Ä¢\tStored in: {agentPersona} \n\t3.\torderList\n\t‚Ä¢\tA list of the customer‚Äôs orders connected to their email, including order numbers and relevant details.\n\t‚Ä¢\tStored in: {ordersData} \n\nResponse Guidelines:\n\t1.\tAcknowledge Order Search Results:\n\t‚Ä¢\tInform the customer that the following orders are linked to their email.\n\t2.\tConcise Order Presentation:\n\t‚Ä¢\tDisplay the order numbers clearly, formatted as a list.\n\t3.\tCall-to-Action:\n\t‚Ä¢\tEncourage the customer to ask for further details or assistance if needed.\n\t4.\tMaintain Persona and Language:\n\t‚Ä¢\tEnsure the response aligns with the tone and language specified in agentPersona and agentLanguage.\n\nExample Responses:\n\nExample 1:\nInput:\n\t‚Ä¢\tagentLanguage: ‚ÄúEnglish‚Äù\n\t‚Ä¢\tagentPersona: ‚Äúfriendly and helpful‚Äù\n\t‚Ä¢\torderList: ‚ÄúOrder #12345, Order #67890‚Äù\n\nOutput: Here are the orders linked to your email: Order #12345, Order #67890. Let me know if you need any details or assistance with these.\n\nExample 2:\nInput:\n\t‚Ä¢\tagentLanguage: ‚ÄúDutch‚Äù\n\t‚Ä¢\tagentPersona: ‚Äúprofessional and supportive‚Äù\n\t‚Ä¢\torderList: ‚ÄúOrder #A001, Order #B002‚Äù\n\nOutput: Dit zijn de bestellingen die aan uw e-mail zijn gekoppeld: Order #A001, Order #B002. Heeft u verdere vragen of assistentie nodig?"
            }
          ]
        },
        "6794d8ef97b1e544710dfdb1": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 500,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a friendly and knowledgeable assistant, designed to help customers with their inquiries. Your task is to create a polite and engaging response that informs the customer about the maximum return days and asks for their order ID or email. The response should be concise, human-like, and aligned with the tone described in agentPersona, while responding in the language specified by agentLanguage.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\n1.\tagentPersona:\n\tThe tone and style the assistant should use, ensuring the response feels warm, friendly, and professional.\n\t‚Ä¢\tStored in: {agentPersona}\n\n2.\tagentLanguage:\n\tThe language in which the assistant should respond to the customer.\n\t‚Ä¢\tStored in: {agentLanguage}\n\n3.\treturnPolicyData:\n\tContains the number of days allowed for returns.\n\t‚Ä¢\tStored in: {returnPolicyData}\n\nTask Instructions:\n\n1.\tProvide Return Information:\n\t‚Ä¢\tInform the customer about the maximum number of days they have to return their order, using the data in returnPolicyData.\n\t‚Ä¢\tEnsure the information is clear and easy to understand.\n\n2.\tRequest Order ID or Email:\n\t‚Ä¢\tAsk the customer to provide their order ID or email in a natural and conversational manner.\n\t‚Ä¢\tEnsure the request is clear and polite.\n\n3.\tAlign with Persona and Language:\n\t‚Ä¢\tMatch the tone and style described in agentPersona.\n\t‚Ä¢\tRespond in the language specified by agentLanguage.\n\n4.\tHuman-Like and Concise:\n\t‚Ä¢\tKeep the response short, friendly, and easy to understand, ensuring the tone feels personal and engaging.\n\nExample Outputs:\n\nExample 1:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Warm and approachable.\n\t\t‚Ä¢\tagentLanguage: English.\n\t\t‚Ä¢\treturnPolicyData: 30 days.\n\t‚Ä¢\tOutput: You have up to 30 days to return your order. Could you please provide your order ID or email so I can assist you further?\n\nExample 2:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Friendly and enthusiastic.\n\t\t‚Ä¢\tagentLanguage: Dutch.\n\t\t‚Ä¢\treturnPolicyData: 14 days.\n\t‚Ä¢\tOutput: Je kunt je bestelling binnen 14 dagen retourneren. Kun je alsjeblieft je bestelnummer of e-mailadres doorgeven zodat ik je verder kan helpen?\n\nExample 3:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Professional but supportive.\n\t\t‚Ä¢\tagentLanguage: French.\n\t\t‚Ä¢\treturnPolicyData: 60 days.\n\t‚Ä¢\tOutput: Vous avez jusqu'√† 60 jours pour retourner votre commande. Pourriez-vous me fournir votre num√©ro de commande ou votre adresse e-mail afin que je puisse vous aider davantage ?"
            }
          ]
        },
        "6790a4cc2bfbef61764e2da3": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent assistant designed to analyze the assistant‚Äôs latest response stored in last_response and determine if it contains any product titles. The list of known product titles is provided in productTitlesForLLM. Your task is to compare the content of last_response with the product titles and identify if any are mentioned.",
          "messages": [
            {
              "role": "user",
              "content": "Task Instructions\n\t1.\tAnalyze Assistant Response:\n\t‚Ä¢\tCheck last_response to identify occurrences of product titles from productTitlesForLLM.\n\t‚Ä¢\tCompare using exact matches, ignoring case sensitivity.\n\t‚Ä¢\tEnsure no partial matches unless they represent the full product title.\n\t2.\tGenerate Output:\n\t‚Ä¢\tIf at least one product title is found in last_response, return true followed by the detected product title(s).\n\t‚Ä¢\tIf multiple titles are found, separate them with a comma.\n\t‚Ä¢\tIf no product titles are found, return false.\n\nInput Variables\n\t1.\tlast_response\n\t‚Ä¢\tThe most recent assistant response to the user.\n\t‚Ä¢\tStored in:\n\n{last_response}  \n\n\n\t2.\tproductTitlesForLLM\n\t‚Ä¢\tA list of known product titles.\n\t‚Ä¢\tStored in:\n\n{productTitlesForLLM}  \n\nOutput Format\n\t‚Ä¢\tIf product titles are found in the assistant response, return: true | product title\n\t‚Ä¢\tIf multiple product titles are found, return: true | product title1, product title2\n\t‚Ä¢\tIf no product titles are found, return: false\n\nExamples\n\nExample 1: Product Title Found\n\nInput:\n\nlast_response: ‚ÄúWe currently have the Snowboard X available in different sizes.‚Äù  \nproductTitlesForLLM: [\"Snowboard X\", \"Ski Y\", \"Helmet Z\"]  \n\nOutput: true | Snowboard X\n\nExample 2: Multiple Product Titles Found\n\nInput:\n\nlast_response: ‚ÄúWe offer the Ski Y and Helmet Z in our store.‚Äù  \nproductTitlesForLLM: [\"Snowboard X\", \"Ski Y\", \"Helmet Z\"]  \n\nOutput: true | Ski Y, Helmet Z\n\nExample 3: No Product Title Found\n\nInput:\n\nlast_response: ‚ÄúWe offer a range of winter sports accessories.‚Äù  \nproductTitlesForLLM: [\"Snowboard X\", \"Ski Y\", \"Helmet Z\"]  \n\nOutput: false"
            }
          ]
        },
        "6794dd3c97b1e544710dfe36": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent assistant designed to analyze the user‚Äôs response and extract a valid email address. Your goal is to accurately identify and return the email address from the user‚Äôs input.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables\n\t1.\tlast_utterance\n\t‚Ä¢\tThe most recent user message containing a potential email address.\n\t‚Ä¢\tStored in: {last_utterance}\n\nTask Instructions\n\nStep 1: Analyze User Input\n\t‚Ä¢\tCarefully examine the content of {last_utterance} to locate any valid email address.\n\t‚Ä¢\tEmail addresses must follow the standard format, typically containing an ‚Äú@‚Äù symbol and a valid domain (e.g., user@example.com).\n\nStep 2: Extract the Email Address\n\t‚Ä¢\tIdentify and return the detected email address.\n\t‚Ä¢\tIf no valid email address is found, return false.\n\t‚Ä¢\tIf multiple email addresses are present, return the first valid occurrence only.\n\nOutput Rules\n\t1.\tFormat:\n\t‚Ä¢\tProvide only the extracted email address if found.\n\t‚Ä¢\tExample output: user@example.com\n\t‚Ä¢\tIf no email address is found, return: false\n\t2.\tNo Additional Text:\n\t‚Ä¢\tThe output should contain only the extracted email address, without any explanations or extra characters.\n\nExamples of Behavior\n\nExample 1: Email Present\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: \"My email is john.doe@example.com.\"\n\t‚Ä¢\tOutput:\n\t‚Ä¢\tjohn.doe@example.com\n\nExample 2: Multiple Emails in Input\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: \"You can reach me at contact@domain.com or support@helpdesk.com.\"\n\t‚Ä¢\tOutput:\n\t‚Ä¢\tcontact@domain.com\n\nExample 3: No Email Found\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: \"I need help with my order, but I don't have an email.\"\n\t‚Ä¢\tOutput:\n\t‚Ä¢\tfalse\n\nExample 4: Incorrect Email Format\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: \"My email is john.doe[at]example[dot]com.\"\n\t‚Ä¢\tOutput:\n\t‚Ä¢\tfalse"
            }
          ]
        },
        "6794de8997b1e544710dfe46": {
          "settings": {
            "model": "gpt-4o-mini",
            "useStructuredOutput": false,
            "maxTokens": 500,
            "temperature": 0.3
          },
          "system": "You are an intelligent system designed to analyze return policies and extract the maximum number of return days allowed. Your task is to analyze the provided input and output only the number of days specified in the return policy.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variable\n\t‚Ä¢\treturnPolicyData:\nThis variable contains the number of days allowed for returns, stored as {returnPolicyData}.\n\nTask Instructions\n\t1.\tExtract Return Days:\n\t‚Ä¢\tIdentify and extract the maximum number of return days mentioned in the return policy data.\n\t‚Ä¢\tEnsure that only the numeric value representing the allowed return days is extracted.\n\t2.\tOutput Format:\n\t‚Ä¢\tThe output should consist of the numeric value only (e.g., 14, 30).\n\t‚Ä¢\tNo additional text, punctuation, or formatting should be included in the response.\n\nExample Inputs and Expected Outputs\n\t‚Ä¢\tInput: ‚ÄúOur return policy allows for returns within 30 days of purchase.‚Äù\nOutput: 30\n\t‚Ä¢\tInput: ‚ÄúYou can return items within 14 days.‚Äù\nOutput: 14\n\t‚Ä¢\tInput: ‚ÄúReturns are accepted up to 60 days from the date of delivery.‚Äù\nOutput: 60\n\t‚Ä¢\tInput: ‚ÄúThe return window is open for 90 days.‚Äù\nOutput: 90\n\nMake sure to extract the correct number of days with precision based on the provided return policy text."
            }
          ]
        },
        "6794f33e97b1e544710dfebf": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 504,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are an AI assistant that communicates in a style defined by the variables agentLanguage and agentPersona. Your task is to inform the customer that one matching order has been found and ask them to select the items they wish to return.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t‚Ä¢\tagentLanguage:\nThe language in which the response should be generated, stored in: {agentLanguage} \n\t‚Ä¢\tagentPersona:\nThe tone and style of the assistant‚Äôs communication, stored in: {agentPersona} \n\t‚Ä¢\torderNumber:\nThe matching order number, stored in: {orderNumber}.\n\t‚Ä¢\treturnProductTitles:\nThe list of products available for return, stored in: {returnProductTitles}.\n\nTask Instructions:\n\t1.\tAcknowledge the matching order:\n\t‚Ä¢\tConfirm to the customer that their order with number has been found.\n\t2.\tList the returnable items:\n\t‚Ä¢\tPresent the items available for return from in a clear and user-friendly format.\n\t3.\tRequest selection:\n\t‚Ä¢\tAsk the customer to select the items they wish to return.\n\t4.\tTone and Style:\n\t‚Ä¢\tEnsure the response aligns with agentPersona and is in the language specified by agentLanguage.\n\nExample Response (English, Friendly Persona):\n\nGreat news! We‚Äôve found your order with the number #0000. The following items are available for return: product 1, product 2. Please select the items you‚Äôd like to return, and we‚Äôll guide you through the next steps!\n\nMake sure the generated response is clear, engaging, and guides the customer effortlessly through the return process."
            }
          ]
        },
        "6799e83eaecde270efc32340": {
          "settings": {
            "model": "gpt-4o-mini",
            "maxTokens": 400,
            "useStructuredOutput": false,
            "temperature": 0.3
          },
          "system": "You are a helpful and professional assistant that provides clear and concise information to customers.\n\nYour task is to inform the customer that they can find their up-to-date shipping information by clicking the link below. The response should be direct, aligned with the persona, and written in the language specified in language.",
          "messages": [
            {
              "role": "user",
              "content": "Input Variables:\n\t‚Ä¢\tPersona: {agentPersona} ‚Äì Ensures the tone matches the brand‚Äôs customer service style.\n\t‚Ä¢\tLanguage: {agentLanguage} ‚Äì The language in which the response should be generated.\n\nInstructions:\n\t1.\tInform the customer about the tracking link:\n\t‚Ä¢\tClearly state that the latest shipping details are available via the provided link.\n\t‚Ä¢\tKeep the response short and to the point.\n\t2.\tMaintain Clarity and Directness:\n\t‚Ä¢\tDo not include unnecessary details or additional follow-up questions.\n\t‚Ä¢\tEnsure the tone aligns with the persona while keeping the message professional."
            }
          ]
        }
      },
      "apiTools": {},
      "messages": {},
      "integrationTools": {}
    },
    "prototype": {
      "type": "chat",
      "data": {
        "name": "Plateprestige Agent",
        "locales": [
          "en-US"
        ]
      },
      "model": {
        "intents": [],
        "slots": []
      },
      "context": {
        "stack": [
          {
            "diagramID": "64dbb6696a8fab0013dba194",
            "storage": {},
            "variables": {}
          }
        ],
        "variables": {}
      },
      "surveyorContext": {
        "nonDraftResponsesMap": {},
        "responseMessagesByDiscriminatorIDMap": {},
        "responseDiscriminatorsByResponseIDMap": {},
        "functionDefinitions": {
          "679293f5f2a1a96c77921d6b": {
            "name": "Shopify - Get Upsell Information",
            "codeId": "689247ef52036d1f3e225354-679293f5f2a1a96c77921d6b-bbijdkm.js",
            "pathCodes": [
              "success",
              "error"
            ],
            "inputVars": {
              "shopifyApiVersion": {
                "type": "text",
                "description": ""
              },
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {
              "rawOrderData": {
                "type": "text",
                "description": ""
              },
              "productPairsForLLM": {
                "type": "text",
                "description": ""
              }
            },
            "description": "1.\tFinds Latest Orders:\n\t‚Ä¢\tThe function retrieves the most recent orders from a data source.\n2.\tGenerates Product Pairs:\n\t‚Ä¢\tIt identifies product combinations (pairs) from these orders.\n3.\tCalculates Weight Scores:\n\t‚Ä¢\tEach product pair is assigned a weight score based on its frequency of occurrence across orders (i.e., how often the pair appears together).\n4.\tFormats Output in JSON:\n\t‚Ä¢\tThe final output is a JSON structure that contains the product pairs and their respective weight scores, formatted for easy use in further processing (such as for a prompt or analysis)."
          },
          "6793726492c4506f06159f56": {
            "name": "Generate Dynamic Upsell Carousel",
            "codeId": "689247ef52036d1f3e225354-6793726492c4506f06159f56-jellmpmg.js",
            "pathCodes": [
              "fallback",
              "checkout",
              "error",
              "moreInfo",
              "no_match",
              "bt_notInterested"
            ],
            "inputVars": {
              "bt_orderNow": {
                "type": "text",
                "description": ""
              },
              "filteredProducts": {
                "type": "text",
                "description": ""
              },
              "bt_moreInfo": {
                "type": "text",
                "description": ""
              },
              "rawProductData": {
                "type": "text",
                "description": ""
              },
              "bt_notInterested": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {},
            "description": ""
          },
          "6793ccfa92c4506f0615da61": {
            "name": "Shopify - Get Tracking URL",
            "codeId": "689247ef52036d1f3e225354-6793ccfa92c4506f0615da61-nakgbnan.js",
            "pathCodes": [
              "success",
              "error"
            ],
            "inputVars": {
              "orderNumber": {
                "type": "text",
                "description": ""
              },
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {
              "trackingURL": {
                "type": "text",
                "description": ""
              }
            },
            "description": ""
          },
          "6793e829006dc7f7d20d603d": {
            "name": "Shopify - Email Get Order Data",
            "codeId": "689247ef52036d1f3e225354-6793e829006dc7f7d20d603d-kgaacefp.js",
            "pathCodes": [
              "error",
              "success"
            ],
            "inputVars": {
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              },
              "email": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {
              "ordersData": {
                "type": "text",
                "description": ""
              }
            },
            "description": ""
          },
          "6793e89f350d65537076d6d9": {
            "name": "Generate Orders Carousel",
            "codeId": "689247ef52036d1f3e225354-6793e89f350d65537076d6d9-lomnoncd.js",
            "pathCodes": [
              "success",
              "error"
            ],
            "inputVars": {
              "ordersData": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {},
            "description": ""
          },
          "6794d2c892c4506f06164ea4": {
            "name": "Shopify - Get Return Policy Data",
            "codeId": "689247ef52036d1f3e225354-6794d2c892c4506f06164ea4-afkanekh.js",
            "pathCodes": [
              "success",
              "error"
            ],
            "inputVars": {
              "shopifyApiVersion": {
                "type": "text",
                "description": ""
              },
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {
              "returnPolicyBody": {
                "type": "text",
                "description": ""
              }
            },
            "description": ""
          },
          "6794e33792c4506f06165a3c": {
            "name": "Shopify - Get Return Orders by OrderID",
            "codeId": "689247ef52036d1f3e225354-6794e33792c4506f06165a3c-aicnadam.js",
            "pathCodes": [
              "success",
              "no_valid",
              "error"
            ],
            "inputVars": {
              "extractReturnDays": {
                "type": "text",
                "description": ""
              },
              "shopifyApiVersion": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              },
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              },
              "orderNumber": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {
              "orderNumber": {
                "type": "text",
                "description": ""
              },
              "productTitles": {
                "type": "text",
                "description": ""
              },
              "orderedQuantities": {
                "type": "text",
                "description": ""
              },
              "orderID": {
                "type": "text",
                "description": ""
              }
            },
            "description": ""
          },
          "6794e53b92c4506f06165bb9": {
            "name": "Shopify - Get Return Orders by Email",
            "codeId": "689247ef52036d1f3e225354-6794e53b92c4506f06165bb9-ahjmnem.js",
            "pathCodes": [
              "success",
              "no_valid",
              "error"
            ],
            "inputVars": {
              "extractReturnDays": {
                "type": "text",
                "description": ""
              },
              "shopifyApiVersion": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              },
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              },
              "customerEmail": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {
              "productTitles": {
                "type": "text",
                "description": ""
              },
              "orderNumbers": {
                "type": "text",
                "description": ""
              },
              "orderedQuantities": {
                "type": "text",
                "description": ""
              },
              "orderIDs": {
                "type": "text",
                "description": ""
              }
            },
            "description": ""
          },
          "67950c2d92c4506f06166d71": {
            "name": "Dynamic Carousel Return Products",
            "codeId": "689247ef52036d1f3e225354-67950c2d92c4506f06166d71-idnaomie.js",
            "pathCodes": [
              "processReturn",
              "fallback",
              "no_match"
            ],
            "inputVars": {
              "bt_createReturn": {
                "type": "text",
                "description": ""
              },
              "rawProductData": {
                "type": "text",
                "description": ""
              },
              "returnProductTitles": {
                "type": "text",
                "description": ""
              },
              "orderedQuantity": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {},
            "description": ""
          },
          "678a31003f09b38dd6f7ea01": {
            "name": "Shopify - Get All Products",
            "codeId": "689247ef52036d1f3e225354-678a31003f09b38dd6f7ea01-ifeldlcf.js",
            "pathCodes": [
              "success",
              "error"
            ],
            "inputVars": {
              "shopifyApiVersion": {
                "type": "text",
                "description": ""
              },
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {
              "rawProductData": {
                "type": "text",
                "description": ""
              },
              "productInfoForLLM": {
                "type": "text",
                "description": ""
              },
              "productTitlesForLLM": {
                "type": "text",
                "description": ""
              }
            },
            "description": "This will get all the products from the clients Shopify backend"
          },
          "67976484639c4e49bca26770": {
            "name": "Shopify - Create Return Request",
            "codeId": "689247ef52036d1f3e225354-67976484639c4e49bca26770-mendemde.js",
            "pathCodes": [
              "success",
              "error"
            ],
            "inputVars": {
              "shopifyOrderID": {
                "type": "text",
                "description": ""
              },
              "returnReason": {
                "type": "text",
                "description": ""
              },
              "returnProductQuantity": {
                "type": "text",
                "description": ""
              },
              "selectedProductTitle": {
                "type": "text",
                "description": ""
              },
              "shopifyApiVersion": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              },
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {},
            "description": ""
          },
          "679e1e84b581cc269ec41d8f": {
            "name": "Shopify - Return the Whole Order",
            "codeId": "689247ef52036d1f3e225354-679e1e84b581cc269ec41d8f-holgojjn.js",
            "pathCodes": [
              "success",
              "error"
            ],
            "inputVars": {
              "orderNumber": {
                "type": "text",
                "description": ""
              },
              "shopifyApiVersion": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              },
              "shopifyAdminAccessToken": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {},
            "description": ""
          },
          "67372bf4dd4bf1d669dc1b86": {
            "name": "Generate Dynamic Carousel",
            "codeId": "689247ef52036d1f3e225354-67372bf4dd4bf1d669dc1b86-ijepmiig.js",
            "pathCodes": [
              "checkout",
              "no_match",
              "error",
              "moreInfo",
              "fallback"
            ],
            "inputVars": {
              "bt_orderNow": {
                "type": "text",
                "description": ""
              },
              "rawProductData": {
                "type": "text",
                "description": ""
              },
              "filteredProducts": {
                "type": "text",
                "description": ""
              },
              "bt_moreInfo": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {},
            "description": ""
          },
          "67377d2cbdb17488f6f808d7": {
            "name": "Shopify - Create Checkout URL",
            "codeId": "689247ef52036d1f3e225354-67377d2cbdb17488f6f808d7-eilemckd.js",
            "pathCodes": [
              "success",
              "error"
            ],
            "inputVars": {
              "shopifyStorefrontAccessToken": {
                "type": "text",
                "description": ""
              },
              "shopifyStoreID": {
                "type": "text",
                "description": ""
              },
              "shopifyApiVersion": {
                "type": "text",
                "description": ""
              },
              "orderProductList": {
                "type": "text",
                "description": ""
              }
            },
            "outputVars": {
              "checkoutUrl": {
                "type": "text",
                "description": ""
              }
            },
            "description": ""
          }
        },
        "referencedResponseIDs": [],
        "referencedAgentsIDs": [],
        "referencedAPIToolIDs": [],
        "referencedIntegrationToolIDs": [],
        "slotsMap": {},
        "platform": "webchat",
        "products": {},
        "extraSlots": [],
        "interfaces": [],
        "permissions": [],
        "projectType": "chat",
        "extraIntents": [],
        "usedEventsSet": [],
        "usedIntentsSet": [],
        "goToIntentsSet": [],
        "entitiesMap": {},
        "variableMap": {},
        "intentsMap": {},
        "requiredEntitiesMap": {},
        "eventsMap": {},
        "cmsVariables": {
          "isValid": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "bt_createReturn": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "lb_quantity": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "lb_reason": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "bt_submit": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "returnQuantity": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "returnReason": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "greetingsFeatures": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "responseMemory": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "orderProductList": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "agentPersona": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "agentLanguage": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "bt_moreInfo": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "sessions": {
            "isSystem": true,
            "description": "The number of times a particular user has opened the app.",
            "defaultValue": null
          },
          "user_id": {
            "isSystem": true,
            "description": "The user's unique ID.",
            "defaultValue": null
          },
          "timestamp": {
            "isSystem": true,
            "description": "UNIX timestamp (number of seconds since January 1st, 1970 at UTC).",
            "defaultValue": null
          },
          "platform": {
            "isSystem": true,
            "description": "The platform your agent is running on (e.g. \"voiceflow\").",
            "defaultValue": null
          },
          "locale": {
            "isSystem": true,
            "description": "The locale of the user (eg. en-US, en-CA, it-IT, fr-FR, ...).",
            "defaultValue": null
          },
          "KB_response": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "The final answer formed by the AI to be shown to the user.",
            "defaultValue": null
          },
          "intent_confidence": {
            "isSystem": true,
            "description": "The confidence interval (measured as a value from 0 to 100) for the most recently matched intent.",
            "defaultValue": null
          },
          "last_response": {
            "isSystem": true,
            "description": "The agent's last response (text/speak) in a string.",
            "defaultValue": null
          },
          "last_event": {
            "isSystem": true,
            "description": "The object containing the last event that the user client has triggered.",
            "defaultValue": null
          },
          "last_utterance": {
            "isSystem": true,
            "description": "The user's last utterance in a text string.",
            "defaultValue": null
          },
          "vf_memory": {
            "isSystem": true,
            "description": "Last 10 user inputs and agent responses in a string (e.g. \"agent: How can i help?\"\nuser: What's the weather today?).",
            "defaultValue": null
          },
          "optimized_question": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "Optimized version of the users question for the AI to answer. It stores a reformatted question that uses memory.",
            "defaultValue": null
          },
          "clarifying_question_check_counter": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "How many times the AI has asked a clarifying question. This is used so it doesnt ask too many clarifying questions.",
            "defaultValue": null
          },
          "clarifying_question_check": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "Determine if the AI needs to ask a clarifying question.",
            "defaultValue": null
          },
          "clarifying_question": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "Clarifying question asked by the AI",
            "defaultValue": null
          },
          "language_JSON": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "Information about the users language. Generated by AI",
            "defaultValue": null
          },
          "chunks": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "Information received from the knowledge base - also known as 'chunks'.",
            "defaultValue": null
          },
          "shopifyStoreID": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "nextPath": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "nicheSubject": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "productSupportInfo": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "relevantProducts": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "currentState": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "shopifyApiVersion": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "productInfoForLLM": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedProductDescription": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "bt_checkout": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "filteredProducts": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedProductID": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedProductSKU": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedProductPrice": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedProductTitle": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedVariantID": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedProductQuantity": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "checkoutUrl": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "bt_orderNow": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "isSupportQuestion": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "translatedButtons": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedVariantPrices": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "nicheAnalysisData": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "selectedVariantTitles": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "analyzedProductTitles": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "productTitlesForLLM": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "bt_notInterested": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "orderProductListString": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "filteredUpsellProducts": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "productPairsForLLM": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "rawUpsellOrderData": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "rawProductData": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "skipUpsell": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "orderFormat": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "orderNumber": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "trackingURL": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "bt_shippingInformation": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "ordersData": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "returnPolicyData": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "extractReturnDays": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "returnProductTitles": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "orderedQuantities": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          },
          "orderID": {
            "isArray": false,
            "isSystem": false,
            "datatype": "any",
            "description": "",
            "defaultValue": null
          }
        },
        "cmsEntities": {}
      },
      "settings": {},
      "platform": "webchat"
    },
    "settings": {
      "widget": {
        "type": "chat",
        "chat": {
          "voiceInput": true,
          "voiceOutput": true,
          "renderMode": "widget",
          "headerImage": {
            "enabled": true,
            "url": "https://cm4-production-assets.s3.amazonaws.com/1754475920564-plateprestige.svg"
          },
          "agentImage": {
            "enabled": true,
            "url": "https://cm4-production-assets.s3.amazonaws.com/1737545267709-chat-profile-picture.png"
          },
          "banner": {
            "title": "Your AI agent",
            "description": "How can I help you today?",
            "enabled": false
          },
          "placeholderText": "Message...",
          "aiDisclaimer": {
            "text": "Generated by AI, double-check for accuracy.",
            "enabled": false
          },
          "handoffToAgentImageURL": ""
        },
        "voice": {
          "renderMode": "full",
          "content": {
            "talkingText": "Talk to interrupt",
            "endButtonText": "End",
            "listeningText": "Listening...",
            "startButtonText": "Start a call",
            "callToActionText": "How can I help you?"
          }
        },
        "common": {
          "sideSpacing": "20",
          "bottomSpacing": "20",
          "position": "right",
          "fontFamily": "Poppins",
          "primaryColor": {
            "color": "#023491",
            "palette": {
              "50": "#E6EFFF",
              "100": "#CDDEFE",
              "200": "#9ABDFE",
              "300": "#689CFD",
              "400": "#367BFC",
              "500": "#035AFC",
              "600": "#0348C9",
              "700": "#023697",
              "800": "#012465",
              "900": "#011232"
            }
          },
          "poweredBy": false,
          "launcher": {
            "type": "both",
            "text": "Plateprestige",
            "imageURL": "https://cm4-production-assets.s3.amazonaws.com/1754475934386-plateprestige.svg"
          },
          "footerLink": {
            "enabled": true,
            "text": "Convizr",
            "url": "https://convizr.com/"
          },
          "persistence": "localStorage"
        }
      },
      "intentClassification": {
        "type": "llm",
        "params": {
          "model": "claude-3-haiku",
          "temperature": 0.1
        },
        "promptWrapper": null
      },
      "voice": {
        "failureMessage": "We‚Äôre sorry, but the call cannot be completed at this time. Please try again later.",
        "hasCallRecording": true,
        "tts": {
          "provider": "elevenlabs",
          "voice": "Xb7hH8MSUJpSbSDYk0k2",
          "model": "eleven_turbo_v2_5",
          "settings": {}
        }
      },
      "globalNoMatch": {
        "type": "static",
        "prompt": [
          {
            "text": [
              "Sorry, I didn‚Äôt get that. Please try again."
            ]
          }
        ]
      }
    },
    "topics": [
      {
        "type": "DIAGRAM",
        "sourceID": "64dbb6696a8fab0013dba194"
      }
    ],
    "variables": [
      "isValid",
      "bt_createReturn",
      "lb_quantity",
      "lb_reason",
      "bt_submit",
      "returnQuantity",
      "returnReason",
      "greetingsFeatures",
      "responseMemory",
      "orderProductList",
      "agentPersona",
      "agentLanguage",
      "bt_moreInfo",
      "sessions",
      "user_id",
      "timestamp",
      "platform",
      "locale",
      "KB_response",
      "intent_confidence",
      "last_response",
      "last_event",
      "last_utterance",
      "vf_memory",
      "optimized_question",
      "clarifying_question_check_counter",
      "clarifying_question_check",
      "clarifying_question",
      "language_JSON",
      "chunks",
      "shopifyStoreID",
      "nextPath",
      "nicheSubject",
      "productSupportInfo",
      "relevantProducts",
      "currentState",
      "shopifyApiVersion",
      "productInfoForLLM",
      "selectedProductDescription",
      "bt_checkout",
      "filteredProducts",
      "selectedProductID",
      "selectedProductSKU",
      "selectedProductPrice",
      "selectedProductTitle",
      "selectedVariantID",
      "selectedProductQuantity",
      "checkoutUrl",
      "bt_orderNow",
      "isSupportQuestion",
      "translatedButtons",
      "selectedVariantPrices",
      "nicheAnalysisData",
      "selectedVariantTitles",
      "analyzedProductTitles",
      "productTitlesForLLM",
      "bt_notInterested",
      "orderProductListString",
      "filteredUpsellProducts",
      "productPairsForLLM",
      "rawUpsellOrderData",
      "rawProductData",
      "skipUpsell",
      "orderFormat",
      "orderNumber",
      "trackingURL",
      "bt_shippingInformation",
      "ordersData",
      "returnPolicyData",
      "extractReturnDays",
      "returnProductTitles",
      "orderedQuantities",
      "orderID"
    ],
    "_id": "689247ef52036d1f3e225354",
    "updatedAt": "2025-08-05T19:40:05.295Z",
    "publishedAt": "2024-09-27T16:54:27.996Z",
    "domains": [
      {
        "id": "cla06iyr900b206pkh8d4ap8n",
        "name": "Home",
        "live": true,
        "topicIDs": [
          "64dbb6696a8fab0013dba194"
        ],
        "rootDiagramID": "64dbb6696a8fab0013dba194",
        "updatedBy": 893814,
        "updatedAt": "2025-08-05T18:05:45.806Z"
      }
    ],
    "projectID": "689247ef52036d1f3e225353",
    "rootDiagramID": "64dbb6696a8fab0013dba194",
    "templateDiagramID": "64dbb6696a8fab0013dba195"
  },
  "diagrams": {
    "6793c36a97b1e544710df105": {
      "name": "Check Recommendation Position",
      "type": "COMPONENT",
      "zoom": 100,
      "nodes": {
        "6793c36a7f3a100007462960": {
          "type": "start",
          "data": {
            "name": "Enter",
            "color": "#56b365",
            "triggers": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "id": "6793c36a7f3a10000746295f",
                  "type": "next",
                  "data": {
                    "points": [
                      {
                        "point": [
                          364.44,
                          67.35
                        ]
                      },
                      {
                        "point": [
                          450.82,
                          70.45
                        ]
                      }
                    ]
                  },
                  "target": "6793c37639a5434e8b4a8224"
                }
              },
              "dynamic": []
            },
            "steps": []
          },
          "nodeID": "6793c36a7f3a100007462960",
          "coords": [
            297.97091291396544,
            45.354827404941304
          ]
        },
        "6793c37639a5434e8b4a8224": {
          "type": "block",
          "data": {
            "name": "New Block 18",
            "color": "#9c9e6c",
            "steps": [
              "6793c37639a5434e8b4a8230"
            ]
          },
          "nodeID": "6793c37639a5434e8b4a8224",
          "coords": [
            615.8200912724751,
            43.446434225869496
          ]
        },
        "6793c37639a5434e8b4a8226": {
          "type": "block",
          "data": {
            "name": "New Block 38",
            "color": "#9c9e6c",
            "steps": [
              "6793c37639a5434e8b4a8235"
            ]
          },
          "nodeID": "6793c37639a5434e8b4a8226",
          "coords": [
            1168.0700912724794,
            -87.30356577413113
          ]
        },
        "6793c37639a5434e8b4a8228": {
          "type": "block",
          "data": {
            "name": "New Block 40",
            "color": "#9c9e6c",
            "steps": [
              "6793c37639a5434e8b4a823a"
            ]
          },
          "nodeID": "6793c37639a5434e8b4a8228",
          "coords": [
            1358.1682995519247,
            256.8491130866827
          ]
        },
        "6793c37639a5434e8b4a822a": {
          "type": "block",
          "data": {
            "name": "New Block 39",
            "color": "#9c9e6c",
            "steps": [
              "6793c37639a5434e8b4a823d"
            ]
          },
          "nodeID": "6793c37639a5434e8b4a822a",
          "coords": [
            870.1909303864375,
            336.057033878762
          ]
        },
        "6793c37639a5434e8b4a822c": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793c37639a5434e8b4a8241"
            ]
          },
          "nodeID": "6793c37639a5434e8b4a822c",
          "coords": [
            2464.339908727525,
            516.6735657741311
          ]
        },
        "6793c37639a5434e8b4a822e": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793c37639a5434e8b4a8242"
            ]
          },
          "nodeID": "6793c37639a5434e8b4a822e",
          "coords": [
            2464.339908727525,
            516.6735657741311
          ]
        },
        "6793c37639a5434e8b4a8230": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm62fdpmc0c7h2e779um4gsdl",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "6737798abdb17488f6f80564"
                        },
                        "rhs": [
                          {
                            "text": [
                              "0"
                            ]
                          }
                        ],
                        "key": "cm62fdpmc0c7i2e77oeujup7t",
                        "operation": "is_not"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793c37639a5434e8b4a8231"
                },
                "else": {
                  "type": "else",
                  "target": "6793c37639a5434e8b4a822a",
                  "id": "6793c37639a5434e8b4a8232",
                  "data": {
                    "points": [
                      {
                        "point": [
                          781.8199087275252,
                          176.94356577413112
                        ]
                      },
                      {
                        "point": [
                          870.1999087275251,
                          176.94356577413112
                        ]
                      },
                      {
                        "point": [
                          870.1999087275251,
                          336.05356577413113
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm62fdpmc0c7h2e779um4gsdl": {
                  "type": "",
                  "target": "6793c37639a5434e8b4a8226",
                  "id": "6793c37639a5434e8b4a8233",
                  "data": {
                    "points": [
                      {
                        "point": [
                          781.8199087275252,
                          122.7035657741311
                        ]
                      },
                      {
                        "point": [
                          892.4499087275251,
                          122.7035657741311
                        ]
                      },
                      {
                        "point": [
                          892.4499087275251,
                          -60.306434225868884
                        ]
                      },
                      {
                        "point": [
                          1003.0799087275252,
                          -60.306434225868884
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c37639a5434e8b4a8230"
        },
        "6793c37639a5434e8b4a8235": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm6az971f01tq2e77o1nex8ki",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "673779d9bdb17488f6f805e6"
                        },
                        "rhs": [
                          {
                            "text": [
                              "0"
                            ]
                          }
                        ],
                        "key": "cm6az971g01tr2e77tt11sal8",
                        "operation": "is_not"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793c37639a5434e8b4a8236"
                },
                "else": {
                  "type": "else",
                  "target": "6793c37639a5434e8b4a8228",
                  "id": "6793c37639a5434e8b4a8237",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1334.0899087275252,
                          67.7035657741311
                        ]
                      },
                      {
                        "point": [
                          1358.1799087275251,
                          67.7035657741311
                        ]
                      },
                      {
                        "point": [
                          1358.1799087275251,
                          256.85356577413114
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6az971f01tq2e77o1nex8ki": {
                  "type": "",
                  "target": "6793c37639a5434e8b4a822c",
                  "id": "6793c37639a5434e8b4a8238",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c37639a5434e8b4a8235"
        },
        "6793c37639a5434e8b4a823a": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6793c1d497b1e544710df0f6",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6793c37639a5434e8b4a822e",
                  "id": "6793c37639a5434e8b4a823b",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c37639a5434e8b4a823a"
        },
        "6793c37639a5434e8b4a823d": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm6azfj0501y62e77c8xrobj9",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "673719f5181991bb60d8d275"
                        },
                        "rhs": [
                          {
                            "text": [
                              "0"
                            ]
                          }
                        ],
                        "key": "cm6azfj0501y72e773188300d",
                        "operation": "is_not"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793c37639a5434e8b4a823e"
                },
                "else": {
                  "type": "else",
                  "target": null,
                  "id": "6793c37639a5434e8b4a823f",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1036.209908727525,
                          469.5635657741311
                        ]
                      },
                      {
                        "point": [
                          1060.209908727525,
                          469.5635657741311
                        ]
                      },
                      {
                        "point": [
                          1060.209908727525,
                          562.2135657741312
                        ]
                      },
                      {
                        "point": [
                          877.9799087275253,
                          562.2135657741312
                        ]
                      },
                      {
                        "point": [
                          877.9799087275253,
                          654.8735657741311
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6azfj0501y62e77c8xrobj9": {
                  "type": "",
                  "target": "6793c37639a5434e8b4a8228",
                  "id": "6793c37639a5434e8b4a8240",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1036.209908727525,
                          415.30356577413113
                        ]
                      },
                      {
                        "point": [
                          1114.689908727525,
                          415.30356577413113
                        ]
                      },
                      {
                        "point": [
                          1114.689908727525,
                          283.85356577413114
                        ]
                      },
                      {
                        "point": [
                          1193.1799087275251,
                          283.85356577413114
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c37639a5434e8b4a823d"
        },
        "6793c37639a5434e8b4a8241": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67939fa8f9ab19302f95e5d0",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c37639a5434e8b4a8241"
        },
        "6793c37639a5434e8b4a8242": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67371987f1df6c55d152496b",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c37639a5434e8b4a8242"
        }
      },
      "offsetX": 321.6232696688277,
      "offsetY": 263.71613807604695,
      "modified": 1737737066,
      "creatorID": 893814,
      "variables": [],
      "_id": "689247f952036d1f3e2253db",
      "diagramID": "6793c36a97b1e544710df105",
      "versionID": "689247ef52036d1f3e225354"
    },
    "679295fe8e3d3b8949dcf4e1": {
      "name": "Dynamic Upsell & Cross-sell",
      "type": "COMPONENT",
      "zoom": 100,
      "nodes": {
        "679295fe443d100007814cae": {
          "type": "start",
          "data": {
            "name": "Enter",
            "color": "#56b365",
            "triggers": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "id": "679295fe443d100007814cad",
                  "type": "next",
                  "data": {
                    "points": [
                      {
                        "point": [
                          426.49,
                          141.99
                        ]
                      },
                      {
                        "point": [
                          535.36,
                          142.51
                        ]
                      }
                    ]
                  },
                  "target": "6792960880997630bccecbd9"
                }
              },
              "dynamic": []
            },
            "steps": []
          },
          "nodeID": "679295fe443d100007814cae",
          "coords": [
            360,
            120
          ]
        },
        "6792960880997630bccecbd7": {
          "type": "function",
          "data": {
            "inputMapping": {
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "productPairsForLLM": "679294b5f2a1a96c77921e2c",
              "rawOrderData": "679294d2f2a1a96c77921e40"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6792960880997630bccecbd8"
                },
                "67929423f2a1a96c77921d8e": {
                  "id": "6792961480997630bccecbe0",
                  "target": "67929d198459ba6b7b305a29",
                  "type": "",
                  "data": {}
                },
                "6792942af2a1a96c77921da0": {
                  "id": "6792961480997630bccecbe1",
                  "target": null,
                  "type": ""
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "679293f5f2a1a96c77921d6b",
            "name": "Shopify - Get Upsell Information"
          },
          "nodeID": "6792960880997630bccecbd7"
        },
        "6792960880997630bccecbd9": {
          "type": "block",
          "data": {
            "name": "New Block 1",
            "steps": [
              "6792960880997630bccecbd7"
            ]
          },
          "nodeID": "6792960880997630bccecbd9",
          "coords": [
            700.3601271015356,
            115.51372882935149
          ]
        },
        "67929d198459ba6b7b305a27": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm69qxgwt00752e77rxm62xhm",
                "type": "prompt",
                "label": null,
                "value": "67929d264de301f712c5a22f",
                "variableID": "67929ec26edea88a5de34547"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "67929f068459ba6b7b305cca",
                  "id": "67929d198459ba6b7b305a28",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1274.51,
                          323.49
                        ]
                      },
                      {
                        "point": [
                          1402.77,
                          323.49
                        ]
                      },
                      {
                        "point": [
                          1402.77,
                          44.73
                        ]
                      },
                      {
                        "point": [
                          1531.04,
                          44.73
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67929d198459ba6b7b305a27"
        },
        "67929d198459ba6b7b305a29": {
          "type": "block",
          "data": {
            "name": "New Block 2",
            "steps": [
              "67929ed08459ba6b7b305b71",
              "67929d198459ba6b7b305a27"
            ]
          },
          "nodeID": "67929d198459ba6b7b305a29",
          "coords": [
            1108.5239247257896,
            118.48219281207334
          ]
        },
        "67929ed08459ba6b7b305b71": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3iz8i3501nc2e783y14e52g",
                "type": "script",
                "label": null,
                "value": [
                  "JSON.stringify(",
                  {
                    "variableID": "6735e330863bc8c813ddfd5e"
                  },
                  ")"
                ],
                "variableID": "67929df56edea88a5de3444f"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67929ed08459ba6b7b305b72"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67929ed08459ba6b7b305b71"
        },
        "67929f068459ba6b7b305cc2": {
          "type": "function",
          "data": {
            "name": "Generate Dynamic Upsell Carousel",
            "functionID": "6793726492c4506f06159f56",
            "inputMapping": {
              "filteredProducts": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67929ec26edea88a5de34547"
                    },
                    " "
                  ]
                }
              ],
              "formattedProductData": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67365094181991bb60d86ab4"
                    },
                    " "
                  ]
                }
              ],
              "bt_checkout": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67372d22dd4bf1d669dc1da0"
                    },
                    " "
                  ]
                }
              ],
              "bt_orderNow": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "673784c1bdb17488f6f81033"
                    },
                    " "
                  ]
                }
              ],
              "bt_moreInfo": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "678ba47022fbcb6ac61273fd"
                    },
                    " "
                  ]
                }
              ],
              "rawProductData": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67365094181991bb60d86ab4"
                    },
                    " "
                  ]
                }
              ],
              "bt_notInterested": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6793721292c4506f06159eff"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {},
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "67929f068459ba6b7b305cc3"
                },
                "6793726492c4506f06159f57": {
                  "id": "67937294f9ab19302f95d907",
                  "target": "67939f84f9ab19302f95e2c5",
                  "type": "",
                  "data": {}
                },
                "6793726492c4506f06159f58": {
                  "id": "67937294f9ab19302f95d908",
                  "target": "6793a008f9ab19302f95e76d",
                  "type": "",
                  "data": {}
                },
                "6793726492c4506f06159f59": {
                  "id": "67937294f9ab19302f95d909",
                  "target": "6793a05cf9ab19302f95ebd5",
                  "type": "",
                  "data": {}
                },
                "6793726492c4506f06159f5a": {
                  "id": "67937294f9ab19302f95d90a",
                  "target": "6793a015f9ab19302f95e775",
                  "type": "",
                  "data": {}
                },
                "6793726492c4506f06159f5b": {
                  "id": "67937294f9ab19302f95d90b",
                  "target": "6793a025f9ab19302f95e77d",
                  "type": "",
                  "data": {}
                },
                "6793728992c4506f06159f83": {
                  "id": "67937294f9ab19302f95d90c",
                  "target": "67939e9bf9ab19302f95df6d",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67929f068459ba6b7b305cc2",
          "coords": [
            0,
            0
          ]
        },
        "67929f068459ba6b7b305cca": {
          "type": "block",
          "data": {
            "name": "Dynamic Carousel Upsell",
            "color": "#56b365",
            "steps": [
              "67936debf9ab19302f95d42d",
              "67929f068459ba6b7b305cc2"
            ]
          },
          "nodeID": "67929f068459ba6b7b305cca",
          "coords": [
            1564.183146073593,
            121.45065679479531
          ]
        },
        "67936debf9ab19302f95d42d": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "67936ded97b1e544710ded72",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67936debf9ab19302f95d42e"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67936debf9ab19302f95d42d"
        },
        "67939e9bf9ab19302f95df6c": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67377c37399970d73c31892a",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67939e9bf9ab19302f95df6c"
        },
        "67939e9bf9ab19302f95df6d": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "67939e9bf9ab19302f95df6c"
            ]
          },
          "nodeID": "67939e9bf9ab19302f95df6d",
          "coords": [
            0,
            0
          ]
        },
        "67939f84f9ab19302f95e2c4": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6aub7pm04bu2e77hmy59jmg",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "true"
                    ]
                  }
                ],
                "variableID": "67939f8b92c4506f0615b722"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67939f84f9ab19302f95e2c6"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67939f84f9ab19302f95e2c4"
        },
        "67939f84f9ab19302f95e2c5": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "67939f84f9ab19302f95e2c4",
              "67939f92f9ab19302f95e2cc"
            ]
          },
          "nodeID": "67939f84f9ab19302f95e2c5",
          "coords": [
            0,
            0
          ]
        },
        "67939f92f9ab19302f95e2cc": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67372f71698af89bf146f52c",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67939f92f9ab19302f95e2cc"
        },
        "6793a008f9ab19302f95e76c": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6aue1v604oi2e77xcoulzm5",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "true"
                    ]
                  }
                ],
                "variableID": "67939f8b92c4506f0615b722"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793a008f9ab19302f95e76e"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793a008f9ab19302f95e76c"
        },
        "6793a008f9ab19302f95e76d": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793a008f9ab19302f95e76c",
              "6793a041f9ab19302f95e8f4"
            ]
          },
          "nodeID": "6793a008f9ab19302f95e76d",
          "coords": [
            0,
            0
          ]
        },
        "6793a015f9ab19302f95e774": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6auebti04pt2e77n33qwujo",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "true"
                    ]
                  }
                ],
                "variableID": "67939f8b92c4506f0615b722"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793a015f9ab19302f95e776"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793a015f9ab19302f95e774"
        },
        "6793a015f9ab19302f95e775": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793a015f9ab19302f95e774",
              "6793a051f9ab19302f95ea64"
            ]
          },
          "nodeID": "6793a015f9ab19302f95e775",
          "coords": [
            0,
            0
          ]
        },
        "6793a025f9ab19302f95e77c": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6aueo3k04rk2e77r6hfzf6g",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "true"
                    ]
                  }
                ],
                "variableID": "67939f8b92c4506f0615b722"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793a025f9ab19302f95e77e"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793a025f9ab19302f95e77c"
        },
        "6793a025f9ab19302f95e77d": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793a025f9ab19302f95e77c",
              "6793a030f9ab19302f95e784"
            ]
          },
          "nodeID": "6793a025f9ab19302f95e77d",
          "coords": [
            0,
            0
          ]
        },
        "6793a030f9ab19302f95e784": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "678bbed8bfbbd62d56cdd0c3",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793a030f9ab19302f95e784"
        },
        "6793a041f9ab19302f95e8f4": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cbb8f732495a44f1299c",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793a041f9ab19302f95e8f4"
        },
        "6793a051f9ab19302f95ea64": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "678bd624bfbbd62d56cdd6c0",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793a051f9ab19302f95ea64"
        },
        "6793a05cf9ab19302f95ebd4": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cc92f732495a44f12a24",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793a05cf9ab19302f95ebd4"
        },
        "6793a05cf9ab19302f95ebd5": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793a05cf9ab19302f95ebd4"
            ]
          },
          "nodeID": "6793a05cf9ab19302f95ebd5",
          "coords": [
            0,
            0
          ]
        }
      },
      "offsetX": 272,
      "offsetY": 204,
      "modified": 1737659902,
      "creatorID": 893814,
      "variables": [],
      "_id": "689247f952036d1f3e2253dc",
      "diagramID": "679295fe8e3d3b8949dcf4e1",
      "versionID": "689247ef52036d1f3e225354"
    },
    "678bdb9f7e62048b1f8d2e17": {
      "name": "5. Order Tracking",
      "type": "TOPIC",
      "zoom": 100,
      "nodes": {
        "6793c7d339a5434e8b4a91d0": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6793c7e397b1e544710df124",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793c7d439a5434e8b4a91d1"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c7d339a5434e8b4a91d0"
        },
        "6793c7d439a5434e8b4a91d2": {
          "type": "block",
          "data": {
            "name": "Ask Order ID",
            "steps": [
              "6793c7d339a5434e8b4a91d0",
              "6793c82539a5434e8b4a91d8"
            ],
            "color": ""
          },
          "nodeID": "6793c7d439a5434e8b4a91d2",
          "coords": [
            638.8282355903573,
            214.27180067950187
          ]
        },
        "6793c82539a5434e8b4a91d8": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6793c87039a5434e8b4a91e3",
                  "id": "6793c82539a5434e8b4a91d9",
                  "data": {
                    "points": [
                      {
                        "point": [
                          804.83,
                          384.27
                        ]
                      },
                      {
                        "point": [
                          864.05,
                          384.27
                        ]
                      },
                      {
                        "point": [
                          864.05,
                          241.16
                        ]
                      },
                      {
                        "point": [
                          923.26,
                          241.16
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "exit-scenario": {
                  "id": "6793c84a39a5434e8b4a91dd",
                  "target": null,
                  "type": "exit-scenario"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c82539a5434e8b4a91d8",
          "coords": [
            0,
            0
          ]
        },
        "6793c87039a5434e8b4a91e0": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm6b0sfdj042d2e7718465gjp",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "orderID"
                            ]
                          }
                        ],
                        "key": "cm6b0sfdj042e2e77ngxcgjn9",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm6b0sj1c042v2e77lnlhtpp2",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "email"
                            ]
                          }
                        ],
                        "key": "cm6b0sj1c042w2e77l9giqu5j",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ],
              "promptID": "6793c8af97b1e544710df137"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793c87039a5434e8b4a91e1"
                },
                "cm6b0sfdj042d2e7718465gjp": {
                  "id": "6793ca0639a5434e8b4a9294",
                  "target": "6793cc8839a5434e8b4a929b",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1254.28,
                          293.41
                        ]
                      },
                      {
                        "point": [
                          1333.21,
                          293.41
                        ]
                      },
                      {
                        "point": [
                          1333.21,
                          -38.71
                        ]
                      },
                      {
                        "point": [
                          1412.15,
                          -38.71
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6b0sj1c042v2e77lnlhtpp2": {
                  "id": "6793ca0b39a5434e8b4a9297",
                  "target": "6794dd2739a5434e8b4a9fd8",
                  "type": "",
                  "data": {}
                },
                "else": {
                  "id": "6794dca739a5434e8b4a9fd3",
                  "target": "6793e6ac39a5434e8b4a96a6",
                  "type": "else",
                  "data": {
                    "points": [
                      {
                        "point": [
                          922.28,
                          401.65
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          898.28,
                          401.65
                        ]
                      },
                      {
                        "point": [
                          898.28,
                          464.66
                        ]
                      },
                      {
                        "point": [
                          1084.81,
                          464.66
                        ]
                      },
                      {
                        "point": [
                          1084.81,
                          520.49
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793c87039a5434e8b4a91e0"
        },
        "6793c87039a5434e8b4a91e3": {
          "type": "block",
          "data": {
            "name": "New Block 1",
            "steps": [
              "6793c87039a5434e8b4a91e0"
            ]
          },
          "nodeID": "6793c87039a5434e8b4a91e3",
          "coords": [
            1088.2749452138228,
            214.1534633861222
          ]
        },
        "6793cc8839a5434e8b4a9299": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6b16aj6048s2e77p4cef42u",
                "type": "prompt",
                "label": null,
                "value": "6793cc8f97b1e544710df14e",
                "variableID": "6793cd6392c4506f0615dab5"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793cc8839a5434e8b4a929a"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793cc8839a5434e8b4a9299"
        },
        "6793cc8839a5434e8b4a929b": {
          "type": "block",
          "data": {
            "name": "New Block 2",
            "steps": [
              "6793cc8839a5434e8b4a9299",
              "6793ccc639a5434e8b4a92a3"
            ]
          },
          "nodeID": "6793cc8839a5434e8b4a929b",
          "coords": [
            1577.1550869182129,
            -65.71270469102774
          ]
        },
        "6793ccc639a5434e8b4a92a3": {
          "type": "function",
          "data": {
            "inputMapping": {
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ],
              "orderNumber": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6793cd6392c4506f0615dab5"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "trackingURL": "6793cda592c4506f0615daf1"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6793ccc639a5434e8b4a92a4"
                },
                "6793cd2492c4506f0615da92": {
                  "id": "6793cd4339a5434e8b4a92be",
                  "target": "6793cdab39a5434e8b4a92c5",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1743.16,
                          168.3
                        ]
                      },
                      {
                        "point": [
                          1810.87,
                          168.3
                        ]
                      },
                      {
                        "point": [
                          1810.87,
                          -36.35
                        ]
                      },
                      {
                        "point": [
                          1878.59,
                          -36.35
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "6793cd2892c4506f0615da95": {
                  "id": "6793cd4339a5434e8b4a92bf",
                  "target": "679a391f44778a562339d3e0",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "6793ccfa92c4506f0615da61",
            "name": "Shopify - Get Tracking URL"
          },
          "nodeID": "6793ccc639a5434e8b4a92a3"
        },
        "6793cdab39a5434e8b4a92c2": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm6b1ckxc04i72e770wjv1dk2",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "6793cda592c4506f0615daf1"
                        },
                        "rhs": [
                          {
                            "text": [
                              "false"
                            ]
                          }
                        ],
                        "key": "cm6b1ckxc04i82e772r7teyvi",
                        "operation": "is_not"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793cdab39a5434e8b4a92c3"
                },
                "else": {
                  "type": "else",
                  "target": "6793e5c739a5434e8b4a9697",
                  "id": "6793cdab39a5434e8b4a92c4",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1877.59,
                          70.15
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          1853.59,
                          70.15
                        ]
                      },
                      {
                        "point": [
                          1853.59,
                          187.02
                        ]
                      },
                      {
                        "point": [
                          2039.72,
                          187.02
                        ]
                      },
                      {
                        "point": [
                          2039.72,
                          303.9
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6b1ckxc04i72e770wjv1dk2": {
                  "id": "6793cdb239a5434e8b4a92cb",
                  "target": "6793e40039a5434e8b4a92cf",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793cdab39a5434e8b4a92c2"
        },
        "6793cdab39a5434e8b4a92c5": {
          "type": "block",
          "data": {
            "name": "New Block 3",
            "steps": [
              "6793cdab39a5434e8b4a92c2"
            ]
          },
          "nodeID": "6793cdab39a5434e8b4a92c5",
          "coords": [
            2043.5987003801274,
            -63.350964876030716
          ]
        },
        "6793e40039a5434e8b4a92ce": {
          "type": "buttons-v2",
          "data": {
            "name": "Buttons",
            "items": [
              {
                "id": "cm6b4r1tk04wa2e774ozdzoep",
                "label": [
                  {
                    "text": [
                      "",
                      {
                        "variableID": "6793e42692c4506f0615f332"
                      },
                      " "
                    ]
                  }
                ]
              }
            ],
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "cm6b4r1tk04wa2e774ozdzoep": {
                  "id": "6793e40439a5434e8b4a92d4",
                  "target": "6793e46539a5434e8b4a939c",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793e40039a5434e8b4a92ce",
          "coords": [
            0,
            0
          ]
        },
        "6793e40039a5434e8b4a92cf": {
          "type": "block",
          "data": {
            "name": "Generate tracking response",
            "steps": [
              "6799e83d7e6a0771de558aae",
              "6793e40039a5434e8b4a92ce"
            ],
            "color": ""
          },
          "nodeID": "6793e40039a5434e8b4a92cf",
          "coords": [
            2528.936232362021,
            -66.89357459852624
          ]
        },
        "6793e46539a5434e8b4a939b": {
          "type": "url",
          "data": {
            "name": "",
            "url": "{{[trackingURL].6793cda592c4506f0615daf1}}",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793e46539a5434e8b4a939d"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6793e46539a5434e8b4a939b"
        },
        "6793e46539a5434e8b4a939c": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793e46539a5434e8b4a939b",
              "6793e48039a5434e8b4a951b"
            ]
          },
          "nodeID": "6793e46539a5434e8b4a939c",
          "coords": [
            0,
            0
          ]
        },
        "6793e48039a5434e8b4a951b": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67379d62399970d73c318ea6",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793e48039a5434e8b4a951b"
        },
        "6793e5c739a5434e8b4a9695": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6793e5e097b1e544710df2fa",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793e5c739a5434e8b4a9696"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793e5c739a5434e8b4a9695"
        },
        "6793e5c739a5434e8b4a9697": {
          "type": "block",
          "data": {
            "name": "New Block 5",
            "steps": [
              "6793e5c739a5434e8b4a9695",
              "6793e67a39a5434e8b4a969e"
            ]
          },
          "nodeID": "6793e5c739a5434e8b4a9697",
          "coords": [
            2039.7343036078394,
            303.8995763560097
          ]
        },
        "6793e67a39a5434e8b4a969e": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6793e8a839a5434e8b4a96ed",
                  "id": "6793e67a39a5434e8b4a969f",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793e67a39a5434e8b4a969e"
        },
        "6793e6ac39a5434e8b4a96a4": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6793e6b297b1e544710df300",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793e6ac39a5434e8b4a96a5"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793e6ac39a5434e8b4a96a4"
        },
        "6793e6ac39a5434e8b4a96a6": {
          "type": "block",
          "data": {
            "name": "New Block 6",
            "steps": [
              "6793e6ac39a5434e8b4a96a4",
              "6793e7d039a5434e8b4a96ad"
            ]
          },
          "nodeID": "6793e6ac39a5434e8b4a96a6",
          "coords": [
            1084.8154249165095,
            520.4853686295511
          ]
        },
        "6793e7d039a5434e8b4a96ad": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6793e8a839a5434e8b4a96ed",
                  "id": "6793e7d039a5434e8b4a96ae",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1250.81,
                          668.98
                        ]
                      },
                      {
                        "point": [
                          1328.13,
                          668.98
                        ]
                      },
                      {
                        "point": [
                          1328.13,
                          840.33
                        ]
                      },
                      {
                        "point": [
                          1405.45,
                          840.33
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793e7d039a5434e8b4a96ad",
          "coords": [
            0,
            0
          ]
        },
        "6793e8a839a5434e8b4a96eb": {
          "type": "function",
          "data": {
            "inputMapping": {
              "email": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "last_utterance"
                    },
                    " "
                  ]
                }
              ],
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "ordersData": "6793e8e892c4506f0615f6e6"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6793e8a839a5434e8b4a96ec"
                },
                "6793e829006dc7f7d20d603e": {
                  "id": "6793e8b839a5434e8b4a96f5",
                  "target": "6793e90739a5434e8b4a96fb",
                  "type": "",
                  "data": {}
                },
                "6793e829006dc7f7d20d603f": {
                  "id": "6793e8b839a5434e8b4a96f6",
                  "target": "679a392444778a562339d3e6",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "6793e829006dc7f7d20d603d",
            "name": "Shopify - Email Get Order Data"
          },
          "nodeID": "6793e8a839a5434e8b4a96eb"
        },
        "6793e8a839a5434e8b4a96ed": {
          "type": "block",
          "data": {
            "name": "New Block 7",
            "steps": [
              "6793e8a839a5434e8b4a96eb"
            ]
          },
          "nodeID": "6793e8a839a5434e8b4a96ed",
          "coords": [
            1570.4439544356003,
            813.3276328394448
          ]
        },
        "6793e90739a5434e8b4a96f9": {
          "type": "function",
          "data": {
            "inputMapping": {
              "ordersData": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6793e8e892c4506f0615f6e6"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {},
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6793e90739a5434e8b4a96fa"
                },
                "6793e89f350d65537076d6da": {
                  "id": "6793e91639a5434e8b4a9706",
                  "target": "679a3e4944778a562339e204",
                  "type": "",
                  "data": {}
                },
                "6793e89f350d65537076d6db": {
                  "id": "6793e91639a5434e8b4a9707",
                  "target": "679a392944778a562339d3ec",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "6793e89f350d65537076d6d9",
            "name": "Generate Orders Carousel"
          },
          "nodeID": "6793e90739a5434e8b4a96f9"
        },
        "6793e90739a5434e8b4a96fb": {
          "type": "block",
          "data": {
            "name": "New Block 8",
            "steps": [
              "6793ecf239a5434e8b4a9c34",
              "6793e90739a5434e8b4a96f9"
            ]
          },
          "nodeID": "6793e90739a5434e8b4a96fb",
          "coords": [
            1570.443954435599,
            1146.0731067691904
          ]
        },
        "6793ecf239a5434e8b4a9c34": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6793ecf897b1e544710df37c",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793ecf239a5434e8b4a9c35"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793ecf239a5434e8b4a9c34"
        },
        "6794dd2739a5434e8b4a9fd6": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6c6qg0g08ma2e77e6yxvaot",
                "type": "prompt",
                "label": null,
                "value": "6794dd3c97b1e544710dfe36",
                "variableID": "last_utterance"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6793e8a839a5434e8b4a96ed",
                  "id": "6794dd2739a5434e8b4a9fd7",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794dd2739a5434e8b4a9fd6"
        },
        "6794dd2739a5434e8b4a9fd8": {
          "type": "block",
          "data": {
            "name": "New Block 9",
            "steps": [
              "6794dd2739a5434e8b4a9fd6"
            ]
          },
          "nodeID": "6794dd2739a5434e8b4a9fd8",
          "coords": [
            1557.260388507955,
            383.26794356097975
          ]
        },
        "6799e83d7e6a0771de558aae": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6799e83eaecde270efc32340",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6799e83d7e6a0771de558aaf"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6799e83d7e6a0771de558aae"
        },
        "679a391f44778a562339d3df": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a391f44778a562339d3df"
        },
        "679a391f44778a562339d3e0": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a391f44778a562339d3df"
            ]
          },
          "nodeID": "679a391f44778a562339d3e0",
          "coords": [
            0,
            0
          ]
        },
        "679a392444778a562339d3e5": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a392444778a562339d3e5"
        },
        "679a392444778a562339d3e6": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a392444778a562339d3e5"
            ]
          },
          "nodeID": "679a392444778a562339d3e6",
          "coords": [
            0,
            0
          ]
        },
        "679a392944778a562339d3eb": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a392944778a562339d3eb"
        },
        "679a392944778a562339d3ec": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a392944778a562339d3eb"
            ]
          },
          "nodeID": "679a392944778a562339d3ec",
          "coords": [
            0,
            0
          ]
        },
        "679a3e4944778a562339e203": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67379d62399970d73c318ea6",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a3e4944778a562339e203"
        },
        "679a3e4944778a562339e204": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a3e4944778a562339e203"
            ]
          },
          "nodeID": "679a3e4944778a562339e204",
          "coords": [
            0,
            0
          ]
        }
      },
      "offsetX": 0,
      "offsetY": 0,
      "modified": 1737218975,
      "creatorID": 893814,
      "variables": [],
      "_id": "689247f952036d1f3e2253dd",
      "diagramID": "678bdb9f7e62048b1f8d2e17",
      "versionID": "689247ef52036d1f3e225354"
    },
    "6789149f51ad8942933c6bbf": {
      "name": "4. Order Return",
      "type": "TOPIC",
      "zoom": 100,
      "nodes": {
        "6794d2a539a5434e8b4a9e1a": {
          "type": "function",
          "data": {
            "inputMapping": {
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "returnPolicyBody": "6794d39c92c4506f06164f69"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6794d2a539a5434e8b4a9e1b"
                },
                "6794d31192c4506f06164f15": {
                  "id": "6794d38439a5434e8b4a9f1c",
                  "target": "6794d8e939a5434e8b4a9f7a",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          117.84,
                          277.44
                        ]
                      },
                      {
                        "point": [
                          179.77,
                          277.44
                        ]
                      },
                      {
                        "point": [
                          179.77,
                          151.97
                        ]
                      },
                      {
                        "point": [
                          241.69,
                          151.97
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "6794d31792c4506f06164f16": {
                  "id": "6794d38439a5434e8b4a9f1d",
                  "target": "6794dd9d39a5434e8b4aa034",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "6794d2c892c4506f06164ea4",
            "name": "Shopify - Get Return Policy Data"
          },
          "nodeID": "6794d2a539a5434e8b4a9e1a"
        },
        "6794d2a539a5434e8b4a9e1c": {
          "type": "block",
          "data": {
            "name": "Get Return Policy Data",
            "steps": [
              "6794d2a539a5434e8b4a9e1a"
            ],
            "color": ""
          },
          "nodeID": "6794d2a539a5434e8b4a9e1c",
          "coords": [
            -48.14442664819306,
            123.42837747228342
          ]
        },
        "6794d8e939a5434e8b4a9f78": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6794d8ef97b1e544710dfdb1",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6794d8e939a5434e8b4a9f79"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794d8e939a5434e8b4a9f78"
        },
        "6794d8e939a5434e8b4a9f7a": {
          "type": "block",
          "data": {
            "name": "New Block 1",
            "steps": [
              "6794de8439a5434e8b4aa039",
              "6794d8e939a5434e8b4a9f78",
              "6794d96639a5434e8b4a9f81"
            ]
          },
          "nodeID": "6794d8e939a5434e8b4a9f7a",
          "coords": [
            406.68614728158946,
            124.9672714448011
          ]
        },
        "6794d96639a5434e8b4a9f81": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6794dd7139a5434e8b4a9ff2",
                  "id": "6794d96639a5434e8b4a9f82",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794d96639a5434e8b4a9f81"
        },
        "6794dd7139a5434e8b4a9ff2": {
          "type": "block",
          "data": {
            "name": "New Block 1",
            "color": "",
            "steps": [
              "6794dd7139a5434e8b4a9ffa"
            ]
          },
          "nodeID": "6794dd7139a5434e8b4a9ff2",
          "coords": [
            821.176923666445,
            132.6185084590349
          ]
        },
        "6794dd7139a5434e8b4a9ff4": {
          "type": "block",
          "data": {
            "name": "New Block 6",
            "color": "",
            "steps": [
              "6794dd7139a5434e8b4aa000",
              "6794dd7139a5434e8b4aa003"
            ]
          },
          "nodeID": "6794dd7139a5434e8b4a9ff4",
          "coords": [
            817.7174033691317,
            438.95041370246395
          ]
        },
        "6794dd7139a5434e8b4a9ff6": {
          "type": "block",
          "data": {
            "name": "New Block 9",
            "color": "#71a4a2",
            "steps": [
              "6794dd7139a5434e8b4aa006"
            ]
          },
          "nodeID": "6794dd7139a5434e8b4a9ff6",
          "coords": [
            1290.1623669605774,
            301.73298863389266
          ]
        },
        "6794dd7139a5434e8b4a9ff8": {
          "type": "block",
          "data": {
            "name": "New Block 2",
            "color": "#71a4a2",
            "steps": [
              "6794dd7139a5434e8b4aa009"
            ]
          },
          "nodeID": "6794dd7139a5434e8b4a9ff8",
          "coords": [
            1287.5196585908936,
            72.23188398393923
          ]
        },
        "6794dd7139a5434e8b4a9ffa": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm6b0sfdj042d2e7718465gjp",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "orderID"
                            ]
                          }
                        ],
                        "key": "cm6b0sfdj042e2e77ngxcgjn9",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm6b0sj1c042v2e77lnlhtpp2",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "email"
                            ]
                          }
                        ],
                        "key": "cm6b0sj1c042w2e77l9giqu5j",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ],
              "promptID": "6793c8af97b1e544710df137"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6794dd7139a5434e8b4a9ffb"
                },
                "cm6b0sfdj042d2e7718465gjp": {
                  "type": "",
                  "target": "6794dd7139a5434e8b4a9ff8",
                  "id": "6794dd7139a5434e8b4a9ffc",
                  "data": {
                    "points": [
                      {
                        "point": [
                          987.19,
                          211.85
                        ]
                      },
                      {
                        "point": [
                          1054.86,
                          211.85
                        ]
                      },
                      {
                        "point": [
                          1054.86,
                          99.24
                        ]
                      },
                      {
                        "point": [
                          1122.53,
                          99.24
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6b0sj1c042v2e77lnlhtpp2": {
                  "type": "",
                  "target": "6794dd7139a5434e8b4a9ff6",
                  "id": "6794dd7139a5434e8b4a9ffd",
                  "data": {
                    "points": [
                      {
                        "point": [
                          987.17,
                          266.12
                        ]
                      },
                      {
                        "point": [
                          1056.17,
                          266.12
                        ]
                      },
                      {
                        "point": [
                          1056.17,
                          328.74
                        ]
                      },
                      {
                        "point": [
                          1125.16,
                          328.74
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "else": {
                  "type": "else",
                  "target": "6794dd7139a5434e8b4a9ff4",
                  "id": "6794dd7139a5434e8b4a9ffe",
                  "data": {
                    "points": [
                      {
                        "point": [
                          655.18,
                          320.12
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          631.18,
                          320.12
                        ]
                      },
                      {
                        "point": [
                          631.18,
                          383.13
                        ]
                      },
                      {
                        "point": [
                          817.71,
                          383.13
                        ]
                      },
                      {
                        "point": [
                          817.71,
                          438.96
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794dd7139a5434e8b4a9ffa"
        },
        "6794dd7139a5434e8b4aa000": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6793e6b297b1e544710df300",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6794dd7139a5434e8b4aa001"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794dd7139a5434e8b4aa000"
        },
        "6794dd7139a5434e8b4aa003": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6794e52739a5434e8b4aa0e4",
                  "id": "6794dd7139a5434e8b4aa004",
                  "data": {
                    "points": [
                      {
                        "point": [
                          983.71,
                          586.96
                        ]
                      },
                      {
                        "point": [
                          1289.79,
                          586.96
                        ]
                      },
                      {
                        "point": [
                          1289.79,
                          516.58
                        ]
                      },
                      {
                        "point": [
                          1595.88,
                          516.58
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794dd7139a5434e8b4aa003"
        },
        "6794dd7139a5434e8b4aa006": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6c6qg0g08ma2e77e6yxvaot",
                "type": "prompt",
                "label": null,
                "value": "6794dd3c97b1e544710dfe36",
                "variableID": "last_utterance"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6794e52739a5434e8b4aa0e4",
                  "id": "6794dd7139a5434e8b4aa007",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1456.18,
                          401.23
                        ]
                      },
                      {
                        "point": [
                          1526.03,
                          401.23
                        ]
                      },
                      {
                        "point": [
                          1526.03,
                          516.58
                        ]
                      },
                      {
                        "point": [
                          1595.88,
                          516.58
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794dd7139a5434e8b4aa006"
        },
        "6794dd7139a5434e8b4aa009": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6b16aj6048s2e77p4cef42u",
                "type": "prompt",
                "label": null,
                "value": "6793cc8f97b1e544710df14e",
                "variableID": "6793cd6392c4506f0615dab5"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6794e5fc39a5434e8b4aa12d",
                  "id": "6794dd7139a5434e8b4aa00a",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1453.53,
                          161.22
                        ]
                      },
                      {
                        "point": [
                          1526.26,
                          161.22
                        ]
                      },
                      {
                        "point": [
                          1526.26,
                          86.62
                        ]
                      },
                      {
                        "point": [
                          1598.99,
                          86.62
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794dd7139a5434e8b4aa009"
        },
        "6794dd9d39a5434e8b4aa033": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794dd9d39a5434e8b4aa033"
        },
        "6794dd9d39a5434e8b4aa034": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6794dd9d39a5434e8b4aa033"
            ]
          },
          "nodeID": "6794dd9d39a5434e8b4aa034",
          "coords": [
            0,
            0
          ]
        },
        "6794de8439a5434e8b4aa039": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6c6xlf608tj2e776r7shjb3",
                "type": "prompt",
                "label": null,
                "value": "6794de8997b1e544710dfe46",
                "variableID": "6794e2fb92c4506f06165a20"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6794de8439a5434e8b4aa03a"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794de8439a5434e8b4aa039"
        },
        "6794e32a39a5434e8b4aa03d": {
          "type": "function",
          "data": {
            "inputMapping": {
              "orderNumber": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6793cd6392c4506f0615dab5"
                    },
                    " "
                  ]
                }
              ],
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ],
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    " "
                  ]
                }
              ],
              "extractReturnDays": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6794e2fb92c4506f06165a20"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "productTitles": "6794edd492c4506f06165e92",
              "orderNumber": "6793cd6392c4506f0615dab5",
              "orderedQuantities": "6795083792c4506f06166a47",
              "orderID": "679e80e8b581cc269ec46162"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6794e32a39a5434e8b4aa03e"
                },
                "6794e36792c4506f06165a6b": {
                  "id": "6794e3cd39a5434e8b4aa076",
                  "target": "6794ee1c39a5434e8b4aa17e",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1930,
                          213.62
                        ]
                      },
                      {
                        "point": [
                          1996.33,
                          213.62
                        ]
                      },
                      {
                        "point": [
                          1996.33,
                          80.2
                        ]
                      },
                      {
                        "point": [
                          2062.66,
                          80.2
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "6794e36a92c4506f06165a74": {
                  "id": "6794e3cd39a5434e8b4aa077",
                  "target": "6794dd7139a5434e8b4a9ff4",
                  "type": "",
                  "data": {}
                },
                "6794e36e92c4506f06165a79": {
                  "id": "6794e3cd39a5434e8b4aa078",
                  "target": "679a389244778a562339d375",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "6794e33792c4506f06165a3c",
            "name": "Shopify - Get Return Orders by OrderID"
          },
          "nodeID": "6794e32a39a5434e8b4aa03d"
        },
        "6794e52739a5434e8b4aa0e2": {
          "type": "function",
          "data": {
            "inputMapping": {
              "customerEmail": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "last_utterance"
                    },
                    " "
                  ]
                }
              ],
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ],
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    " "
                  ]
                }
              ],
              "extractReturnDays": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6794e2fb92c4506f06165a20"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "orderNumbers": "6793cd6392c4506f0615dab5",
              "productTitles": "6794edd492c4506f06165e92",
              "orderedQuantities": "6795083792c4506f06166a47",
              "orderIDs": "679e80e8b581cc269ec46162"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6794e52739a5434e8b4aa0e3"
                },
                "6794e57292c4506f06165bc1": {
                  "id": "6794e5d839a5434e8b4aa122",
                  "target": "6794f11739a5434e8b4aa193",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1926.89,
                          645.57
                        ]
                      },
                      {
                        "point": [
                          1996.92,
                          645.57
                        ]
                      },
                      {
                        "point": [
                          1996.92,
                          506.81
                        ]
                      },
                      {
                        "point": [
                          2066.95,
                          506.81
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "6794e57692c4506f06165bc6": {
                  "id": "6794e5d839a5434e8b4aa123",
                  "target": "6794dd7139a5434e8b4a9ff4",
                  "type": "",
                  "data": {}
                },
                "6794e58392c4506f06165bcf": {
                  "id": "6794e5d839a5434e8b4aa124",
                  "target": "679a388344778a562339d36f",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "6794e53b92c4506f06165bb9",
            "name": "Shopify - Get Return Orders by Email"
          },
          "nodeID": "6794e52739a5434e8b4aa0e2"
        },
        "6794e52739a5434e8b4aa0e4": {
          "type": "block",
          "data": {
            "name": "New Block 6",
            "steps": [
              "6794e52739a5434e8b4aa0e2"
            ],
            "color": "#56b365"
          },
          "nodeID": "6794e52739a5434e8b4aa0e4",
          "coords": [
            1760.8801893700636,
            489.5813026155031
          ]
        },
        "6794e5fc39a5434e8b4aa12d": {
          "type": "block",
          "data": {
            "name": "New Block 7",
            "steps": [
              "6794e32a39a5434e8b4aa03d"
            ],
            "color": "#56b365"
          },
          "nodeID": "6794e5fc39a5434e8b4aa12d",
          "coords": [
            1763.9973621930874,
            59.62180989263329
          ]
        },
        "6794ee1c39a5434e8b4aa17b": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm6c9c2pi09xz2e77qrq8r3o7",
                  "value": {
                    "type": "script",
                    "code": [
                      "return orderNumber.includes(\",\");"
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6794ee1c39a5434e8b4aa17c"
                },
                "else": {
                  "type": "else",
                  "target": "6797564ae449c5bfb5376bf1",
                  "id": "6794ee1c39a5434e8b4aa17d",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2393.65,
                          208.19
                        ]
                      },
                      {
                        "point": [
                          2848.1,
                          208.19
                        ]
                      },
                      {
                        "point": [
                          2848.1,
                          295.55
                        ]
                      },
                      {
                        "point": [
                          3302.56,
                          295.55
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6c9c2pi09xz2e77qrq8r3o7": {
                  "id": "6794ee4a39a5434e8b4aa186",
                  "target": "679a04c57e6a0771de558f62",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2393.64,
                          143.19
                        ]
                      },
                      {
                        "point": [
                          2464.79,
                          143.19
                        ]
                      },
                      {
                        "point": [
                          2464.79,
                          -71.43
                        ]
                      },
                      {
                        "point": [
                          2535.94,
                          -71.43
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794ee1c39a5434e8b4aa17b"
        },
        "6794ee1c39a5434e8b4aa17e": {
          "type": "block",
          "data": {
            "name": "New Block 8",
            "steps": [
              "6794ee1c39a5434e8b4aa17b"
            ]
          },
          "nodeID": "6794ee1c39a5434e8b4aa17e",
          "coords": [
            2227.6524018097375,
            53.19482320367227
          ]
        },
        "6794f11739a5434e8b4aa18e": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm6c9c2pi09xz2e77qrq8r3o7",
                  "value": {
                    "type": "script",
                    "code": [
                      "return orderNumber.includes(\",\");"
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6794f11739a5434e8b4aa18f"
                },
                "else": {
                  "type": "else",
                  "target": "6794f30339a5434e8b4aa19d",
                  "id": "6794f11739a5434e8b4aa190",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2065.96,
                          634.8
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          2041.96,
                          634.8
                        ]
                      },
                      {
                        "point": [
                          2041.96,
                          697.81
                        ]
                      },
                      {
                        "point": [
                          2205.16,
                          697.81
                        ]
                      },
                      {
                        "point": [
                          2205.16,
                          756.94
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6c9c2pi09xz2e77qrq8r3o7": {
                  "type": "",
                  "target": "679a04c57e6a0771de558f62",
                  "id": "6794f11739a5434e8b4aa191",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2397.95,
                          569.81
                        ]
                      },
                      {
                        "point": [
                          2466.94,
                          569.81
                        ]
                      },
                      {
                        "point": [
                          2466.94,
                          -71.43
                        ]
                      },
                      {
                        "point": [
                          2535.94,
                          -71.43
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794f11739a5434e8b4aa18e"
        },
        "6794f11739a5434e8b4aa193": {
          "type": "block",
          "data": {
            "name": "New Block 8 copy",
            "color": "",
            "steps": [
              "6794f11739a5434e8b4aa18e"
            ]
          },
          "nodeID": "6794f11739a5434e8b4aa193",
          "coords": [
            2231.955350871401,
            479.80340229214414
          ]
        },
        "6794f30339a5434e8b4aa19b": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6794f33e97b1e544710dfebf",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6797564ae449c5bfb5376bf1",
                  "id": "6794f30339a5434e8b4aa19c",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2371.15,
                          846.92
                        ]
                      },
                      {
                        "point": [
                          2836.85,
                          846.92
                        ]
                      },
                      {
                        "point": [
                          2836.85,
                          295.55
                        ]
                      },
                      {
                        "point": [
                          3302.56,
                          295.55
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6794f30339a5434e8b4aa19b"
        },
        "6794f30339a5434e8b4aa19d": {
          "type": "block",
          "data": {
            "name": "New Block 10",
            "steps": [
              "6794f30339a5434e8b4aa19b"
            ]
          },
          "nodeID": "6794f30339a5434e8b4aa19d",
          "coords": [
            2205.1509716184264,
            756.9322416239072
          ]
        },
        "67950c21fd88e08a2b179c44": {
          "type": "function",
          "data": {
            "inputMapping": {
              "orderedQuantity": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6795083792c4506f06166a47"
                    },
                    " "
                  ]
                }
              ],
              "returnProductTitles": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6794edd492c4506f06165e92"
                    },
                    " "
                  ]
                }
              ],
              "rawProductData": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67365094181991bb60d86ab4"
                    },
                    " "
                  ]
                }
              ],
              "bt_createReturn": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "679757b7639c4e49bca25e07"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {},
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "67950c21fd88e08a2b179c45"
                },
                "67950c6d92c4506f06166dac": {
                  "id": "67950c8bfd88e08a2b179ca5",
                  "target": "67975cd3e449c5bfb5377d3e",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          4728.25,
                          528.05
                        ]
                      },
                      {
                        "point": [
                          4784.96,
                          528.05
                        ]
                      },
                      {
                        "point": [
                          4784.96,
                          393.76
                        ]
                      },
                      {
                        "point": [
                          4841.67,
                          393.76
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "67950c7792c4506f06166dae": {
                  "id": "67950c8bfd88e08a2b179ca7",
                  "target": "679e1e1713e4854fa9420f77",
                  "type": "",
                  "data": {}
                },
                "67975c4e639c4e49bca261d6": {
                  "id": "67975c58e449c5bfb5377a39",
                  "target": "679a38cf44778a562339d37d",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "67950c2d92c4506f06166d71",
            "name": "Dynamic Carousel Return Products"
          },
          "nodeID": "67950c21fd88e08a2b179c44",
          "coords": [
            0,
            0
          ]
        },
        "67950c21fd88e08a2b179c46": {
          "type": "block",
          "data": {
            "name": "Dynamic Carousel Return Products",
            "steps": [
              "679a154d7e6a0771de55979f",
              "67950c21fd88e08a2b179c44"
            ],
            "color": ""
          },
          "nodeID": "67950c21fd88e08a2b179c46",
          "coords": [
            4562.2427522076405,
            372.05283457529293
          ]
        },
        "6797564ae449c5bfb5376bee": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm6ev8dwk00792e7755t7yrbb",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "67365094181991bb60d86ab4"
                        },
                        "rhs": [
                          {
                            "text": [
                              "0"
                            ]
                          }
                        ],
                        "key": "cm6ev8dwk007a2e77c0j72m94",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6797564ae449c5bfb5376bef"
                },
                "else": {
                  "type": "else",
                  "target": "67950c21fd88e08a2b179c46",
                  "id": "6797564ae449c5bfb5376bf0",
                  "data": {
                    "points": [
                      {
                        "point": [
                          3633.558389581569,
                          402.048122263611
                        ]
                      },
                      {
                        "point": [
                          3657.548389581569,
                          402.048122263611
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          3657.548389581569,
                          511.128122263611
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          4373.238389581569,
                          511.128122263611
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          4373.238389581569,
                          399.048122263611
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          4397.248389581569,
                          399.048122263611
                        ]
                      }
                    ]
                  }
                },
                "cm6ev8dwk00792e7755t7yrbb": {
                  "id": "67975659e449c5bfb5376bf8",
                  "target": "6797567ae449c5bfb5376dbb",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          3633.55,
                          347.78
                        ]
                      },
                      {
                        "point": [
                          3737.52,
                          347.78
                        ]
                      },
                      {
                        "point": [
                          3737.52,
                          163.31
                        ]
                      },
                      {
                        "point": [
                          3841.49,
                          163.31
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6797564ae449c5bfb5376bee"
        },
        "6797564ae449c5bfb5376bf1": {
          "type": "block",
          "data": {
            "name": "New Block 12",
            "steps": [
              "6797564ae449c5bfb5376bee"
            ]
          },
          "nodeID": "6797564ae449c5bfb5376bf1",
          "coords": [
            3467.552669563019,
            268.5448652718689
          ]
        },
        "6797567ae449c5bfb5376db4": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6797567ae449c5bfb5376dbc"
            ]
          },
          "nodeID": "6797567ae449c5bfb5376db4",
          "coords": [
            5079.393914957491,
            76.42493187089619
          ]
        },
        "6797567ae449c5bfb5376db6": {
          "type": "function",
          "data": {
            "name": "Shopify - Get All Products",
            "functionID": "678a31003f09b38dd6f7ea01",
            "inputMapping": {
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "productInfoForLLM": "6736507d181991bb60d86aa8",
              "rawProductData": "67365094181991bb60d86ab4",
              "productTitlesForLLM": "67909732a3a14c8742fb681c"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6797567ae449c5bfb5376db7"
                },
                "678a31323f09b38dd6f7ea1f": {
                  "type": "",
                  "target": "67950c21fd88e08a2b179c46",
                  "id": "6797567ae449c5bfb5376db8",
                  "data": {
                    "points": [
                      {
                        "point": [
                          4172.48,
                          310.32
                        ]
                      },
                      {
                        "point": [
                          4284.86,
                          310.32
                        ]
                      },
                      {
                        "point": [
                          4284.86,
                          399.05
                        ]
                      },
                      {
                        "point": [
                          4397.25,
                          399.05
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "678a31353f09b38dd6f7ea20": {
                  "type": "",
                  "target": "6797567ae449c5bfb5376db4",
                  "id": "6797567ae449c5bfb5376db9",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6797567ae449c5bfb5376db6"
        },
        "6797567ae449c5bfb5376dbb": {
          "type": "block",
          "data": {
            "name": "Get All Products",
            "color": "#56b365",
            "steps": [
              "6797567ae449c5bfb5376db6"
            ]
          },
          "nodeID": "6797567ae449c5bfb5376dbb",
          "coords": [
            4006.479765194659,
            136.3090329224001
          ]
        },
        "6797567ae449c5bfb5376dbc": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6797567ae449c5bfb5376dbc"
        },
        "67975cd3e449c5bfb5377d38": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "67975cd3e449c5bfb5377d3f"
            ]
          },
          "nodeID": "67975cd3e449c5bfb5377d38",
          "coords": [
            2040.34105426305,
            83.69021092733126
          ]
        },
        "67975cd3e449c5bfb5377d3a": {
          "type": "code",
          "data": {
            "name": "",
            "code": "//store all the needed data of the selected product\norderedQuantities = last_event.payload.orderedQuantity\nselectedProductTitle = last_event.payload.productTitle\nselectedVariantTitles = last_event.payload.variantTitle",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "6797605ce449c5bfb5377d58",
                  "id": "67975cd3e449c5bfb5377d3c",
                  "data": {
                    "points": [
                      {
                        "point": [
                          5172.67,
                          500.51
                        ]
                      },
                      {
                        "point": [
                          5249.67,
                          500.51
                        ]
                      },
                      {
                        "point": [
                          5249.67,
                          395.01
                        ]
                      },
                      {
                        "point": [
                          5326.67,
                          395.01
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": "67975cd3e449c5bfb5377d38",
                  "id": "67975cd3e449c5bfb5377d3b",
                  "data": {}
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "67975cd3e449c5bfb5377d3a"
        },
        "67975cd3e449c5bfb5377d3e": {
          "type": "block",
          "data": {
            "name": "Get Selected Product Data",
            "color": "#71a4a2",
            "steps": [
              "67975cd3e449c5bfb5377d3a"
            ]
          },
          "nodeID": "67975cd3e449c5bfb5377d3e",
          "coords": [
            5006.674387596379,
            366.7505557549175
          ]
        },
        "67975cd3e449c5bfb5377d3f": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67975cd3e449c5bfb5377d3f"
        },
        "6797605ce449c5bfb5377d56": {
          "type": "trace",
          "data": {
            "name": "ext_order_return",
            "_v": 1,
            "paths": [
              {
                "label": "complete",
                "isDefault": true
              }
            ],
            "payload": {
              "name": "ext_order_return",
              "body": "{\n\"orderedQuantity\": \"{orderedQuantities}\",\n\"lb_quantity\": \"{lb_quantity}\",\n\"lb_reason\": \"{lb_reason}\",\n\"bt_submit\": \"{bt_submit}\"\n}",
              "bodyType": "json",
              "scope": "local",
              "isBlocking": true
            },
            "defaultPath": 0,
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": [
                {
                  "type": "",
                  "target": "67976247e449c5bfb537837d",
                  "id": "6797605ce449c5bfb5377d57",
                  "data": {
                    "points": [
                      {
                        "point": [
                          5657.67,
                          502.76
                        ]
                      },
                      {
                        "point": [
                          5712.17,
                          502.76
                        ]
                      },
                      {
                        "point": [
                          5712.17,
                          396.26
                        ]
                      },
                      {
                        "point": [
                          5766.67,
                          396.26
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              ]
            }
          },
          "nodeID": "6797605ce449c5bfb5377d56",
          "coords": [
            0,
            0
          ]
        },
        "6797605ce449c5bfb5377d58": {
          "type": "block",
          "data": {
            "name": "New Block 15",
            "steps": [
              "6797605ce449c5bfb5377d56"
            ]
          },
          "nodeID": "6797605ce449c5bfb5377d58",
          "coords": [
            5491.674387596379,
            368.00055575491757
          ]
        },
        "67976247e449c5bfb5378379": {
          "type": "code",
          "data": {
            "name": "",
            "code": "returnQuantity = last_event.payload.returnQuantity\nreturnReason = last_event.payload.returnReason",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "67976476e449c5bfb537852c",
                  "id": "67976247e449c5bfb537837b",
                  "data": {
                    "points": [
                      {
                        "point": [
                          6097.67,
                          503.01
                        ]
                      },
                      {
                        "point": [
                          6145.56,
                          503.01
                        ]
                      },
                      {
                        "point": [
                          6145.56,
                          396.9
                        ]
                      },
                      {
                        "point": [
                          6193.46,
                          396.9
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": "679a390a44778a562339d383",
                  "id": "67976247e449c5bfb537837a",
                  "data": {}
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "67976247e449c5bfb5378379"
        },
        "67976247e449c5bfb537837d": {
          "type": "block",
          "data": {
            "name": "Get Form Data",
            "color": "#5b9fd7",
            "steps": [
              "67976247e449c5bfb5378379"
            ]
          },
          "nodeID": "67976247e449c5bfb537837d",
          "coords": [
            5931.674387596379,
            369.2505557549175
          ]
        },
        "6797646de449c5bfb537851e": {
          "type": "function",
          "data": {
            "inputMapping": {
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ],
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    " "
                  ]
                }
              ],
              "selectedProductTitle": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6737798abdb17488f6f80564"
                    },
                    " "
                  ]
                }
              ],
              "returnQuantity": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67976297639c4e49bca266b8"
                    },
                    " "
                  ]
                }
              ],
              "returnReason": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "679762a1639c4e49bca266b9"
                    },
                    " "
                  ]
                }
              ],
              "orderNumber": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6793cd6392c4506f0615dab5"
                    },
                    " "
                  ]
                }
              ],
              "returnProductQuantity": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67976297639c4e49bca266b8"
                    },
                    ""
                  ]
                }
              ],
              "shopifyOrderID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "679e80e8b581cc269ec46162"
                    },
                    ""
                  ]
                }
              ]
            },
            "outputMapping": {},
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "6797646de449c5bfb537851f"
                },
                "679764d3639c4e49bca2679c": {
                  "id": "679764eae449c5bfb53785c3",
                  "target": "679765b7e449c5bfb53785c9",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          6524.46,
                          523.9
                        ]
                      },
                      {
                        "point": [
                          6599.41,
                          523.9
                        ]
                      },
                      {
                        "point": [
                          6599.41,
                          396.44
                        ]
                      },
                      {
                        "point": [
                          6674.36,
                          396.44
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "679764d5639c4e49bca2679d": {
                  "id": "679764eae449c5bfb53785c4",
                  "target": "679e1ee713e4854fa942113d",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "67976484639c4e49bca26770",
            "name": "Shopify - Create Return Request"
          },
          "nodeID": "6797646de449c5bfb537851e"
        },
        "67976476e449c5bfb537852c": {
          "type": "block",
          "data": {
            "name": "New Block 17",
            "steps": [
              "6797646de449c5bfb537851e"
            ]
          },
          "nodeID": "67976476e449c5bfb537852c",
          "coords": [
            6358.458358128861,
            369.89365209382163
          ]
        },
        "679765b7e449c5bfb53785c7": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "679765c767f2876f30030b08",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "67976639e449c5bfb53785d7",
                  "id": "679765b7e449c5bfb53785c8",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679765b7e449c5bfb53785c7"
        },
        "679765b7e449c5bfb53785c9": {
          "type": "block",
          "data": {
            "name": "New Block 18",
            "steps": [
              "679765b7e449c5bfb53785c7"
            ]
          },
          "nodeID": "679765b7e449c5bfb53785c9",
          "coords": [
            6839.371372403304,
            369.44881476193456
          ]
        },
        "67976639e449c5bfb53785d6": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67379d62399970d73c318ea6",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67976639e449c5bfb53785d6"
        },
        "67976639e449c5bfb53785d7": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "67976639e449c5bfb53785d6"
            ]
          },
          "nodeID": "67976639e449c5bfb53785d7",
          "coords": [
            0,
            0
          ]
        },
        "679a04c57e6a0771de558f60": {
          "type": "trace",
          "data": {
            "name": "ext_order_selection",
            "_v": 1,
            "paths": [
              {
                "label": "complete",
                "isDefault": true
              }
            ],
            "payload": {
              "name": "ext_order_selection",
              "body": "{\n\"orderNumbers\": \"{orderNumber}\",\n\"returnProductTitles\": \"{returnProductTitles}\",\n\"orderedQuantities\": \"{orderedQuantities}\",\n\"returnOrderIds\": \"{orderID}\"\n}",
              "bodyType": "json",
              "scope": "local",
              "isBlocking": true
            },
            "defaultPath": 0,
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": [
                {
                  "type": "",
                  "target": "679a09dc7e6a0771de55962a",
                  "id": "679a04c57e6a0771de558f61",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2866.94,
                          36.32
                        ]
                      },
                      {
                        "point": [
                          2910.83,
                          36.32
                        ]
                      },
                      {
                        "point": [
                          2910.83,
                          -71.43
                        ]
                      },
                      {
                        "point": [
                          2954.71,
                          -71.43
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              ]
            }
          },
          "nodeID": "679a04c57e6a0771de558f60"
        },
        "679a04c57e6a0771de558f62": {
          "type": "block",
          "data": {
            "name": "New Block 19",
            "steps": [
              "679a04c57e6a0771de558f60"
            ]
          },
          "nodeID": "679a04c57e6a0771de558f62",
          "coords": [
            2700.9476757589628,
            -98.4306569756061
          ]
        },
        "679a09dc7e6a0771de55962a": {
          "type": "block",
          "data": {
            "name": "Get Form Data ",
            "color": "#5b9fd7",
            "steps": [
              "679a09dc7e6a0771de55962c"
            ]
          },
          "nodeID": "679a09dc7e6a0771de55962a",
          "coords": [
            3119.6976757589628,
            -98.4306569756061
          ]
        },
        "679a09dc7e6a0771de55962c": {
          "type": "code",
          "data": {
            "name": "",
            "code": "orderNumber = last_event.payload.selectedOrderNumber\nreturnProductTitles = last_event.payload.selectedProducts\norderedQuantities = last_event.payload.selectedQuantities\norderID = last_event.payload.selectedOrderId",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "6797564ae449c5bfb5376bf1",
                  "id": "679a09dc7e6a0771de55962e",
                  "data": {}
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "679a09dc7e6a0771de55962d"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "679a09dc7e6a0771de55962c"
        },
        "679a154d7e6a0771de55979f": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "679a154faecde270efc32509",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "679a154d7e6a0771de5597a0"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a154d7e6a0771de55979f"
        },
        "679a388344778a562339d36e": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a388344778a562339d36e"
        },
        "679a388344778a562339d36f": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a388344778a562339d36e"
            ]
          },
          "nodeID": "679a388344778a562339d36f",
          "coords": [
            0,
            0
          ]
        },
        "679a389244778a562339d374": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a389244778a562339d374"
        },
        "679a389244778a562339d375": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a389244778a562339d374"
            ]
          },
          "nodeID": "679a389244778a562339d375",
          "coords": [
            0,
            0
          ]
        },
        "679a38cf44778a562339d37c": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a38cf44778a562339d37c"
        },
        "679a38cf44778a562339d37d": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a38cf44778a562339d37c"
            ]
          },
          "nodeID": "679a38cf44778a562339d37d",
          "coords": [
            0,
            0
          ]
        },
        "679a390a44778a562339d382": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a390a44778a562339d382"
        },
        "679a390a44778a562339d383": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a390a44778a562339d382"
            ]
          },
          "nodeID": "679a390a44778a562339d383",
          "coords": [
            0,
            0
          ]
        },
        "679e1e1713e4854fa9420f6e": {
          "type": "actions",
          "data": {
            "name": "Actions",
            "steps": [
              "679e1e1713e4854fa9420f75"
            ]
          },
          "nodeID": "679e1e1713e4854fa9420f6e",
          "coords": [
            -33.14245593132455,
            86.11172151873416
          ]
        },
        "679e1e1713e4854fa9420f70": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": false,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm6m7q7i701wp2e777kklrlsp",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "true"
                            ]
                          }
                        ],
                        "key": "cm6m7q7i701wq2e77fo4gf5fz",
                        "operation": "is"
                      }
                    ],
                    "promptID": "679e1e1f743f7f8a96708bf3"
                  }
                },
                {
                  "id": "cm6m7qb6q01x22e77mkfl4607",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "false"
                            ]
                          }
                        ],
                        "key": "cm6m7qb6q01x32e77a9c4nxb3",
                        "operation": "is"
                      }
                    ],
                    "promptID": "679e1e1f743f7f8a96708bf3"
                  }
                }
              ],
              "promptID": "679e1e1f743f7f8a96708bf3"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "679e1e1713e4854fa9420f71"
                },
                "cm6m7q7i701wp2e777kklrlsp": {
                  "type": "",
                  "target": "679e1e6613e4854fa9420f8b",
                  "id": "679e1e1713e4854fa9420f72",
                  "data": {}
                },
                "cm6m7qb6q01x22e77mkfl4607": {
                  "type": "",
                  "target": "679e1e1713e4854fa9420f6e",
                  "id": "679e1e1713e4854fa9420f73"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679e1e1713e4854fa9420f70"
        },
        "679e1e1713e4854fa9420f75": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "678bbed8bfbbd62d56cdd0c3",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679e1e1713e4854fa9420f75"
        },
        "679e1e1713e4854fa9420f77": {
          "type": "block",
          "data": {
            "name": "New Block 22 copy",
            "color": "",
            "steps": [
              "679e1e1713e4854fa9420f70"
            ]
          },
          "nodeID": "679e1e1713e4854fa9420f77",
          "coords": [
            4569.968020935123,
            883.6554244817736
          ]
        },
        "679e1e6613e4854fa9420f86": {
          "type": "function",
          "data": {
            "functionID": "679e1e84b581cc269ec41d8f",
            "inputMapping": {
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    ""
                  ]
                }
              ],
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    ""
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    ""
                  ]
                }
              ],
              "orderNumber": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6793cd6392c4506f0615dab5"
                    },
                    ""
                  ]
                }
              ]
            },
            "outputMapping": {},
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "679e1e6613e4854fa9420f87"
                },
                "679e1eadb581cc269ec41dd1": {
                  "id": "679e1ec913e4854fa9421120",
                  "target": "679e1ed613e4854fa9421125",
                  "type": "",
                  "data": {}
                },
                "679e1eb3b581cc269ec41dd3": {
                  "id": "679e1ec913e4854fa9421121",
                  "target": "679e1edc13e4854fa9421137",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Shopify - Return the Whole Order"
          },
          "nodeID": "679e1e6613e4854fa9420f86"
        },
        "679e1e6613e4854fa9420f8b": {
          "type": "block",
          "data": {
            "name": "New Block 21 copy",
            "color": "",
            "steps": [
              "679e1e6613e4854fa9420f86"
            ]
          },
          "nodeID": "679e1e6613e4854fa9420f8b",
          "coords": [
            4572.616442917026,
            1159.091310599628
          ]
        },
        "679e1ed613e4854fa9421125": {
          "type": "block",
          "data": {
            "name": "New Block 18",
            "color": "",
            "steps": [
              "679e1ed613e4854fa9421129"
            ]
          },
          "nodeID": "679e1ed613e4854fa9421125",
          "coords": [
            5008.281858939978,
            1164.3881545634324
          ]
        },
        "679e1ed613e4854fa9421127": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679e1ed613e4854fa942112b"
            ]
          },
          "nodeID": "679e1ed613e4854fa9421127",
          "coords": [
            -1832.413724454278,
            881.0130542133284
          ]
        },
        "679e1ed613e4854fa9421129": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "679765c767f2876f30030b08",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "679e1ed613e4854fa9421127",
                  "id": "679e1ed613e4854fa942112a",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679e1ed613e4854fa9421129"
        },
        "679e1ed613e4854fa942112b": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67379d62399970d73c318ea6",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679e1ed613e4854fa942112b"
        },
        "679e1edc13e4854fa9421136": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cc92f732495a44f12a24",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679e1edc13e4854fa9421136"
        },
        "679e1edc13e4854fa9421137": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679e1edc13e4854fa9421136"
            ]
          },
          "nodeID": "679e1edc13e4854fa9421137",
          "coords": [
            0,
            0
          ]
        },
        "679e1ee713e4854fa942113c": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cc92f732495a44f12a24",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679e1ee713e4854fa942113c"
        },
        "679e1ee713e4854fa942113d": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679e1ee713e4854fa942113c"
            ]
          },
          "nodeID": "679e1ee713e4854fa942113d",
          "coords": [
            0,
            0
          ]
        }
      },
      "offsetX": 0,
      "offsetY": 0,
      "modified": 1737036959,
      "creatorID": 893814,
      "variables": [],
      "_id": "689247f952036d1f3e2253de",
      "diagramID": "6789149f51ad8942933c6bbf",
      "versionID": "689247ef52036d1f3e225354"
    },
    "67379e841f372df618ba6c53": {
      "name": "Customer Support",
      "type": "TOPIC",
      "zoom": 100,
      "nodes": {
        "67379ebf399970d73c318f8c": {
          "type": "kb-search",
          "data": {
            "name": "",
            "question": [
              {
                "text": [
                  "",
                  {
                    "variableID": "last_utterance"
                  },
                  " "
                ]
              }
            ],
            "maxChunks": 3,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67379ebf399970d73c318f8d"
                },
                "else": {
                  "id": "679f432e13e4854fa9421aeb",
                  "target": "679f435ec8479a835d877e50",
                  "type": "else",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "variableID": "chunks",
            "noMatch": {
              "path": true,
              "pathLabel": "Not found",
              "repromptID": null
            },
            "noMatchThreshold": 60
          },
          "nodeID": "67379ebf399970d73c318f8c"
        },
        "67379ebf399970d73c318f8e": {
          "type": "block",
          "data": {
            "name": "Analyze Support Question",
            "steps": [
              "67379f52399970d73c318f94",
              "6737a0c8399970d73c318fa1"
            ],
            "color": ""
          },
          "nodeID": "67379ebf399970d73c318f8e",
          "coords": [
            307.500015258789,
            129.24999999999997
          ]
        },
        "67379f52399970d73c318f94": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3j4l6kh04tx2e78x36r6a9d",
                "type": "prompt",
                "label": null,
                "value": "67379fb81f372df618ba6c54",
                "variableID": "67379f68bdb17488f6f829d2"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67379f52399970d73c318f95"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67379f52399970d73c318f94"
        },
        "67379f54399970d73c318f99": {
          "type": "block",
          "data": {
            "name": "New Block 1",
            "steps": [
              "67379ebf399970d73c318f8c",
              "6737a2c7399970d73c31905a"
            ]
          },
          "nodeID": "67379f54399970d73c318f99",
          "coords": [
            802.500015258789,
            122.99999999999997
          ]
        },
        "6737a0c8399970d73c318fa1": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": false,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm3j4t4m204wz2e78rfllfo67",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "67379f68bdb17488f6f829d2"
                        },
                        "rhs": [
                          {
                            "text": [
                              "Question"
                            ]
                          }
                        ],
                        "key": "cm3j4t4m204x02e7806g21jni",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm3j4tvfb04xj2e783pz4etjx",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "67379f68bdb17488f6f829d2"
                        },
                        "rhs": [
                          {
                            "text": [
                              "Statement"
                            ]
                          }
                        ],
                        "key": "cm3j4t4m204x02e7806g21jni",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6737a0c8399970d73c318fa2"
                },
                "cm3j4t4m204wz2e78rfllfo67": {
                  "id": "6737a0cb399970d73c318fa6",
                  "target": "67379f54399970d73c318f99",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          473.5,
                          298.25
                        ]
                      },
                      {
                        "point": [
                          555.5,
                          298.25
                        ]
                      },
                      {
                        "point": [
                          555.5,
                          150
                        ]
                      },
                      {
                        "point": [
                          637.5,
                          150
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm3j4tvfb04xj2e783pz4etjx": {
                  "id": "6737a0ee399970d73c318fa9",
                  "target": "6737a50a399970d73c3191f7",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          141.5,
                          372.25
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          117.5,
                          372.25
                        ]
                      },
                      {
                        "point": [
                          117.5,
                          445.25
                        ]
                      },
                      {
                        "point": [
                          296.25,
                          445.25
                        ]
                      },
                      {
                        "point": [
                          296.25,
                          510.5
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6737a0c8399970d73c318fa1"
        },
        "6737a2c7399970d73c31905a": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6737a30d399970d73c319060",
                  "id": "6737a2c7399970d73c31905b",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Generate Support Response",
            "promptID": "6737a2ca1f372df618ba6cbb"
          },
          "nodeID": "6737a2c7399970d73c31905a"
        },
        "6737a30d399970d73c31905f": {
          "type": "code",
          "data": {
            "name": "",
            "code": "// Function to clean up any potential unwanted characters from the string\nfunction cleanString(input) {\n    return input.replace(/\\s+/g, ' ').trim();\n}\n\n// Function to add assistant responses to memory with loopCounter as a prefix\nfunction addAssistantResponseToMemory(last_response, responseMemory, separator = ' | ') {\n    const cleanedAdvice = cleanString(last_response); // Clean the assistant's response\n    const prefixedAdvice = `assistant: ${cleanedAdvice}`;\n\n    // Check if memory already contains data\n    if (responseMemory && responseMemory.trim()) {\n        // Append the assistant response with the separator\n        responseMemory += separator + prefixedAdvice;\n    } else {\n        // If memory is empty, just set it to the prefixed assistant response\n        responseMemory = prefixedAdvice;\n    }\n\n    return responseMemory;\n}\n\n// Example usage at a different stage in your flow\nresponseMemory = addAssistantResponseToMemory(last_response, responseMemory);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6737a30d399970d73c319061"
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6737a30d399970d73c319062"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6737a30d399970d73c31905f"
        },
        "6737a30d399970d73c319060": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6737a30d399970d73c31905f",
              "6737a3ec399970d73c319129"
            ]
          },
          "nodeID": "6737a30d399970d73c319060",
          "coords": [
            0,
            0
          ]
        },
        "6737a3ec399970d73c319129": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6736059e3b721d7c9dff878e",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6737a3ec399970d73c319129"
        },
        "6737a50a399970d73c3191f5": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6737a50a399970d73c3191f6"
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Ask Support Question",
            "promptID": "6737a5111f372df618ba6cdd"
          },
          "nodeID": "6737a50a399970d73c3191f5"
        },
        "6737a50a399970d73c3191f7": {
          "type": "block",
          "data": {
            "name": "New Block 2",
            "steps": [
              "6737a50a399970d73c3191f5",
              "6737a545399970d73c3191fe"
            ]
          },
          "nodeID": "6737a50a399970d73c3191f7",
          "coords": [
            296.250015258789,
            510.4999999999999
          ]
        },
        "6737a545399970d73c3191fe": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": true,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "67379f54399970d73c318f99",
                  "id": "6737a545399970d73c3191ff",
                  "data": {
                    "points": [
                      {
                        "point": [
                          462.25,
                          658.5
                        ]
                      },
                      {
                        "point": [
                          556.25,
                          658.5
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          556.25,
                          150
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          637.5,
                          150
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6737a545399970d73c3191fe"
        },
        "679f435ec8479a835d877e4f": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679f435ec8479a835d877e4f"
        },
        "679f435ec8479a835d877e50": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679f435ec8479a835d877e4f"
            ]
          },
          "nodeID": "679f435ec8479a835d877e50",
          "coords": [
            0,
            0
          ]
        }
      },
      "offsetX": 0,
      "offsetY": 0,
      "modified": 1731698308,
      "creatorID": 893814,
      "variables": [],
      "_id": "689247f952036d1f3e2253df",
      "diagramID": "67379e841f372df618ba6c53",
      "versionID": "689247ef52036d1f3e225354"
    },
    "673619219713840a5359df12": {
      "name": "2. Product Recommendation",
      "type": "TOPIC",
      "zoom": 100,
      "nodes": {
        "6736192c3b721d7c9dff87f2": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6736192c3b721d7c9dff87f3"
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Generate Follow-up Response",
            "promptID": "673619309713840a5359df13"
          },
          "nodeID": "6736192c3b721d7c9dff87f2"
        },
        "6736192c3b721d7c9dff87f4": {
          "type": "block",
          "data": {
            "name": "Analyze currentState",
            "steps": [
              "67361cab3b721d7c9dff87fa"
            ],
            "color": ""
          },
          "nodeID": "6736192c3b721d7c9dff87f4",
          "coords": [
            -158.1327543424277,
            154.2220843672456
          ]
        },
        "67361cab3b721d7c9dff87fa": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3hhnkr2035t357jncs08esu",
                "type": "prompt",
                "label": null,
                "value": "67361cb29713840a5359df1f",
                "variableID": "67361ceb863bc8c813de339a"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "678913f0dcfb38dda911dc64",
                  "id": "67361cab3b721d7c9dff87fb",
                  "data": {
                    "points": [
                      {
                        "point": [
                          8.53,
                          240.22
                        ]
                      },
                      {
                        "point": [
                          77.95,
                          240.22
                        ]
                      },
                      {
                        "point": [
                          77.95,
                          188.97
                        ]
                      },
                      {
                        "point": [
                          147.37,
                          188.97
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67361cab3b721d7c9dff87fa"
        },
        "673641f404a65d9a776d8e8c": {
          "type": "code",
          "data": {
            "name": "",
            "code": "// Function to clean up any potential unwanted characters from the string\nfunction cleanString(input) {\n    return input.replace(/\\s+/g, ' ').trim();\n}\n\n// Function to add assistant responses to memory with loopCounter as a prefix\nfunction addAssistantResponseToMemory(last_response, responseMemory, separator = ' | ') {\n    const cleanedAdvice = cleanString(last_response); // Clean the assistant's response\n    const prefixedAdvice = `assistant: ${cleanedAdvice}`;\n\n    // Check if memory already contains data\n    if (responseMemory && responseMemory.trim()) {\n        // Append the assistant response with the separator\n        responseMemory += separator + prefixedAdvice;\n    } else {\n        // If memory is empty, just set it to the prefixed assistant response\n        responseMemory = prefixedAdvice;\n    }\n\n    return responseMemory;\n}\n\n// Example usage at a different stage in your flow\nresponseMemory = addAssistantResponseToMemory(last_response, responseMemory);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "673641f404a65d9a776d8e8d"
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "673641f404a65d9a776d8e8e"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "673641f404a65d9a776d8e8c"
        },
        "6736422104a65d9a776d8e93": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6736422f04a65d9a776d8e9a",
                  "id": "6736422104a65d9a776d8e94",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6736422104a65d9a776d8e93",
          "coords": [
            0,
            0
          ]
        },
        "6736422f04a65d9a776d8e99": {
          "type": "code",
          "data": {
            "name": "",
            "code": "// Function to clean up any potential unwanted characters from the string\nfunction cleanString(input) {\n    return input.replace(/\\s+/g, ' ').trim();\n}\n\n// Function to add assistant responses to memory with loopCounter as a prefix\nfunction addAssistantResponseToMemory(last_utterance, responseMemory, separator = ' | ') {\n    const cleanedAdvice = cleanString(last_utterance); // Clean the assistant's response\n    const prefixedAdvice = `user: ${cleanedAdvice}`;\n\n    // Check if memory already contains data\n    if (responseMemory && responseMemory.trim()) {\n        // Append the assistant response with the separator\n        responseMemory += separator + prefixedAdvice;\n    } else {\n        // If memory is empty, just set it to the prefixed assistant response\n        responseMemory = prefixedAdvice;\n    }\n\n    return responseMemory;\n}\n\n// Example usage at a different stage in your flow\nresponseMemory = addAssistantResponseToMemory(last_utterance, responseMemory);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "678ff2c89549449cce2826ae",
                  "id": "6736422f04a65d9a776d8e9b",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -6.785629179761981,
                          794.6109412311993
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          -30.78562917976198,
                          794.6109412311993
                        ]
                      },
                      {
                        "point": [
                          -30.78562917976198,
                          700.7
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          37.80306564850309,
                          700.7
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          37.80306564850309,
                          442.1919289576392
                        ]
                      },
                      {
                        "point": [
                          13.803065648503093,
                          442.1919289576392
                        ],
                        "reversed": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6736422f04a65d9a776d8e9c"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6736422f04a65d9a776d8e99"
        },
        "6736422f04a65d9a776d8e9a": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6736422f04a65d9a776d8e99"
            ]
          },
          "nodeID": "6736422f04a65d9a776d8e9a",
          "coords": [
            0,
            0
          ]
        },
        "67371987f1df6c55d1524969": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3ik72s1005l2e785fsvzbmr",
                "type": "prompt",
                "label": null,
                "value": "673719918b4c5b4d82ad196b",
                "variableID": "673719f5181991bb60d8d275"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "678e80df5643f91de01690b8",
                  "id": "67371987f1df6c55d152496a",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67371987f1df6c55d1524969"
        },
        "67371987f1df6c55d152496b": {
          "type": "block",
          "data": {
            "name": "Dynamic Carousel",
            "steps": [
              "67372be2698af89bf146f443"
            ],
            "color": "#56b365"
          },
          "nodeID": "67371987f1df6c55d152496b",
          "coords": [
            1767.7500019073484,
            148.74999237060547
          ]
        },
        "67371f4bf1df6c55d1524973": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "67371987f1df6c55d152496b",
                  "id": "67371f4bf1df6c55d1524974",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1457.72,
                          133.49
                        ]
                      },
                      {
                        "point": [
                          1530.23,
                          133.49
                        ]
                      },
                      {
                        "point": [
                          1530.23,
                          175.75
                        ]
                      },
                      {
                        "point": [
                          1602.75,
                          175.75
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Generate Advice Response",
            "promptID": "67371f4c8b4c5b4d82ad199b"
          },
          "nodeID": "67371f4bf1df6c55d1524973"
        },
        "67372be2698af89bf146f443": {
          "type": "function",
          "data": {
            "inputMapping": {
              "filteredProducts": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "673719f5181991bb60d8d275"
                    },
                    " "
                  ]
                }
              ],
              "formattedProductData": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67365094181991bb60d86ab4"
                    },
                    " "
                  ]
                }
              ],
              "bt_checkout": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67372d22dd4bf1d669dc1da0"
                    },
                    " "
                  ]
                }
              ],
              "bt_orderNow": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "673784c1bdb17488f6f81033"
                    },
                    " "
                  ]
                }
              ],
              "bt_moreInfo": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "678ba47022fbcb6ac61273fd"
                    },
                    " "
                  ]
                }
              ],
              "rawProductData": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67365094181991bb60d86ab4"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {},
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "67372be2698af89bf146f444"
                },
                "67372c85dd4bf1d669dc1c12": {
                  "id": "67372ce2698af89bf146f47a",
                  "target": "67372f71698af89bf146f52c",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1934.42,
                          292.42
                        ]
                      },
                      {
                        "point": [
                          1996.21,
                          292.42
                        ]
                      },
                      {
                        "point": [
                          1996.21,
                          174.5
                        ]
                      },
                      {
                        "point": [
                          2058,
                          174.5
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "67372c98dd4bf1d669dc1c88": {
                  "id": "67372ce2698af89bf146f47b",
                  "target": "6790cbb8f732495a44f1299c",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1934.42,
                          346.42
                        ]
                      },
                      {
                        "point": [
                          2186.74,
                          346.42
                        ]
                      },
                      {
                        "point": [
                          2186.74,
                          525.71
                        ]
                      },
                      {
                        "point": [
                          2439.07,
                          525.71
                        ],
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                },
                "67372c9fdd4bf1d669dc1ca8": {
                  "id": "67372ce2698af89bf146f47c",
                  "target": "6790cd21f732495a44f12b4c",
                  "type": "",
                  "data": {}
                },
                "678ba51722fbcb6ac61274be": {
                  "id": "678ba520bfbbd62d56cdd008",
                  "target": "678bd624bfbbd62d56cdd6c0",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1934.42,
                          400.42
                        ]
                      },
                      {
                        "point": [
                          1994.61,
                          400.42
                        ]
                      },
                      {
                        "point": [
                          1994.61,
                          614.6
                        ]
                      },
                      {
                        "point": [
                          2054.81,
                          614.6
                        ],
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                },
                "678bd95522fbcb6ac6129c62": {
                  "id": "678bd95dbfbbd62d56cdd97a",
                  "target": "678bbed8bfbbd62d56cdd0c3",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1934.42,
                          454.42
                        ]
                      },
                      {
                        "point": [
                          1958.42,
                          454.42
                        ]
                      },
                      {
                        "point": [
                          1958.42,
                          750.56
                        ]
                      },
                      {
                        "point": [
                          1786.38,
                          750.56
                        ]
                      },
                      {
                        "point": [
                          1786.38,
                          1046.71
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ],
                    "color": "#5b9fd7"
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "67372bf4dd4bf1d669dc1b86",
            "name": "Generate Dynamic Carousel"
          },
          "nodeID": "67372be2698af89bf146f443",
          "coords": [
            0,
            0
          ]
        },
        "67372f71698af89bf146f528": {
          "type": "code",
          "data": {
            "name": "",
            "code": "//store all the needed data of the selected product\nselectedProductSKU = last_event.payload.productDetails.sku || 'Unknown SKU'\nselectedProductTitle = last_event.payload.productDetails.productTitle || 'Unknown Title'\nselectedProductPrice = last_event.payload.productDetails.price || 'Unknown Price'\nselectedProductInventory = last_event.payload.productDetails.inventoryQuantity || 'Unknown Quantity'\nselectedProductID = last_event.payload.productDetails.productId || 'Unknown ID'\nselectedVariantID = last_event.payload.productDetails.variantIds || 'Unknown Variants'\nselectedVariantTitles = last_event.payload.productDetails.variantTitles || 'Unknown Variants Titles'\nselectedVariantPrices = last_event.payload.productDetails.variantPrices || 'Unknown Variants Prices'\n\n//variable created of sku, title, price, product id, variant id",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "678e2f79ac1e37853de232f8",
                  "id": "67372f71698af89bf146f52a",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2389.67,
                          280.58
                        ]
                      },
                      {
                        "point": [
                          2442.6,
                          280.58
                        ]
                      },
                      {
                        "point": [
                          2442.6,
                          179.08
                        ]
                      },
                      {
                        "point": [
                          2495.53,
                          179.08
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": "6790d054f732495a44f12d19",
                  "id": "67372f71698af89bf146f529",
                  "data": {}
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "67372f71698af89bf146f528"
        },
        "67372f71698af89bf146f52c": {
          "type": "block",
          "data": {
            "name": "Get Selected Product Data",
            "color": "#71a4a2",
            "steps": [
              "67372f71698af89bf146f528"
            ]
          },
          "nodeID": "67372f71698af89bf146f52c",
          "coords": [
            2223,
            147.5
          ]
        },
        "67377a02399970d73c318886": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3iywdhu01fi2e785imry910",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "1"
                    ]
                  }
                ],
                "variableID": "673779d9bdb17488f6f805e6"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "678bde65bfbbd62d56cddbf9",
                  "id": "67377a02399970d73c318887",
                  "data": {
                    "points": [
                      {
                        "point": [
                          3233.49,
                          79.02
                        ]
                      },
                      {
                        "point": [
                          3316.36,
                          79.02
                        ]
                      },
                      {
                        "point": [
                          3316.36,
                          16.74
                        ]
                      },
                      {
                        "point": [
                          3399.22,
                          16.74
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67377a02399970d73c318886"
        },
        "67377a69399970d73c31888d": {
          "type": "code",
          "data": {
            "name": "",
            "code": "function addToOrderList(orderProductList, selectedProductTitle, selectedProductPrice, selectedVariantID, selectedProductQuantity) {\n    // Check if orderProductList is already an array; if not, initialize it as an empty array\n    if (!Array.isArray(orderProductList)) {\n        orderProductList = [];\n    }\n\n    // Create a new order object with the provided values\n    const newOrder = {\n        productTitle: selectedProductTitle,\n        productPrice: selectedProductPrice,\n        variantID: selectedVariantID,\n        quantity: selectedProductQuantity\n    };\n\n    // Add the new order object to the orderProductList\n    orderProductList.push(newOrder);\n\n    // Return the updated orderProductList\n    return orderProductList;\n}\n\n// Call the function with the `selected` variables\norderProductList = addToOrderList(\n    orderProductList,\n    selectedProductTitle,\n    selectedProductPrice,\n    selectedVariantID,\n    selectedProductQuantity\n);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "67939fa8f9ab19302f95e5d0",
                  "id": "67377a69399970d73c31888f",
                  "data": {
                    "points": [
                      {
                        "point": [
                          3730.89,
                          122.82
                        ]
                      },
                      {
                        "point": [
                          3973.7,
                          122.82
                        ]
                      },
                      {
                        "point": [
                          3973.7,
                          264
                        ]
                      },
                      {
                        "point": [
                          4216.5,
                          264
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "67377a69399970d73c31888e",
                  "data": {}
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "67377a69399970d73c31888d"
        },
        "67377c37399970d73c318928": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3iz8i3501nc2e783y14e52g",
                "type": "script",
                "label": null,
                "value": [
                  "JSON.stringify(",
                  {
                    "variableID": "6735e330863bc8c813ddfd5e"
                  },
                  ")"
                ],
                "variableID": "6735e330863bc8c813ddfd5e"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67377c37399970d73c318929"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67377c37399970d73c318928"
        },
        "67377c37399970d73c31892a": {
          "type": "block",
          "data": {
            "name": "Create checkout",
            "steps": [
              "67377c37399970d73c318928",
              "67377cad399970d73c318932"
            ],
            "color": ""
          },
          "nodeID": "67377c37399970d73c31892a",
          "coords": [
            5057.495311661893,
            235.50047962107234
          ]
        },
        "67377cad399970d73c318932": {
          "type": "function",
          "data": {
            "inputMapping": {
              "orderProductList": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e330863bc8c813ddfd5e"
                    },
                    " "
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    " "
                  ]
                }
              ],
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyStorefrontAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e195863bc8c813ddfc25"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "checkoutUrl": "67378478bdb17488f6f8100a"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "67377cad399970d73c318933"
                },
                "67377d78bdb17488f6f8091f": {
                  "id": "67377e8c399970d73c318a29",
                  "target": "673783f5399970d73c318ced",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          5224.16,
                          478.5
                        ]
                      },
                      {
                        "point": [
                          5278.75,
                          478.5
                        ]
                      },
                      {
                        "point": [
                          5278.75,
                          305.46
                        ]
                      },
                      {
                        "point": [
                          5333.33,
                          305.46
                        ],
                        "allowedToTop": false
                      }
                    ]
                  }
                },
                "67377d81bdb17488f6f80922": {
                  "id": "67377e9e399970d73c318a6e",
                  "target": "6790d05ef732495a44f12d1f",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "67377d2cbdb17488f6f808d7",
            "name": "Shopify - Create Checkout URL"
          },
          "nodeID": "67377cad399970d73c318932",
          "coords": [
            0,
            0
          ]
        },
        "673783f5399970d73c318ced": {
          "type": "buttons-v2",
          "data": {
            "name": "Buttons",
            "items": [
              {
                "id": "cm3j0gm3003dp2e782n1mobh7",
                "label": [
                  {
                    "text": [
                      "",
                      {
                        "variableID": "67372d22dd4bf1d669dc1da0"
                      },
                      " "
                    ]
                  }
                ]
              }
            ],
            "listenForOtherTriggers": true,
            "portsV2": {
              "byKey": {
                "no-reply": {
                  "id": "67378415399970d73c318cf4",
                  "target": null,
                  "type": "no-reply"
                },
                "cm3j0gm3003dp2e782n1mobh7": {
                  "id": "67378445399970d73c318cf6",
                  "target": "67378462399970d73c318cf9",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "673783f5399970d73c318ced",
          "coords": [
            0,
            0
          ]
        },
        "673783f5399970d73c318cee": {
          "type": "block",
          "data": {
            "name": "New Block 6",
            "steps": [
              "673783f5399970d73c318ced"
            ]
          },
          "nodeID": "673783f5399970d73c318cee",
          "coords": [
            5499.995311661892,
            227.12547962107234
          ]
        },
        "67378462399970d73c318cf8": {
          "type": "url",
          "data": {
            "name": "",
            "url": "{{[checkoutUrl].67378478bdb17488f6f8100a}}",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "67379d62399970d73c318ea6",
                  "id": "67378462399970d73c318cfa",
                  "data": {
                    "points": [
                      {
                        "point": [
                          5823.02,
                          305.71
                        ]
                      },
                      {
                        "point": [
                          5866.51,
                          305.71
                        ]
                      },
                      {
                        "point": [
                          5866.51,
                          246.94
                        ]
                      },
                      {
                        "point": [
                          5910,
                          246.94
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "67378462399970d73c318cf8"
        },
        "67378462399970d73c318cf9": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "67378462399970d73c318cf8"
            ]
          },
          "nodeID": "67378462399970d73c318cf9",
          "coords": [
            0,
            0
          ]
        },
        "67379d62399970d73c318ea4": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67379d62399970d73c318ea5",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Need More Help",
            "promptID": "67379d691f372df618ba6c50"
          },
          "nodeID": "67379d62399970d73c318ea4"
        },
        "67379d62399970d73c318ea6": {
          "type": "block",
          "data": {
            "name": "Need More Help",
            "steps": [
              "67379d62399970d73c318ea4",
              "6793a0def9ab19302f95eef5"
            ],
            "color": "#dc8879"
          },
          "nodeID": "67379d62399970d73c318ea6",
          "coords": [
            6074.995311661895,
            219.9379796210723
          ]
        },
        "678913f0dcfb38dda911dc5d": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm6178zuc074v2e77y0rqwget",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "false"
                            ]
                          }
                        ],
                        "key": "cm6178zuc074w2e77ue0ikhxk",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ],
              "promptID": "678ab9e27e62048b1f8d22f4"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678913f0dcfb38dda911dc5e"
                },
                "else": {
                  "type": "else",
                  "target": "678957dc82c8e6859734544e",
                  "id": "678913f0dcfb38dda911dc5f",
                  "data": {
                    "points": [
                      {
                        "point": [
                          145.7,
                          294.81
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          121.7,
                          294.81
                        ]
                      },
                      {
                        "point": [
                          121.7,
                          441.37
                        ]
                      },
                      {
                        "point": [
                          295.15,
                          441.37
                        ]
                      },
                      {
                        "point": [
                          295.15,
                          587.94
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm610jxbm02mj2e779z286bwi": {
                  "id": "678a8e83bfbbd62d56cdb293",
                  "target": "678958b5b3c7ea601571168f",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1394,
                          358
                        ]
                      },
                      {
                        "point": [
                          1419.75,
                          358
                        ]
                      },
                      {
                        "point": [
                          1419.75,
                          7.56
                        ]
                      },
                      {
                        "point": [
                          1395.75,
                          7.56
                        ],
                        "reversed": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6178zuc074v2e77y0rqwget": {
                  "id": "678aba73bfbbd62d56cdc8d4",
                  "target": "678958b5b3c7ea601571168f",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          479.03,
                          240.56
                        ]
                      },
                      {
                        "point": [
                          555.05,
                          240.56
                        ]
                      },
                      {
                        "point": [
                          555.05,
                          272.49
                        ]
                      },
                      {
                        "point": [
                          631.06,
                          272.49
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678913f0dcfb38dda911dc5d"
        },
        "678913f0dcfb38dda911dc64": {
          "type": "block",
          "data": {
            "name": "Contains undefined? 1",
            "color": "#899ace",
            "steps": [
              "678913f0dcfb38dda911dc5d"
            ]
          },
          "nodeID": "678913f0dcfb38dda911dc64",
          "coords": [
            312.3672456575722,
            161.97208436724566
          ]
        },
        "678958b5b3c7ea601571168f": {
          "type": "block",
          "data": {
            "name": "New Block 9",
            "steps": [
              "67371987f1df6c55d1524969"
            ]
          },
          "nodeID": "678958b5b3c7ea601571168f",
          "coords": [
            796.0641814220207,
            245.4911307729879
          ]
        },
        "6789591eb3c7ea6015711698": {
          "type": "block",
          "data": {
            "name": "New Block 10",
            "steps": [
              "67371f4bf1df6c55d1524973"
            ]
          },
          "nodeID": "6789591eb3c7ea6015711698",
          "coords": [
            1291.0526735444264,
            54.90262949889856
          ]
        },
        "678a30cf12078603963899e5": {
          "type": "function",
          "data": {
            "inputMapping": {
              "shopifyStoreID": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "6735e25d863bc8c813ddfd04"
                    },
                    " "
                  ]
                }
              ],
              "shopifyAdminAccessToken": [
                {
                  "text": [
                    "",
                    {
                      "secretID": "6735e17a863bc8c813ddfc14"
                    },
                    " "
                  ]
                }
              ],
              "shopifyApiVersion": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "67364d3f181991bb60d8678b"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "productInfoForLLM": "6736507d181991bb60d86aa8",
              "rawProductData": "67365094181991bb60d86ab4",
              "productTitlesForLLM": "67909732a3a14c8742fb681c"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "678a30cf12078603963899e6"
                },
                "678a31323f09b38dd6f7ea1f": {
                  "id": "678a31481207860396389a4e",
                  "target": "678fcc6e7b80056a8e2e9e5f",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -999.02,
                          309.26
                        ]
                      },
                      {
                        "point": [
                          -927.16,
                          309.26
                        ]
                      },
                      {
                        "point": [
                          -927.16,
                          187.62
                        ]
                      },
                      {
                        "point": [
                          -855.3,
                          187.62
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "678a31353f09b38dd6f7ea20": {
                  "id": "678a31481207860396389a4f",
                  "target": "6790d04af732495a44f12d13",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "678a31003f09b38dd6f7ea01",
            "name": "Shopify - Get All Products"
          },
          "nodeID": "678a30cf12078603963899e5"
        },
        "678a30cf12078603963899e7": {
          "type": "block",
          "data": {
            "name": "Get All Products",
            "steps": [
              "678a30cf12078603963899e5"
            ],
            "color": "#56b365"
          },
          "nodeID": "678a30cf12078603963899e7",
          "coords": [
            -1165.686897672225,
            142.9308989643532
          ]
        },
        "678957dc82c8e6859734544e": {
          "type": "block",
          "data": {
            "name": "New Block 8",
            "steps": [
              "6736192c3b721d7c9dff87f2",
              "673641f404a65d9a776d8e8c",
              "6736422104a65d9a776d8e93"
            ]
          },
          "nodeID": "678957dc82c8e6859734544e",
          "coords": [
            295.15203000818326,
            587.9437993925126
          ]
        },
        "678bbed8bfbbd62d56cdd0bc": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": false,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm62awfby0abo2e77c2xvj1jb",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "ProductInfo"
                            ]
                          }
                        ],
                        "key": "cm62awfby0abp2e775xi4t0an",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm62awsd90ac42e77gfa0azbk",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "DifferentProduct"
                            ]
                          }
                        ],
                        "key": "cm62awsd90ac52e775fs022mn",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm62awywi0acf2e77kjweokz0",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "CustomerSupport"
                            ]
                          }
                        ],
                        "key": "cm62awywi0acg2e77g2d15otg",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm62ax4wz0acp2e77achxn1kl",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "OrderTracking"
                            ]
                          }
                        ],
                        "key": "cm62ax4wz0acq2e77f0ecm6d3",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm62dz6le0bav2e77g3wuis5n",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "BuyingIntent"
                            ]
                          }
                        ],
                        "key": "cm62dz6le0baw2e77chgwe136",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm62ecmeq0bhp2e77nwxys56r",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "OrderReturn"
                            ]
                          }
                        ],
                        "key": "cm62ecmeq0bhq2e77ihcjnw2f",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ],
              "promptID": "678ba6a27e62048b1f8d2a7c"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678bbed8bfbbd62d56cdd0bd"
                },
                "cm62awfby0abo2e77c2xvj1jb": {
                  "type": "",
                  "target": "6793bbc939a5434e8b4a6fa2",
                  "id": "678bbed8bfbbd62d56cdd0be",
                  "data": {
                    "color": "#b2976c",
                    "points": [
                      {
                        "point": [
                          1953.05,
                          1125.3
                        ]
                      },
                      {
                        "point": [
                          2105.52,
                          1125.3
                        ]
                      },
                      {
                        "point": [
                          2105.52,
                          1030.74
                        ]
                      },
                      {
                        "point": [
                          2257.99,
                          1030.74
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm62awsd90ac42e77gfa0azbk": {
                  "type": "",
                  "target": "678e76230b66797d5d9c57ea",
                  "id": "678bbed8bfbbd62d56cdd0bf",
                  "data": {}
                },
                "cm62awywi0acf2e77kjweokz0": {
                  "type": "",
                  "target": "678bbee9bfbbd62d56cdd0ce",
                  "id": "678bbed8bfbbd62d56cdd0c0",
                  "data": {}
                },
                "cm62ax4wz0acp2e77achxn1kl": {
                  "type": "",
                  "target": "679a37b744778a562339d232",
                  "id": "678bbed8bfbbd62d56cdd0c1",
                  "data": {}
                },
                "cm62dz6le0bav2e77g3wuis5n": {
                  "id": "678bd2c8bfbbd62d56cdd4fe",
                  "target": "678ff23c9549449cce28269c",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1619.7126482119443,
                          1341.5459130405864
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          1509.23,
                          1341.5459130405864
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          1509.23,
                          572.4136609609875
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          1367.426592085445,
                          572.4136609609875
                        ],
                        "reversed": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm62ecmeq0bhp2e77nwxys56r": {
                  "id": "678bd53cbfbbd62d56cdd502",
                  "target": "679a37bf44778a562339d238",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678bbed8bfbbd62d56cdd0bc",
          "coords": [
            0,
            0
          ]
        },
        "678bbed8bfbbd62d56cdd0c3": {
          "type": "block",
          "data": {
            "name": "Product recommendation sub filter",
            "color": "#5b9fd7",
            "steps": [
              "678bbed8bfbbd62d56cdd0bc"
            ]
          },
          "nodeID": "678bbed8bfbbd62d56cdd0c3",
          "coords": [
            1786.3795130996734,
            1046.7124181357956
          ]
        },
        "678bbee9bfbbd62d56cdd0cd": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67379ebf399970d73c318f8e",
            "diagramID": "67379e841f372df618ba6c53",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678bbee9bfbbd62d56cdd0cd"
        },
        "678bbee9bfbbd62d56cdd0ce": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "678bbee9bfbbd62d56cdd0cd"
            ]
          },
          "nodeID": "678bbee9bfbbd62d56cdd0ce",
          "coords": [
            0,
            0
          ]
        },
        "678bbf26bfbbd62d56cdd1c8": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm62azijk0aj42e77gwpbuf9h",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "6736507d181991bb60d86aa8"
                        },
                        "rhs": [
                          {
                            "text": [
                              "0"
                            ]
                          }
                        ],
                        "key": "cm62azijk0aj52e77xmqhsaej",
                        "operation": "is_not"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678bbf26bfbbd62d56cdd1c9"
                },
                "else": {
                  "type": "else",
                  "target": "678a30cf12078603963899e7",
                  "id": "678bbf26bfbbd62d56cdd1ca",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1390.27,
                          44.6
                        ]
                      },
                      {
                        "point": [
                          -1360.48,
                          44.6
                        ]
                      },
                      {
                        "point": [
                          -1360.48,
                          169.93
                        ]
                      },
                      {
                        "point": [
                          -1330.69,
                          169.93
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm62azijk0aj42e77gwpbuf9h": {
                  "id": "678bbf29bfbbd62d56cdd1d0",
                  "target": "6793c38739a5434e8b4a83e4",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1390.27,
                          -17.07
                        ]
                      },
                      {
                        "point": [
                          -1360.06,
                          -17.07
                        ]
                      },
                      {
                        "point": [
                          -1360.06,
                          -189.18
                        ]
                      },
                      {
                        "point": [
                          -1329.85,
                          -189.18
                        ],
                        "allowedToTop": true
                      }
                    ],
                    "color": "#9c9e6c"
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678bbf26bfbbd62d56cdd1c8"
        },
        "678bbf26bfbbd62d56cdd1cb": {
          "type": "block",
          "data": {
            "name": "productInfoForLLM empty",
            "steps": [
              "678bbf26bfbbd62d56cdd1c8"
            ],
            "color": ""
          },
          "nodeID": "678bbf26bfbbd62d56cdd1cb",
          "coords": [
            -1556.9368976722228,
            -103.06910103564657
          ]
        },
        "678bcc62bfbbd62d56cdd41f": {
          "type": "block",
          "data": {
            "name": "Product Info Support",
            "color": "#b2976c",
            "steps": [
              "678bcc62bfbbd62d56cdd426"
            ]
          },
          "nodeID": "678bcc62bfbbd62d56cdd41f",
          "coords": [
            2939.8845928713745,
            1257.8426945128847
          ]
        },
        "678bcc62bfbbd62d56cdd421": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "678bcc62bfbbd62d56cdd429"
            ]
          },
          "nodeID": "678bcc62bfbbd62d56cdd421",
          "coords": [
            1721.4999866485587,
            689.4999923706054
          ]
        },
        "678bcc62bfbbd62d56cdd426": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "678bcdb17e62048b1f8d2bdb",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "678bcc62bfbbd62d56cdd421",
                  "id": "678bcc62bfbbd62d56cdd427",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678bcc62bfbbd62d56cdd426"
        },
        "678bcc62bfbbd62d56cdd429": {
          "type": "code",
          "data": {
            "name": "",
            "code": "// Function to clean up any potential unwanted characters from the string\nfunction cleanString(input) {\n    return input.replace(/\\s+/g, ' ').trim();\n}\n\n// Function to add assistant responses to memory with loopCounter as a prefix\nfunction addAssistantResponseToMemory(last_response, responseMemory, separator = ' | ') {\n    const cleanedAdvice = cleanString(last_response); // Clean the assistant's response\n    const prefixedAdvice = `assistant: ${cleanedAdvice}`;\n\n    // Check if memory already contains data\n    if (responseMemory && responseMemory.trim()) {\n        // Append the assistant response with the separator\n        responseMemory += separator + prefixedAdvice;\n    } else {\n        // If memory is empty, just set it to the prefixed assistant response\n        responseMemory = prefixedAdvice;\n    }\n\n    return responseMemory;\n}\n\n// Example usage at a different stage in your flow\nresponseMemory = addAssistantResponseToMemory(last_response, responseMemory);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "6790a4c3f732495a44f11c56",
                  "id": "678bcc62bfbbd62d56cdd42a",
                  "data": {
                    "points": [
                      {
                        "point": [
                          3241.82,
                          1343.84
                        ]
                      },
                      {
                        "point": [
                          3265.82,
                          1343.84
                        ]
                      },
                      {
                        "point": [
                          3265.82,
                          1413.84
                        ]
                      },
                      {
                        "point": [
                          2956.15,
                          1413.84
                        ]
                      },
                      {
                        "point": [
                          2956.15,
                          1477.14
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "678bcc62bfbbd62d56cdd428"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "678bcc62bfbbd62d56cdd429"
        },
        "678bce8bbfbbd62d56cdd4ea": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "678bbed8bfbbd62d56cdd0c3",
                  "id": "678bce8bbfbbd62d56cdd4eb",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2384.165124865838,
                          1740.6889786232427
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          2188.88,
                          1740.6889786232427
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          2188.88,
                          1073.7125544807977
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          1951.3793595938155,
                          1073.7125544807977
                        ],
                        "reversed": true,
                        "allowedToTop": true
                      }
                    ],
                    "color": "#5b9fd7"
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678bce8bbfbbd62d56cdd4ea"
        },
        "678bce8bbfbbd62d56cdd4ec": {
          "type": "block",
          "data": {
            "name": "New Block 16",
            "steps": [
              "678bce8bbfbbd62d56cdd4ea"
            ],
            "color": "#b2976c"
          },
          "nodeID": "678bce8bbfbbd62d56cdd4ec",
          "coords": [
            2550.836109324195,
            1655.024018940755
          ]
        },
        "678bd624bfbbd62d56cdd6bc": {
          "type": "code",
          "data": {
            "name": "",
            "code": "selectedProductTitle = last_event.payload.productDetails.productTitle || 'Unknown Title'\nselectedProductDescription = last_event.payload.productDetails.productDescription || 'Unknown Description'",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678bd624bfbbd62d56cdd6be",
                  "data": {}
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "678bd624bfbbd62d56cdd6bd"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "678bd624bfbbd62d56cdd6bc"
        },
        "678bd624bfbbd62d56cdd6c0": {
          "type": "block",
          "data": {
            "name": "Get Selected Product Info",
            "color": "#b2976c",
            "steps": [
              "678bd624bfbbd62d56cdd6bc",
              "678bd832bfbbd62d56cdd8ba",
              "678bd8eabfbbd62d56cdd8c2"
            ]
          },
          "nodeID": "678bd624bfbbd62d56cdd6c0",
          "coords": [
            2219.8122130247484,
            587.5950729255908
          ]
        },
        "678bd832bfbbd62d56cdd8ba": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "678bd8357e62048b1f8d2e00",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678bd832bfbbd62d56cdd8bb",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678bd832bfbbd62d56cdd8ba"
        },
        "678bd8eabfbbd62d56cdd8c2": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "678bbed8bfbbd62d56cdd0c3",
                  "id": "678bd8eabfbbd62d56cdd8c3",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2053.15,
                          794.26
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          2002.26,
                          794.26
                        ]
                      },
                      {
                        "point": [
                          2002.26,
                          1073.71
                        ]
                      },
                      {
                        "point": [
                          1951.38,
                          1073.71
                        ],
                        "reversed": true,
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678bd8eabfbbd62d56cdd8c2",
          "coords": [
            0,
            0
          ]
        },
        "678bde65bfbbd62d56cddbf9": {
          "type": "block",
          "data": {
            "name": "Create orderProductList without variant",
            "steps": [
              "67377a69399970d73c31888d"
            ],
            "color": ""
          },
          "nodeID": "678bde65bfbbd62d56cddbf9",
          "coords": [
            3564.22439422025,
            -10.260077273854488
          ]
        },
        "678e2f79ac1e37853de232f5": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm64y57qx027l2e77674s3hb3",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "678e506cc281e62ca5f3ec18"
                        },
                        "rhs": [
                          {
                            "text": [
                              "Not needed"
                            ]
                          }
                        ],
                        "key": "cm64y57qx027m2e77xzhwgbbg",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678e2f79ac1e37853de232f6"
                },
                "else": {
                  "type": "else",
                  "target": "678e3a34ac1e37853de234bd",
                  "id": "678e2f79ac1e37853de232f7",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2827.19,
                          299.75
                        ]
                      },
                      {
                        "point": [
                          2865.6,
                          299.75
                        ]
                      },
                      {
                        "point": [
                          2865.6,
                          418.75
                        ]
                      },
                      {
                        "point": [
                          2904,
                          418.75
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm64y57qx027l2e77674s3hb3": {
                  "id": "678e2f7fac1e37853de232fe",
                  "target": "678e3067ac1e37853de23301",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2827.19,
                          238.08
                        ]
                      },
                      {
                        "point": [
                          2864.51,
                          238.08
                        ]
                      },
                      {
                        "point": [
                          2864.51,
                          20.02
                        ]
                      },
                      {
                        "point": [
                          2901.83,
                          20.02
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678e2f79ac1e37853de232f5",
          "coords": [
            0,
            0
          ]
        },
        "678e2f79ac1e37853de232f8": {
          "type": "block",
          "data": {
            "name": "New Block 20",
            "steps": [
              "678e2f79ac1e37853de232f5"
            ]
          },
          "nodeID": "678e2f79ac1e37853de232f8",
          "coords": [
            2660.5261887537913,
            152.07821022910917
          ]
        },
        "678e3067ac1e37853de23301": {
          "type": "block",
          "data": {
            "name": "New Block 21",
            "steps": [
              "67377a02399970d73c318886"
            ]
          },
          "nodeID": "678e3067ac1e37853de23301",
          "coords": [
            3066.8254013522173,
            -6.976907881126919
          ]
        },
        "678e3a34ac1e37853de234bd": {
          "type": "block",
          "data": {
            "name": "New Block 22",
            "steps": [
              "678e3aa9ac1e37853de234c4"
            ]
          },
          "nodeID": "678e3a34ac1e37853de234bd",
          "coords": [
            3069.0000019073477,
            391.74999237060547
          ]
        },
        "678e3aa9ac1e37853de234c4": {
          "type": "trace",
          "data": {
            "name": "ext_variant_selection",
            "_v": 1,
            "paths": [
              {
                "label": "complete",
                "isDefault": true
              }
            ],
            "payload": {
              "name": "ext_variant_selection",
              "body": "{\n\"selectedVariantID\": \"{selectedVariantID}\",\n\"selectedVariantTitle\": \"{selectedVariantTitles}\",\n\"selectedVariantPrices\": \"{selectedVariantPrices}\",\n\"lb_quantity\": \"{lb_quantity}\",\n\"bt_submit\": \"{bt_submit}\"\n}",
              "bodyType": "json",
              "scope": "local",
              "isBlocking": true
            },
            "defaultPath": 0,
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": [
                {
                  "type": "",
                  "target": "6790d08df732495a44f12d29",
                  "id": "678e3aa9ac1e37853de234c5",
                  "data": {
                    "points": [
                      {
                        "point": [
                          3235.67,
                          526.17
                        ]
                      },
                      {
                        "point": [
                          3263.09,
                          526.17
                        ]
                      },
                      {
                        "point": [
                          3263.09,
                          786.01
                        ]
                      },
                      {
                        "point": [
                          3290.51,
                          786.01
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              ]
            }
          },
          "nodeID": "678e3aa9ac1e37853de234c4"
        },
        "678e76230b66797d5d9c57e9": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6hzleih02fd2e777tgwcmlx",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "{\n  \"Product Type\": \"undefined\",\n  \"Level\": \"undefined\",\n  \"Material\": \"undefined\",\n  \"Size\": \"undefined\"\n}"
                    ]
                  }
                ],
                "variableID": "67361ceb863bc8c813de339a"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678e76230b66797d5d9c57eb"
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "parallelExecution": true
          },
          "nodeID": "678e76230b66797d5d9c57e9"
        },
        "678e76230b66797d5d9c57ea": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "678e76230b66797d5d9c57e9",
              "678e76430b66797d5d9c57f1"
            ]
          },
          "nodeID": "678e76230b66797d5d9c57ea",
          "coords": [
            0,
            0
          ]
        },
        "678e76430b66797d5d9c57f1": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6736192c3b721d7c9dff87f4",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678e76430b66797d5d9c57f1"
        },
        "678e80df5643f91de01690b7": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm65ajrke00ez2e770h4hgbwt",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "false"
                    ]
                  }
                ],
                "variableID": "678e763bc281e62ca5f4085c"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6789591eb3c7ea6015711698",
                  "id": "678e80df5643f91de01690b9",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1157.58,
                          331.49
                        ]
                      },
                      {
                        "point": [
                          1181.58,
                          331.49
                        ]
                      },
                      {
                        "point": [
                          1181.58,
                          206.7
                        ]
                      },
                      {
                        "point": [
                          1102.05,
                          206.7
                        ]
                      },
                      {
                        "point": [
                          1102.05,
                          81.9
                        ]
                      },
                      {
                        "point": [
                          1126.05,
                          81.9
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678e80df5643f91de01690b7"
        },
        "678e80df5643f91de01690b8": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "678e80df5643f91de01690b7"
            ]
          },
          "nodeID": "678e80df5643f91de01690b8",
          "coords": [
            0,
            0
          ]
        },
        "678fcc6e7b80056a8e2e9e5c": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": false,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm66ue0bi004l2e772att0k5v",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "PurchaseIntent"
                            ]
                          }
                        ],
                        "key": "cm66ue0bi004m2e776dsjhoor",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm66ue7sn00512e77r1mq0kkm",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "ProductInquiry"
                            ]
                          }
                        ],
                        "key": "cm66ue7sn00522e77en3lv78m",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ],
              "promptID": "678fcc7b1b4b9e65883ccd83"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678fcc6e7b80056a8e2e9e5d"
                },
                "cm66ue0bi004l2e772att0k5v": {
                  "id": "678fef3f9549449cce282487",
                  "target": "6736192c3b721d7c9dff87f4",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -523.63,
                          239.2
                        ]
                      },
                      {
                        "point": [
                          -423.38,
                          239.2
                        ]
                      },
                      {
                        "point": [
                          -423.38,
                          181.22
                        ]
                      },
                      {
                        "point": [
                          -323.13,
                          181.22
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm66ue7sn00512e77r1mq0kkm": {
                  "id": "678fef489549449cce28248a",
                  "target": "678ff1649549449cce28268e",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678fcc6e7b80056a8e2e9e5c"
        },
        "678fcc6e7b80056a8e2e9e5f": {
          "type": "block",
          "data": {
            "name": "New Block 25",
            "steps": [
              "678fcc6e7b80056a8e2e9e5c"
            ]
          },
          "nodeID": "678fcc6e7b80056a8e2e9e5f",
          "coords": [
            -690.295335992935,
            160.62064328129543
          ]
        },
        "678ff1649549449cce28268d": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "678bcc62bfbbd62d56cdd41f",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678ff1649549449cce28268d"
        },
        "678ff1649549449cce28268e": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "678ff1649549449cce28268d"
            ]
          },
          "nodeID": "678ff1649549449cce28268e",
          "coords": [
            0,
            0
          ]
        },
        "678ff23c9549449cce282696": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm6178zuc074v2e77y0rqwget",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "false"
                            ]
                          }
                        ],
                        "key": "cm6178zuc074w2e77ue0ikhxk",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ],
              "promptID": "678ab9e27e62048b1f8d22f4"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678ff23c9549449cce282697"
                },
                "else": {
                  "type": "else",
                  "target": "679a376f44778a562339d06c",
                  "id": "678ff23c9549449cce282698",
                  "data": {}
                },
                "cm610jxbm02mj2e779z286bwi": {
                  "type": "",
                  "target": null,
                  "id": "678ff23c9549449cce282699",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1436.1295130996725,
                          1371.3813792319193
                        ]
                      },
                      {
                        "point": [
                          1461.8795130996725,
                          1371.3813792319193
                        ]
                      },
                      {
                        "point": [
                          1461.8795130996725,
                          1020.9413792319192
                        ]
                      },
                      {
                        "point": [
                          1437.8795130996725,
                          1020.9413792319192
                        ],
                        "reversed": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6178zuc074v2e77y0rqwget": {
                  "type": "",
                  "target": "67371987f1df6c55d152496b",
                  "id": "678ff23c9549449cce28269a",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1369.0935364015324,
                          623.9970024908777
                        ]
                      },
                      {
                        "point": [
                          1484.68,
                          623.9970024908777
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          1484.68,
                          175.75019954828517
                        ],
                        "locked": true
                      },
                      {
                        "point": [
                          1602.7496696960059,
                          175.75019954828517
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678ff23c9549449cce282696"
        },
        "678ff23c9549449cce28269c": {
          "type": "block",
          "data": {
            "name": "Contains undefined? 2",
            "color": "#899ace",
            "steps": [
              "678ff23c9549449cce282696"
            ]
          },
          "nodeID": "678ff23c9549449cce28269c",
          "coords": [
            1202.4271341920705,
            545.4134011381748
          ]
        },
        "678ff2c89549449cce2826ab": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": false,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm66v1nxj00r42e77fdw2xnyu",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "FollowUpAnswer"
                            ]
                          }
                        ],
                        "key": "cm66v1nxj00r52e771kn85qrl",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm66v1v8k00rk2e77hiqj04mg",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "MoreInfoRequest"
                            ]
                          }
                        ],
                        "key": "cm66v1v8k00rl2e77tq5oqoto",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ],
              "promptID": "678ff2d89e8143757b840aee"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "678ff2c89549449cce2826ac"
                },
                "cm66v1nxj00r42e77fdw2xnyu": {
                  "id": "678ff38e9549449cce2826b4",
                  "target": "6736192c3b721d7c9dff87f4",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -317.86,
                          493.78
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          -347.13,
                          493.78
                        ]
                      },
                      {
                        "point": [
                          -347.13,
                          181.22
                        ]
                      },
                      {
                        "point": [
                          -323.13,
                          181.22
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm66v1v8k00rk2e77hiqj04mg": {
                  "id": "678ff3989549449cce2826b7",
                  "target": "678ff3b39549449cce2826bb",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678ff2c89549449cce2826ab"
        },
        "678ff2c89549449cce2826ae": {
          "type": "block",
          "data": {
            "name": "New Block 27",
            "steps": [
              "678ff2c89549449cce2826ab"
            ]
          },
          "nodeID": "678ff2c89549449cce2826ae",
          "coords": [
            -151.19653139899228,
            415.19188008171125
          ]
        },
        "678ff3b39549449cce2826ba": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "678bcc62bfbbd62d56cdd41f",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678ff3b39549449cce2826ba"
        },
        "678ff3b39549449cce2826bb": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "678ff3b39549449cce2826ba"
            ]
          },
          "nodeID": "678ff3b39549449cce2826bb",
          "coords": [
            0,
            0
          ]
        },
        "6790a4c3f732495a44f11c53": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": false,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm67pssz201ib2e77hmq02u6m",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "6790bd3ea3a14c8742fb8030"
                        },
                        "rhs": [
                          {
                            "text": [
                              "true"
                            ]
                          }
                        ],
                        "key": "cm67pssz201ic2e774reeeb3d",
                        "operation": "contains"
                      }
                    ]
                  }
                },
                {
                  "id": "cm67pt1r101ir2e775wmklgqr",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "6790bd3ea3a14c8742fb8030"
                        },
                        "rhs": [
                          {
                            "text": [
                              "false"
                            ]
                          }
                        ],
                        "key": "cm67pt1r101is2e779utz56pp",
                        "operation": "contains"
                      }
                    ]
                  }
                }
              ],
              "promptID": "6790a4cc2bfbef61764e2da3"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6790a4c3f732495a44f11c54"
                },
                "cm67m4hp100qk2e77sfg4mu9k": {
                  "id": "6790a538f732495a44f11c5c",
                  "target": null,
                  "type": ""
                },
                "cm67m4oxs00r32e77kf1tm46u": {
                  "id": "6790a541f732495a44f11c5f",
                  "target": "678bce8bbfbbd62d56cdd4ec",
                  "type": "",
                  "data": {}
                },
                "cm67pssz201ib2e77hmq02u6m": {
                  "id": "6790bd55f732495a44f11c66",
                  "target": "6790be10f732495a44f11c6c",
                  "type": "",
                  "data": {}
                },
                "cm67pt1r101ir2e775wmklgqr": {
                  "id": "6790bd61f732495a44f11c68",
                  "target": "678bce8bbfbbd62d56cdd4ec",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2789.48,
                          1726.47
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          2752.66,
                          1726.47
                        ]
                      },
                      {
                        "point": [
                          2752.66,
                          1682.02
                        ]
                      },
                      {
                        "point": [
                          2715.84,
                          1682.02
                        ],
                        "reversed": true,
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790a4c3f732495a44f11c53"
        },
        "6790a4c3f732495a44f11c56": {
          "type": "block",
          "data": {
            "name": "Analyze Product Titles",
            "steps": [
              "6790bd25f732495a44f11c62",
              "6790a4c3f732495a44f11c53"
            ],
            "color": "#b2976c"
          },
          "nodeID": "6790a4c3f732495a44f11c56",
          "coords": [
            2956.1459151106756,
            1477.1394319543037
          ]
        },
        "6790bd25f732495a44f11c62": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm67pru3601h22e778kupo5k9",
                "type": "prompt",
                "label": null,
                "value": "6790a4cc2bfbef61764e2da3",
                "variableID": "6790bd3ea3a14c8742fb8030"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6790bd25f732495a44f11c63"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790bd25f732495a44f11c62"
        },
        "6790be10f732495a44f11c6b": {
          "type": "code",
          "data": {
            "name": "",
            "code": "try {\n    // Check if analyzedProductTitles contains the expected format\n    if (analyzedProductTitles.includes(\" | \")) {\n        // Split the string to remove the boolean part\n        let parts = analyzedProductTitles.split(\" | \");\n        \n        // Extract the product titles part and trim any spaces\n        let productTitles = parts.length > 1 ? parts[1].trim() : \"\";\n\n        // Assign the formatted product titles to filteredProducts\n        filteredProducts = productTitles;\n    } else {\n        // If the format is incorrect, assign an empty string\n        filteredProducts = \"\";\n    }\n} catch (error) {\n    // Handle potential errors\n    filteredProducts = \"\";\n    console.error(\"Error processing analyzedProductTitles:\", error);\n}",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6790be10f732495a44f11c6d"
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6790be10f732495a44f11c6e"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6790be10f732495a44f11c6b"
        },
        "6790be10f732495a44f11c6c": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6790be10f732495a44f11c6b",
              "6790be30f732495a44f11c74"
            ]
          },
          "nodeID": "6790be10f732495a44f11c6c",
          "coords": [
            0,
            0
          ]
        },
        "6790be30f732495a44f11c74": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67371987f1df6c55d152496b",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790be30f732495a44f11c74"
        },
        "6790cbb8f732495a44f1299a": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6790cbc62bfbef61764e302c",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6793bbfa39a5434e8b4a6fd2",
                  "id": "6790cbb8f732495a44f1299b",
                  "data": {
                    "color": "#b2976c",
                    "points": [
                      {
                        "point": [
                          2770.73,
                          584.71
                        ]
                      },
                      {
                        "point": [
                          2876.64,
                          584.71
                        ]
                      },
                      {
                        "point": [
                          2876.64,
                          870.95
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790cbb8f732495a44f1299a"
        },
        "6790cbb8f732495a44f1299c": {
          "type": "block",
          "data": {
            "name": "No match response",
            "steps": [
              "6790cbb8f732495a44f1299a"
            ],
            "color": "#b2976c"
          },
          "nodeID": "6790cbb8f732495a44f1299c",
          "coords": [
            2604.0667429730706,
            498.7061909622662
          ]
        },
        "6790cd21f732495a44f12b4b": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cc92f732495a44f12a24",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790cd21f732495a44f12b4b"
        },
        "6790cd21f732495a44f12b4c": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6790cd21f732495a44f12b4b"
            ]
          },
          "nodeID": "6790cd21f732495a44f12b4c",
          "coords": [
            0,
            0
          ]
        },
        "6790d04af732495a44f12d12": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790d04af732495a44f12d12"
        },
        "6790d04af732495a44f12d13": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6790d04af732495a44f12d12"
            ]
          },
          "nodeID": "6790d04af732495a44f12d13",
          "coords": [
            0,
            0
          ]
        },
        "6790d054f732495a44f12d18": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790d054f732495a44f12d18"
        },
        "6790d054f732495a44f12d19": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6790d054f732495a44f12d18"
            ]
          },
          "nodeID": "6790d054f732495a44f12d19",
          "coords": [
            0,
            0
          ]
        },
        "6790d05ef732495a44f12d1e": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6790cfeef732495a44f12bf4",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790d05ef732495a44f12d1e"
        },
        "6790d05ef732495a44f12d1f": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6790d05ef732495a44f12d1e"
            ]
          },
          "nodeID": "6790d05ef732495a44f12d1f",
          "coords": [
            0,
            0
          ]
        },
        "6790d08df732495a44f12d25": {
          "type": "code",
          "data": {
            "name": "",
            "code": "selectedProductQuantity = last_event.payload.quantity\nselectedVariantID = last_event.payload.selectedVariantID\nselectedVariantPrices = last_event.payload.selectedVariantPrice\nselectedVariantTitles = last_event.payload.selectedVariantTitle",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "6790d256f732495a44f12d38",
                  "id": "6790d08df732495a44f12d27",
                  "data": {
                    "points": [
                      {
                        "point": [
                          3622.17,
                          892.09
                        ]
                      },
                      {
                        "point": [
                          3680.08,
                          892.09
                        ]
                      },
                      {
                        "point": [
                          3680.08,
                          789.8
                        ]
                      },
                      {
                        "point": [
                          3737.98,
                          789.8
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6790d08df732495a44f12d26"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6790d08df732495a44f12d25"
        },
        "6790d08df732495a44f12d29": {
          "type": "block",
          "data": {
            "name": "Get Form Data ",
            "color": "#5b9fd7",
            "steps": [
              "6790d08df732495a44f12d25"
            ]
          },
          "nodeID": "6790d08df732495a44f12d29",
          "coords": [
            3455.5070566609365,
            759.007309753011
          ]
        },
        "6790d256f732495a44f12d34": {
          "type": "code",
          "data": {
            "name": "",
            "code": "function addToOrderList(orderProductList, selectedProductTitle, selectedVariantPrices, selectedVariantID, selectedVariantTitles, selectedProductQuantity) {\n    // Check if orderProductList is already an array; if not, initialize it as an empty array\n    if (!Array.isArray(orderProductList)) {\n        orderProductList = [];\n    }\n\n    // Create a new order object with the provided values\n    const newOrder = {\n        productTitle: selectedProductTitle,\n        productPrice: selectedVariantPrices,\n        variantID: selectedVariantID,\n        variantTitle: selectedVariantTitles,\n        quantity: selectedProductQuantity\n    };\n\n    // Add the new order object to the orderProductList\n    orderProductList.push(newOrder);\n\n    // Return the updated orderProductList\n    return orderProductList;\n}\n\n// Call the function with the `selected` variables\norderProductList = addToOrderList(\n    orderProductList,\n    selectedProductTitle,\n    selectedVariantPrices,\n    selectedVariantID,\n    selectedVariantTitles,\n    selectedProductQuantity\n);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "67939fa8f9ab19302f95e5d0",
                  "id": "6790d256f732495a44f12d36",
                  "data": {
                    "points": [
                      {
                        "point": [
                          4069.65,
                          895.88
                        ]
                      },
                      {
                        "point": [
                          4143.07,
                          895.88
                        ]
                      },
                      {
                        "point": [
                          4143.07,
                          264
                        ]
                      },
                      {
                        "point": [
                          4216.5,
                          264
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6790d256f732495a44f12d35"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6790d256f732495a44f12d34"
        },
        "6790d256f732495a44f12d38": {
          "type": "block",
          "data": {
            "name": "Create orderProductList with variant",
            "color": "",
            "steps": [
              "6790d256f732495a44f12d34"
            ]
          },
          "nodeID": "6790d256f732495a44f12d38",
          "coords": [
            3902.9795809422417,
            762.7966308865881
          ]
        },
        "679365e1f9ab19302f95d0e6": {
          "type": "component",
          "data": {
            "name": "",
            "diagramID": "679295fe8e3d3b8949dcf4e1",
            "variableMap": null,
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "679365e1f9ab19302f95d0e7",
                  "data": {}
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "679365e1f9ab19302f95d0e6"
        },
        "679365e1f9ab19302f95d0e8": {
          "type": "block",
          "data": {
            "name": "New Block 33",
            "steps": [
              "679365e1f9ab19302f95d0e6"
            ]
          },
          "nodeID": "679365e1f9ab19302f95d0e8",
          "coords": [
            4626.395769860651,
            507.5125959391246
          ]
        },
        "67939fa8f9ab19302f95e5cd": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm6auc44m04ic2e77z3q98txy",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "67939f8b92c4506f0615b722"
                        },
                        "rhs": [
                          {
                            "text": [
                              "true"
                            ]
                          }
                        ],
                        "key": "cm6auc44m04id2e77qfczdptl",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67939fa8f9ab19302f95e5ce"
                },
                "else": {
                  "type": "else",
                  "target": "679365e1f9ab19302f95d0e8",
                  "id": "67939fa8f9ab19302f95e5cf",
                  "data": {
                    "points": [
                      {
                        "point": [
                          4548.17,
                          369.83
                        ]
                      },
                      {
                        "point": [
                          4626.4,
                          369.83
                        ]
                      },
                      {
                        "point": [
                          4626.4,
                          507.51
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6auc44m04ic2e77z3q98txy": {
                  "id": "67939faff9ab19302f95e5d5",
                  "target": "67377c37399970d73c31892a",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          4548.17,
                          315.58
                        ]
                      },
                      {
                        "point": [
                          4720.33,
                          315.58
                        ]
                      },
                      {
                        "point": [
                          4720.33,
                          262.5
                        ]
                      },
                      {
                        "point": [
                          4892.5,
                          262.5
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67939fa8f9ab19302f95e5cd"
        },
        "67939fa8f9ab19302f95e5d0": {
          "type": "block",
          "data": {
            "name": "Upsell True or False",
            "steps": [
              "67939fa8f9ab19302f95e5cd"
            ],
            "color": ""
          },
          "nodeID": "67939fa8f9ab19302f95e5d0",
          "coords": [
            4381.5,
            237
          ]
        },
        "6793a0def9ab19302f95eef5": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm6auiqhg056l2e77on1exy1q",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "0"
                    ]
                  }
                ],
                "variableID": "6737798abdb17488f6f80564"
              },
              {
                "id": "cm6aumfph05ch2e77q8tltuvs",
                "type": "script",
                "label": null,
                "value": [
                  "\"\""
                ],
                "variableID": "6735e330863bc8c813ddfd5e"
              },
              {
                "id": "cm6aumpff05d82e77nsq52bsk",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "{\n  \"Product Type\": \"undefined\",\n  \"Level\": \"undefined\",\n  \"Material\": \"undefined\",\n  \"Size\": \"undefined\"\n}"
                    ]
                  }
                ],
                "variableID": "67361ceb863bc8c813de339a"
              },
              {
                "id": "cm6aumvwj05dt2e77u9uycukr",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "false"
                    ]
                  }
                ],
                "variableID": "67939f8b92c4506f0615b722"
              },
              {
                "id": "cm6ayq6eh00su2e77tj215kyw",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "0"
                    ]
                  }
                ],
                "variableID": "673719f5181991bb60d8d275"
              },
              {
                "id": "cm6ayqd6r00tc2e77x9sac07k",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "0"
                    ]
                  }
                ],
                "variableID": "67929ec26edea88a5de34547"
              },
              {
                "id": "cm6az813x01p12e77pjd7vrqj",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "0"
                    ]
                  }
                ],
                "variableID": "673779d9bdb17488f6f805e6"
              },
              {
                "id": "cm6ce0vhi00u22e77p6jn7f2z",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "0"
                    ]
                  }
                ],
                "variableID": "67365094181991bb60d86ab4"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6793a1b1f9ab19302f95f175",
                  "id": "6793a0def9ab19302f95eef6",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "parallelExecution": true
          },
          "nodeID": "6793a0def9ab19302f95eef5"
        },
        "6793a1b1f9ab19302f95f174": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6736059e3b721d7c9dff878e",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793a1b1f9ab19302f95f174"
        },
        "6793a1b1f9ab19302f95f175": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793a1b1f9ab19302f95f174"
            ]
          },
          "nodeID": "6793a1b1f9ab19302f95f175",
          "coords": [
            0,
            0
          ]
        },
        "6793ab58ee0497142776ff0c": {
          "type": "kb-search",
          "data": {
            "name": "",
            "question": [
              {
                "text": [
                  "",
                  {
                    "variableID": "last_utterance"
                  },
                  " "
                ]
              },
              {
                "text": [
                  {
                    "text": [
                      ""
                    ]
                  }
                ]
              },
              {
                "text": [
                  "The product the customer wants more information of: ",
                  {
                    "variableID": "6737798abdb17488f6f80564"
                  },
                  ""
                ]
              }
            ],
            "maxChunks": 3,
            "variableID": "chunks",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "678bcc62bfbbd62d56cdd41f",
                  "id": "6793ab58ee0497142776ff0d",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2604.45,
                          1380.85
                        ]
                      },
                      {
                        "point": [
                          2689.67,
                          1380.85
                        ]
                      },
                      {
                        "point": [
                          2689.67,
                          1284.84
                        ]
                      },
                      {
                        "point": [
                          2774.88,
                          1284.84
                        ],
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793ab58ee0497142776ff0c"
        },
        "6793bbc939a5434e8b4a6f9f": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": true,
              "repromptID": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm6aymdap00g72e77qg04k791",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "6737798abdb17488f6f80564"
                        },
                        "rhs": [
                          {
                            "text": [
                              "0"
                            ]
                          }
                        ],
                        "key": "cm6aymdap00g82e77b6o1u4fl",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6793bbc939a5434e8b4a6fa0"
                },
                "else": {
                  "type": "else",
                  "target": "6793bbea39a5434e8b4a6fc4",
                  "id": "6793bbc939a5434e8b4a6fa1",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2589.65,
                          1136.57
                        ]
                      },
                      {
                        "point": [
                          2613.65,
                          1136.57
                        ]
                      },
                      {
                        "point": [
                          2613.65,
                          1206.38
                        ]
                      },
                      {
                        "point": [
                          2437.79,
                          1206.38
                        ]
                      },
                      {
                        "point": [
                          2437.79,
                          1276.18
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                },
                "cm6aymdap00g72e77qg04k791": {
                  "id": "6793bbcc39a5434e8b4a6fa7",
                  "target": "6793bbfa39a5434e8b4a6fd2",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          2589.65,
                          1082.32
                        ]
                      },
                      {
                        "point": [
                          2650.65,
                          1082.32
                        ]
                      },
                      {
                        "point": [
                          2650.65,
                          897.95
                        ]
                      },
                      {
                        "point": [
                          2711.64,
                          897.95
                        ],
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793bbc939a5434e8b4a6f9f"
        },
        "6793bbc939a5434e8b4a6fa2": {
          "type": "block",
          "data": {
            "name": "New Block 35",
            "steps": [
              "6793bbc939a5434e8b4a6f9f"
            ],
            "color": "#b2976c"
          },
          "nodeID": "6793bbc939a5434e8b4a6fa2",
          "coords": [
            2422.988379203412,
            1003.7374024410452
          ]
        },
        "6793bbea39a5434e8b4a6fc4": {
          "type": "block",
          "data": {
            "name": "New Block 36",
            "steps": [
              "6793ab58ee0497142776ff0c"
            ],
            "color": "#b2976c"
          },
          "nodeID": "6793bbea39a5434e8b4a6fc4",
          "coords": [
            2437.788042022151,
            1276.1810670169325
          ]
        },
        "6793bbfa39a5434e8b4a6fcf": {
          "type": "kb-search",
          "data": {
            "name": "",
            "question": [
              {
                "text": [
                  "",
                  {
                    "variableID": "last_utterance"
                  },
                  " "
                ]
              },
              {
                "text": [
                  {
                    "text": [
                      ""
                    ]
                  }
                ]
              },
              {
                "text": [
                  "The product(s) the customer wants more information of: ",
                  {
                    "variableID": "673719f5181991bb60d8d275"
                  },
                  " or ",
                  {
                    "variableID": "67929ec26edea88a5de34547"
                  },
                  " "
                ]
              }
            ],
            "maxChunks": 3,
            "variableID": "chunks",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "678bcc62bfbbd62d56cdd41f",
                  "id": "6793bbfa39a5434e8b4a6fd0",
                  "data": {
                    "points": [
                      {
                        "point": [
                          3043.31,
                          975.62
                        ]
                      },
                      {
                        "point": [
                          3067.31,
                          975.62
                        ]
                      },
                      {
                        "point": [
                          3067.31,
                          1116.73
                        ]
                      },
                      {
                        "point": [
                          2939.88,
                          1116.73
                        ]
                      },
                      {
                        "point": [
                          2939.88,
                          1257.84
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ],
                    "color": "#b2976c"
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793bbfa39a5434e8b4a6fcf"
        },
        "6793bbfa39a5434e8b4a6fd2": {
          "type": "block",
          "data": {
            "name": "New Block 36 copy",
            "color": "#b2976c",
            "steps": [
              "6793bbfa39a5434e8b4a6fcf"
            ]
          },
          "nodeID": "6793bbfa39a5434e8b4a6fd2",
          "coords": [
            2876.6396321281586,
            870.9513850381342
          ]
        },
        "6793c38739a5434e8b4a83e2": {
          "type": "component",
          "data": {
            "name": "",
            "diagramID": "6793c36a97b1e544710df105",
            "variableMap": null,
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "678fcc6e7b80056a8e2e9e5f",
                  "id": "6793c38739a5434e8b4a83e3",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -998.19,
                          -137.6
                        ]
                      },
                      {
                        "point": [
                          -926.74,
                          -137.6
                        ]
                      },
                      {
                        "point": [
                          -926.74,
                          187.62
                        ]
                      },
                      {
                        "point": [
                          -855.3,
                          187.62
                        ],
                        "allowedToTop": true
                      }
                    ],
                    "color": "#9c9e6c"
                  }
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6793c38739a5434e8b4a83e2"
        },
        "6793c38739a5434e8b4a83e4": {
          "type": "block",
          "data": {
            "name": "New Block 37",
            "steps": [
              "6793c38739a5434e8b4a83e2"
            ],
            "color": "#9c9e6c"
          },
          "nodeID": "6793c38739a5434e8b4a83e4",
          "coords": [
            -1164.8538944847153,
            -216.18445612108505
          ]
        },
        "679a376f44778a562339d06b": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6736192c3b721d7c9dff87f4",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a376f44778a562339d06b"
        },
        "679a376f44778a562339d06c": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a376f44778a562339d06b"
            ]
          },
          "nodeID": "679a376f44778a562339d06c",
          "coords": [
            0,
            0
          ]
        },
        "679a37b744778a562339d231": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6793c7d439a5434e8b4a91d2",
            "diagramID": "678bdb9f7e62048b1f8d2e17",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a37b744778a562339d231"
        },
        "679a37b744778a562339d232": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a37b744778a562339d231"
            ]
          },
          "nodeID": "679a37b744778a562339d232",
          "coords": [
            0,
            0
          ]
        },
        "679a37bf44778a562339d237": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6794d2a539a5434e8b4a9e1c",
            "diagramID": "6789149f51ad8942933c6bbf",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a37bf44778a562339d237"
        },
        "679a37bf44778a562339d238": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "679a37bf44778a562339d237"
            ]
          },
          "nodeID": "679a37bf44778a562339d238",
          "coords": [
            0,
            0
          ]
        }
      },
      "offsetX": 0,
      "offsetY": 0,
      "modified": 1731598625,
      "creatorID": 893814,
      "variables": [],
      "_id": "689247f952036d1f3e2253e0",
      "diagramID": "673619219713840a5359df12",
      "versionID": "689247ef52036d1f3e225354"
    },
    "64dbb6696a8fab0013dba195": {
      "name": "Template Diagram",
      "type": "TEMPLATE",
      "zoom": 100,
      "nodes": {},
      "offsetX": 0,
      "offsetY": 0,
      "modified": 1701833501,
      "creatorID": 893814,
      "variables": [],
      "menuItems": [],
      "_id": "689247f952036d1f3e2253e1",
      "diagramID": "64dbb6696a8fab0013dba195",
      "versionID": "689247ef52036d1f3e225354"
    },
    "64dbb6696a8fab0013dba194": {
      "name": "ROOT",
      "type": "TOPIC",
      "zoom": 100,
      "nodes": {
        "start00000000000000000000": {
          "type": "start",
          "data": {
            "name": "Start",
            "color": "#56b365",
            "steps": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "679a33bf44778a562339cb72",
                  "id": "6032afcf359e8c14c06c0319",
                  "data": {}
                }
              },
              "dynamic": []
            },
            "label": "Start"
          },
          "nodeID": "start00000000000000000000",
          "coords": [
            -2943.509106021204,
            -2405.8787445320477
          ]
        },
        "6735e21a3b721d7c9dff874e": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm2efvu2z06bs2e78vhi6bo48",
                "type": "script",
                "label": null,
                "value": [
                  "\"\""
                ],
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              {
                "id": "cm2jbxxop03lh2e787d6t53uz",
                "type": "script",
                "label": null,
                "value": [
                  "\"\""
                ],
                "variableID": "6735e330863bc8c813ddfd5e"
              },
              {
                "id": "cm62ayvjl0agg2e77pc6c1qa8",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "0"
                    ]
                  }
                ],
                "variableID": "6736507d181991bb60d86aa8"
              },
              {
                "id": "cm62fdec40c5y2e77ayo4ula0",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "0"
                    ]
                  }
                ],
                "variableID": "6737798abdb17488f6f80564"
              },
              {
                "id": "cm6asq9lh03fr2e77y98ovs0e",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "false"
                    ]
                  }
                ],
                "variableID": "67939f8b92c4506f0615b722"
              },
              {
                "id": "cm6az8bu501qw2e77f96ai96y",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "0"
                    ]
                  }
                ],
                "variableID": "673779d9bdb17488f6f805e6"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6735e3793b721d7c9dff875c",
                  "id": "6735e21a3b721d7c9dff874f",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -273.35,
                          -2126.92
                        ]
                      },
                      {
                        "point": [
                          -211.97,
                          -2126.92
                        ]
                      },
                      {
                        "point": [
                          -211.97,
                          -2378.92
                        ]
                      },
                      {
                        "point": [
                          -150.6,
                          -2378.92
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "parallelExecution": true
          },
          "nodeID": "6735e21a3b721d7c9dff874e"
        },
        "6735e21a3b721d7c9dff8751": {
          "type": "block",
          "data": {
            "name": "Pre-settings",
            "color": "#dc8879",
            "steps": [
              "6735e21a3b721d7c9dff874e",
              "67372d56698af89bf146f4f1"
            ]
          },
          "nodeID": "6735e21a3b721d7c9dff8751",
          "coords": [
            -2116.760824176147,
            -2406.88160438421
          ]
        },
        "6735e3793b721d7c9dff8759": {
          "type": "code",
          "data": {
            "name": "",
            "code": "if (last_event && last_event.payload && last_event.payload.browserLanguage) {\n  agentLanguage = last_event.payload.browserLanguage;\n} else {\n  agentLanguage = 'nl-NL'; // Set Default Language\n}",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "6735e4343b721d7c9dff8765",
                  "id": "6735e3793b721d7c9dff875a",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1485.7,
                          -2270.38
                        ]
                      },
                      {
                        "point": [
                          -1425.46,
                          -2270.38
                        ]
                      },
                      {
                        "point": [
                          -1425.46,
                          -2326.69
                        ]
                      },
                      {
                        "point": [
                          -1365.22,
                          -2326.69
                        ],
                        "allowedToTop": false
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6735e3793b721d7c9dff875b"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6735e3793b721d7c9dff8759"
        },
        "6735e3793b721d7c9dff875c": {
          "type": "block",
          "data": {
            "name": "Get Browser Language",
            "steps": [
              "6735e3793b721d7c9dff8759"
            ],
            "color": "#dc8879"
          },
          "nodeID": "6735e3793b721d7c9dff875c",
          "coords": [
            -1651.7027703223912,
            -2404.1488107914756
          ]
        },
        "6735e4343b721d7c9dff8765": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": false,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "logic",
              "items": [
                {
                  "id": "cm3h91sdn00ro357jb7bnvirw",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "sessions"
                        },
                        "rhs": [
                          {
                            "text": [
                              "1"
                            ]
                          }
                        ],
                        "key": "cm3h91sdn00rp357jk16sdiuu",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm3h92drm00s8357jryc7jtli",
                  "value": {
                    "type": "value-variable",
                    "matchAll": true,
                    "assertions": [
                      {
                        "lhs": {
                          "variableID": "sessions"
                        },
                        "rhs": [
                          {
                            "text": [
                              "2"
                            ]
                          }
                        ],
                        "key": "cm3h91sdn00rp357jk16sdiuu",
                        "operation": "greater_or_equal"
                      }
                    ]
                  }
                }
              ]
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6735e4343b721d7c9dff8766"
                },
                "cm3h91sdn00ro357jb7bnvirw": {
                  "id": "6735e43a3b721d7c9dff876e",
                  "target": "6735e8aa3b721d7c9dff8777",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1033.2,
                          -2326.45
                        ]
                      },
                      {
                        "point": [
                          -978.08,
                          -2326.45
                        ]
                      },
                      {
                        "point": [
                          -978.08,
                          -2494.63
                        ]
                      },
                      {
                        "point": [
                          -922.96,
                          -2494.63
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm3h92drm00s8357jryc7jtli": {
                  "id": "6735e4553b721d7c9dff8771",
                  "target": "6735ef783b721d7c9dff877e",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1033.2,
                          -2272.21
                        ]
                      },
                      {
                        "point": [
                          -976.07,
                          -2272.21
                        ]
                      },
                      {
                        "point": [
                          -976.07,
                          -2151.72
                        ]
                      },
                      {
                        "point": [
                          -918.94,
                          -2151.72
                        ],
                        "allowedToTop": false
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6735e4343b721d7c9dff8765"
        },
        "6735e4343b721d7c9dff8768": {
          "type": "block",
          "data": {
            "name": "New Block 3",
            "steps": [
              "6735e4343b721d7c9dff8765"
            ]
          },
          "nodeID": "6735e4343b721d7c9dff8768",
          "coords": [
            -1199.2027703223916,
            -2405.711310791476
          ]
        },
        "6735e8aa3b721d7c9dff8775": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6736059e3b721d7c9dff878e",
                  "id": "6735e8aa3b721d7c9dff8776",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -591.97,
                          -2442.41
                        ]
                      },
                      {
                        "point": [
                          -503.32,
                          -2442.41
                        ]
                      },
                      {
                        "point": [
                          -503.32,
                          -2358.13
                        ]
                      },
                      {
                        "point": [
                          -414.66,
                          -2358.13
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "First Greeting Reponse",
            "promptID": "6735e8b09713840a5359dbce"
          },
          "nodeID": "6735e8aa3b721d7c9dff8775"
        },
        "6735e8aa3b721d7c9dff8777": {
          "type": "block",
          "data": {
            "name": "New Block 4",
            "steps": [
              "6735e8aa3b721d7c9dff8775"
            ]
          },
          "nodeID": "6735e8aa3b721d7c9dff8777",
          "coords": [
            -757.9527703223931,
            -2521.648810791476
          ]
        },
        "6735ef783b721d7c9dff877e": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6736059e3b721d7c9dff878e",
                  "id": "6735ef783b721d7c9dff877f",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -586.96,
                          -2151.48
                        ]
                      },
                      {
                        "point": [
                          -500.81,
                          -2151.48
                        ]
                      },
                      {
                        "point": [
                          -500.81,
                          -2358.13
                        ]
                      },
                      {
                        "point": [
                          -414.66,
                          -2358.13
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Second Greeting Response",
            "promptID": "6735ef839713840a5359dc59"
          },
          "nodeID": "6735ef783b721d7c9dff877e"
        },
        "6735ef783b721d7c9dff8780": {
          "type": "block",
          "data": {
            "name": "New Block 5",
            "steps": [
              "6735ef783b721d7c9dff877e"
            ]
          },
          "nodeID": "6735ef783b721d7c9dff8780",
          "coords": [
            -752.9527703223929,
            -2230.7113107914756
          ]
        },
        "6736059b3b721d7c9dff8788": {
          "type": "capture-v3",
          "data": {
            "name": "Capture",
            "capture": {
              "type": "user-reply",
              "variableID": "last_utterance"
            },
            "listenForOtherTriggers": false,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6736418704a65d9a776d8e7c",
                  "id": "6736059b3b721d7c9dff8789",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6736059b3b721d7c9dff8788",
          "coords": [
            0,
            0
          ]
        },
        "6736059e3b721d7c9dff878e": {
          "type": "block",
          "data": {
            "name": "Capture response",
            "steps": [
              "6736059b3b721d7c9dff8788"
            ],
            "color": "#c385ce"
          },
          "nodeID": "6736059e3b721d7c9dff878e",
          "coords": [
            -249.673549543172,
            -2385.1236837446095
          ]
        },
        "6736072a3b721d7c9dff87d5": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3hg2gjf02pw357jf78fnpv9",
                "type": "prompt",
                "label": null,
                "value": "672ae961671f984162a8aa46",
                "variableID": "6735e92f863bc8c813de00ce"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6736072a3b721d7c9dff87d6"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6736072a3b721d7c9dff87d5"
        },
        "6736072a3b721d7c9dff87d7": {
          "type": "block",
          "data": {
            "name": "Main Filter",
            "steps": [
              "6736072a3b721d7c9dff87d5",
              "67372d79698af89bf146f4f8",
              "6738a7bd399970d73c319585",
              "677fe19173dbfd9090fc1e4a"
            ],
            "color": "#5b9fd7"
          },
          "nodeID": "6736072a3b721d7c9dff87d7",
          "coords": [
            276.12588127360397,
            -2461.623683744609
          ]
        },
        "6736418704a65d9a776d8e7b": {
          "type": "code",
          "data": {
            "name": "",
            "code": "// Function to clean up any potential unwanted characters from the string\nfunction cleanString(input) {\n    return input.replace(/\\s+/g, ' ').trim();\n}\n\n// Function to add assistant responses to memory with loopCounter as a prefix\nfunction addAssistantResponseToMemory(last_utterance, responseMemory, separator = ' | ') {\n    const cleanedAdvice = cleanString(last_utterance); // Clean the assistant's response\n    const prefixedAdvice = `user: ${cleanedAdvice}`;\n\n    // Check if memory already contains data\n    if (responseMemory && responseMemory.trim()) {\n        // Append the assistant response with the separator\n        responseMemory += separator + prefixedAdvice;\n    } else {\n        // If memory is empty, just set it to the prefixed assistant response\n        responseMemory = prefixedAdvice;\n    }\n\n    return responseMemory;\n}\n\n// Example usage at a different stage in your flow\nresponseMemory = addAssistantResponseToMemory(last_utterance, responseMemory);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "6736072a3b721d7c9dff87d7",
                  "id": "6736418704a65d9a776d8e7d",
                  "data": {
                    "points": [
                      {
                        "point": [
                          53.47,
                          -2297.11
                        ]
                      },
                      {
                        "point": [
                          82.3,
                          -2297.11
                        ]
                      },
                      {
                        "point": [
                          82.3,
                          -2434.6
                        ]
                      },
                      {
                        "point": [
                          111.13,
                          -2434.6
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6736418704a65d9a776d8e7e"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6736418704a65d9a776d8e7b"
        },
        "6736418704a65d9a776d8e7c": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6736418704a65d9a776d8e7b"
            ]
          },
          "nodeID": "6736418704a65d9a776d8e7c",
          "coords": [
            0,
            0
          ]
        },
        "67372d56698af89bf146f4f1": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3in7nrv00qw2e78gh888jod",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Order Now"
                    ]
                  }
                ],
                "variableID": "673784c1bdb17488f6f81033"
              },
              {
                "id": "cm3k8ozbw07j82e78c097fq63",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Checkout"
                    ]
                  }
                ],
                "variableID": "67372d22dd4bf1d669dc1da0"
              },
              {
                "id": "cm626x7y7096x2e77ab98lgco",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "More Information"
                    ]
                  }
                ],
                "variableID": "678ba47022fbcb6ac61273fd"
              },
              {
                "id": "cm6andlp502ji2e774pqhpj8b",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Not Interested"
                    ]
                  }
                ],
                "variableID": "6793721292c4506f06159eff"
              },
              {
                "id": "cm6b4rcng04y22e77i5p6xlq7",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Shipping Information"
                    ]
                  }
                ],
                "variableID": "6793e42692c4506f0615f332"
              },
              {
                "id": "cm6evg37t00un2e77rmfixioy",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Create Return"
                    ]
                  }
                ],
                "variableID": "679757b7639c4e49bca25e07"
              },
              {
                "id": "cm6ewtz6e09xx2e77q826pdh7",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Quantity"
                    ]
                  }
                ],
                "variableID": "679760e7639c4e49bca2658b"
              },
              {
                "id": "cm6ewugw009yo2e77id1g4lfy",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Return Reason"
                    ]
                  }
                ],
                "variableID": "679760f9639c4e49bca26593"
              },
              {
                "id": "cm6ewuuga09ze2e775d1lu156",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Submit"
                    ]
                  }
                ],
                "variableID": "67976108639c4e49bca26597"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6735e3793b721d7c9dff875c",
                  "id": "67372d56698af89bf146f4f2",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "parallelExecution": true
          },
          "nodeID": "67372d56698af89bf146f4f1"
        },
        "67372d79698af89bf146f4f8": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm3in92kv00sa2e78v59cevax",
                "type": "prompt",
                "label": null,
                "value": "67372db525b7c5b1c24124e9",
                "variableID": "6738a6d7bdb17488f6f8af70"
              }
            ],
            "label": "",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "67372d79698af89bf146f4f9"
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67372d79698af89bf146f4f8"
        },
        "6737aa17399970d73c3192fc": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6737aa4b399970d73c319306",
                  "id": "6737aa17399970d73c3192fd",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Generate Goodby Response",
            "promptID": "6737aa1b1f372df618ba6cef"
          },
          "nodeID": "6737aa17399970d73c3192fc"
        },
        "6737aa17399970d73c3192fe": {
          "type": "block",
          "data": {
            "name": "New Block 8",
            "steps": [
              "6737aa17399970d73c3192fc"
            ]
          },
          "nodeID": "6737aa17399970d73c3192fe",
          "coords": [
            272.37588127360397,
            -1725.6861837446186
          ]
        },
        "6737aa4b399970d73c319305": {
          "type": "exit",
          "data": {
            "name": "",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6737aa4b399970d73c319305"
        },
        "6737aa4b399970d73c319306": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6737aa4b399970d73c319305"
            ]
          },
          "nodeID": "6737aa4b399970d73c319306",
          "coords": [
            0,
            0
          ]
        },
        "6737ad83399970d73c31931c": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6738a5b6399970d73c3194bb",
                  "id": "6737ad83399970d73c31931d",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Generate General Response",
            "promptID": "6737ad851f372df618ba6d01"
          },
          "nodeID": "6737ad83399970d73c31931c",
          "coords": [
            0,
            0
          ]
        },
        "6737ad83399970d73c31931e": {
          "type": "block",
          "data": {
            "name": "New Block 9",
            "steps": [
              "6737ad83399970d73c31931c"
            ]
          },
          "nodeID": "6737ad83399970d73c31931e",
          "coords": [
            898.6258812736017,
            -2041.9361837446118
          ]
        },
        "6738a40f399970d73c31932b": {
          "type": "response-prompt",
          "data": {
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6738a5cb399970d73c3194c6",
                  "id": "6738a40f399970d73c31932c",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "name": "Generate Else Response",
            "promptID": "6738a4161f372df618ba72b1"
          },
          "nodeID": "6738a40f399970d73c31932b"
        },
        "6738a40f399970d73c31932d": {
          "type": "block",
          "data": {
            "name": "New Block 10",
            "steps": [
              "6738a40f399970d73c31932b"
            ]
          },
          "nodeID": "6738a40f399970d73c31932d",
          "coords": [
            903.6258812736014,
            -1869.1236837446186
          ]
        },
        "6738a5b6399970d73c3194ba": {
          "type": "code",
          "data": {
            "name": "",
            "code": "// Function to clean up any potential unwanted characters from the string\nfunction cleanString(input) {\n    return input.replace(/\\s+/g, ' ').trim();\n}\n\n// Function to add assistant responses to memory with loopCounter as a prefix\nfunction addAssistantResponseToMemory(last_response, responseMemory, separator = ' | ') {\n    const cleanedAdvice = cleanString(last_response); // Clean the assistant's response\n    const prefixedAdvice = `assistant: ${cleanedAdvice}`;\n\n    // Check if memory already contains data\n    if (responseMemory && responseMemory.trim()) {\n        // Append the assistant response with the separator\n        responseMemory += separator + prefixedAdvice;\n    } else {\n        // If memory is empty, just set it to the prefixed assistant response\n        responseMemory = prefixedAdvice;\n    }\n\n    return responseMemory;\n}\n\n// Example usage at a different stage in your flow\nresponseMemory = addAssistantResponseToMemory(last_response, responseMemory);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6738a5b6399970d73c3194bc"
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6738a5b6399970d73c3194bd"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6738a5b6399970d73c3194ba"
        },
        "6738a5b6399970d73c3194bb": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6738a5b6399970d73c3194ba",
              "6738a5be399970d73c3194c3"
            ]
          },
          "nodeID": "6738a5b6399970d73c3194bb",
          "coords": [
            0,
            0
          ]
        },
        "6738a5be399970d73c3194c3": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6736059e3b721d7c9dff878e",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6738a5be399970d73c3194c3"
        },
        "6738a5cb399970d73c3194c5": {
          "type": "code",
          "data": {
            "name": "",
            "code": "// Function to clean up any potential unwanted characters from the string\nfunction cleanString(input) {\n    return input.replace(/\\s+/g, ' ').trim();\n}\n\n// Function to add assistant responses to memory with loopCounter as a prefix\nfunction addAssistantResponseToMemory(last_response, responseMemory, separator = ' | ') {\n    const cleanedAdvice = cleanString(last_response); // Clean the assistant's response\n    const prefixedAdvice = `assistant: ${cleanedAdvice}`;\n\n    // Check if memory already contains data\n    if (responseMemory && responseMemory.trim()) {\n        // Append the assistant response with the separator\n        responseMemory += separator + prefixedAdvice;\n    } else {\n        // If memory is empty, just set it to the prefixed assistant response\n        responseMemory = prefixedAdvice;\n    }\n\n    return responseMemory;\n}\n\n// Example usage at a different stage in your flow\nresponseMemory = addAssistantResponseToMemory(last_response, responseMemory);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6738a5cb399970d73c3194c7"
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6738a5cb399970d73c3194c8"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6738a5cb399970d73c3194c5"
        },
        "6738a5cb399970d73c3194c6": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6738a5cb399970d73c3194c5",
              "6738a5d1399970d73c3194ce"
            ]
          },
          "nodeID": "6738a5cb399970d73c3194c6",
          "coords": [
            0,
            0
          ]
        },
        "6738a5d1399970d73c3194ce": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6736059e3b721d7c9dff878e",
            "diagramID": "64dbb6696a8fab0013dba194",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6738a5d1399970d73c3194ce"
        },
        "6738a7bd399970d73c319585": {
          "type": "code",
          "data": {
            "name": "",
            "code": "// Function to split translatedButtons and assign values to variables\nfunction splitTranslatedButtons(buttonString, variableNames) {\n  const buttonValues = buttonString.split(','); // Split the string by commas\n\n  // Assign each value to the corresponding variable name\n  variableNames.forEach(function(variableName, index) {\n    globalThis[variableName] = buttonValues[index]?.trim() || \"\"; // Assign value or default to empty string\n  });\n}\n\n// Check if translatedButtons is defined and assign a default value if not\nif (typeof translatedButtons === \"undefined\") {\n  translatedButtons = \"\"; // Default to an empty string if undefined\n}\n\n// List of button variables\nbuttonVariables = [\"bt_checkout\", \"bt_orderNow\", \"bt_moreInfo\", \"bt_notInterested\", \"bt_shippingInformation\", \"bt_createReturn\", \"lb_quantity\", \"lb_reason\", \"bt_submit\"];\n\n// Call the function to split and assign values\nsplitTranslatedButtons(translatedButtons, buttonVariables);",
            "paths": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6738a7bd399970d73c319586"
                },
                "fail": {
                  "type": "fail",
                  "target": null,
                  "id": "6738a7bd399970d73c319587"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6738a7bd399970d73c319585"
        },
        "677fe19173dbfd9090fc1e4a": {
          "type": "condition-v3",
          "data": {
            "name": "",
            "noMatch": {
              "path": false,
              "repromptID": null,
              "pathLabel": null
            },
            "condition": {
              "type": "prompt",
              "items": [
                {
                  "id": "cm5pg0kmz00vm357i6063pasn",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "Product Recommendation"
                            ]
                          }
                        ],
                        "key": "cm5pg0kmz00vn357ipm797bc7",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm5pgphy0005a357iqzc8ti4t",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "Customer Support"
                            ]
                          }
                        ],
                        "key": "cm5pgphy0005b357iwrnsr8kb",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm5pgpn5e005z357it9ozo1il",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "General"
                            ]
                          }
                        ],
                        "key": "cm5pgpn5e0060357iatv4lawx",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm6b5whwr05ut2e77qgccmy9k",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "Order Return"
                            ]
                          }
                        ],
                        "key": "cm6b5whwr05uu2e77ql3600x2",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm6b5wn8z05v42e77g110nd2x",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "Order Tracking"
                            ]
                          }
                        ],
                        "key": "cm6b5wn8z05v52e77naka3o2p",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm5pgpqj1006f357iedl9pngg",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "False"
                            ]
                          }
                        ],
                        "key": "cm5pgpqj1006g357ivoclzle7",
                        "operation": "is"
                      }
                    ]
                  }
                },
                {
                  "id": "cm5pgpt6d006s357i6ii7ek4y",
                  "value": {
                    "type": "prompt",
                    "matchAll": true,
                    "assertions": [
                      {
                        "rhs": [
                          {
                            "text": [
                              "Goodbye"
                            ]
                          }
                        ],
                        "key": "cm5pgpt6d006t357i2vz7eiw9",
                        "operation": "is"
                      }
                    ]
                  }
                }
              ],
              "promptID": "673607659713840a5359ddc4"
            },
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "677fe19173dbfd9090fc1e4b"
                },
                "cm5pg0kmz00vm357i6063pasn": {
                  "id": "677fe19c73dbfd9090fc1e52",
                  "target": "678aacd3bfbbd62d56cdbb6c",
                  "type": "",
                  "data": {}
                },
                "cm5pgphy0005a357iqzc8ti4t": {
                  "id": "677fe6278023a1662ac384c6",
                  "target": "677fe7868023a1662ac3869a",
                  "type": "",
                  "data": {}
                },
                "cm5pgpn5e005z357it9ozo1il": {
                  "id": "677fe62e8023a1662ac384c8",
                  "target": "6737ad83399970d73c31931e",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          442.12,
                          -2028.14
                        ]
                      },
                      {
                        "point": [
                          587.88,
                          -2028.14
                        ]
                      },
                      {
                        "point": [
                          587.88,
                          -2014.93
                        ]
                      },
                      {
                        "point": [
                          733.65,
                          -2014.93
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm5pgpqj1006f357iedl9pngg": {
                  "id": "677fe6328023a1662ac384ca",
                  "target": "6738a40f399970d73c31932d",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          442.12,
                          -1866.13
                        ]
                      },
                      {
                        "point": [
                          590.37,
                          -1866.13
                        ]
                      },
                      {
                        "point": [
                          590.37,
                          -1842.12
                        ]
                      },
                      {
                        "point": [
                          738.62,
                          -1842.12
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm5pgpt6d006s357i6ii7ek4y": {
                  "id": "677fe6368023a1662ac384cc",
                  "target": "6737aa17399970d73c3192fe",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          110.14,
                          -1812.13
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          86.14,
                          -1812.13
                        ]
                      },
                      {
                        "point": [
                          86.14,
                          -1749.68
                        ]
                      },
                      {
                        "point": [
                          272.37,
                          -1749.68
                        ]
                      },
                      {
                        "point": [
                          272.37,
                          -1725.68
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "cm6b5whwr05ut2e77qgccmy9k": {
                  "id": "6793eb9239a5434e8b4a986c",
                  "target": "67975720e449c5bfb5376f82",
                  "type": "",
                  "data": {}
                },
                "cm6b5wn8z05v42e77g110nd2x": {
                  "id": "6793eb9939a5434e8b4a986e",
                  "target": "6793ebad39a5434e8b4a995c",
                  "type": "",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "677fe19173dbfd9090fc1e4a"
        },
        "677fe7868023a1662ac38699": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "67379ebf399970d73c318f8e",
            "diagramID": "67379e841f372df618ba6c53",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "677fe7868023a1662ac38699"
        },
        "677fe7868023a1662ac3869a": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "677fe7868023a1662ac38699"
            ]
          },
          "nodeID": "677fe7868023a1662ac3869a",
          "coords": [
            0,
            0
          ]
        },
        "678aacd3bfbbd62d56cdbb6b": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "678bbf26bfbbd62d56cdd1cb",
            "diagramID": "673619219713840a5359df12",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "678aacd3bfbbd62d56cdbb6b"
        },
        "678aacd3bfbbd62d56cdbb6c": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "678aacd3bfbbd62d56cdbb6b"
            ]
          },
          "nodeID": "678aacd3bfbbd62d56cdbb6c",
          "coords": [
            0,
            0
          ]
        },
        "6790cc92f732495a44f12a22": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6790cc9b2bfbef61764e302f",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6736059e3b721d7c9dff878e",
                  "id": "6790cc92f732495a44f12a23",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -415.13,
                          -2531.61
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          -439.13,
                          -2531.61
                        ]
                      },
                      {
                        "point": [
                          -439.13,
                          -2458.37
                        ]
                      },
                      {
                        "point": [
                          -249.67,
                          -2458.37
                        ]
                      },
                      {
                        "point": [
                          -249.67,
                          -2385.13
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790cc92f732495a44f12a22"
        },
        "6790cc92f732495a44f12a24": {
          "type": "block",
          "data": {
            "name": "Error",
            "steps": [
              "6790cc92f732495a44f12a22"
            ],
            "color": "#CB627B"
          },
          "nodeID": "6790cc92f732495a44f12a24",
          "coords": [
            -249.1265841475443,
            -2610.874113239547
          ]
        },
        "6790cfeef732495a44f12bf2": {
          "type": "response-prompt",
          "data": {
            "name": "Untitled prompt",
            "promptID": "6790cffa2bfbef61764e3051",
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6736059e3b721d7c9dff878e",
                  "id": "6790cfeef732495a44f12bf3",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -412.62,
                          -2676.64
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          -436.62,
                          -2676.64
                        ]
                      },
                      {
                        "point": [
                          -436.62,
                          -2530.89
                        ]
                      },
                      {
                        "point": [
                          -249.67,
                          -2530.89
                        ]
                      },
                      {
                        "point": [
                          -249.67,
                          -2385.13
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6790cfeef732495a44f12bf2"
        },
        "6790cfeef732495a44f12bf4": {
          "type": "block",
          "data": {
            "name": "Data error",
            "steps": [
              "6790cfeef732495a44f12bf2"
            ],
            "color": "#CB627B"
          },
          "nodeID": "6790cfeef732495a44f12bf4",
          "coords": [
            -246.6265841475443,
            -2755.874113239547
          ]
        },
        "6793ebad39a5434e8b4a995b": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6793c7d439a5434e8b4a91d2",
            "diagramID": "678bdb9f7e62048b1f8d2e17",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "6793ebad39a5434e8b4a995b"
        },
        "6793ebad39a5434e8b4a995c": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "6793ebad39a5434e8b4a995b"
            ]
          },
          "nodeID": "6793ebad39a5434e8b4a995c",
          "coords": [
            0,
            0
          ]
        },
        "67975720e449c5bfb5376f81": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "6794d2a539a5434e8b4a9e1c",
            "diagramID": "6789149f51ad8942933c6bbf",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "67975720e449c5bfb5376f81"
        },
        "67975720e449c5bfb5376f82": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "67975720e449c5bfb5376f81"
            ]
          },
          "nodeID": "67975720e449c5bfb5376f82",
          "coords": [
            0,
            0
          ]
        },
        "679a33bf44778a562339cb6f": {
          "type": "set-v3",
          "data": {
            "name": "",
            "items": [
              {
                "id": "cm1ne4hgf02zy2e77n747b558",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "tf6ina-cb.myshopify.com"
                    ]
                  }
                ],
                "variableID": "6735e25d863bc8c813ddfd04"
              },
              {
                "id": "cm3hp1mv100832e78bbeo9j1o",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "2025-07"
                    ]
                  }
                ],
                "variableID": "67364d3f181991bb60d8678b"
              },
              {
                "id": "cm1ne4plm03042e77typadcac",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Recommend products, customer support, order return, order tracking"
                    ]
                  }
                ],
                "variableID": "6735e2d0863bc8c813ddfd2c"
              },
              {
                "id": "cm3h8zv2i00pu357jdt4pgi0k",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Helpful, professional smart home assistant. Knows about switches, outlets, dimmers, and cabinet hardware.\r"
                    ]
                  }
                ],
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              {
                "id": "cm6hz3hnc021k2e77j64x02kc",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "Smart home electrical accessories like dimmer switches, toggle switches, outlets, wall plates, and cabinet hardware.\r"
                    ]
                  }
                ],
                "variableID": "673607ff863bc8c813de1e48"
              },
              {
                "id": "cm6hz4uxx027a2e77uow6qfmq",
                "type": "value",
                "label": null,
                "value": [
                  {
                    "text": [
                      "{\n  \"Product Type\": \"undefined\",\n  \"Level\": \"undefined\",\n  \"Material\": \"undefined\",\n  \"Size\": \"undefined\"\n}"
                    ]
                  }
                ],
                "variableID": "67361ceb863bc8c813de339a"
              }
            ],
            "label": "",
            "parallelExecution": true,
            "portsV2": {
              "byKey": {
                "next": {
                  "type": "next",
                  "target": "6735e21a3b721d7c9dff8751",
                  "id": "679a33bf44778a562339cb70",
                  "data": {}
                }
              },
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "679a33bf44778a562339cb6f"
        },
        "679a33bf44778a562339cb72": {
          "type": "block",
          "data": {
            "name": "Change these variables",
            "color": "#dc8879",
            "steps": [
              "679a33bf44778a562339cb6f"
            ]
          },
          "nodeID": "679a33bf44778a562339cb72",
          "coords": [
            -2594.260824176147,
            -2411.88160438421
          ]
        }
      },
      "offsetX": 2914.807284816963,
      "offsetY": 2224.7029956256383,
      "modified": 1701833501,
      "creatorID": 893814,
      "variables": [],
      "menuItems": [
        {
          "type": "NODE",
          "sourceID": "start00000000000000000000"
        }
      ],
      "menuNodeIDs": [],
      "intentStepIDs": [],
      "_id": "689247f952036d1f3e2253e2",
      "diagramID": "64dbb6696a8fab0013dba194",
      "versionID": "689247ef52036d1f3e225354"
    }
  },
  "flows": [
    {
      "id": "679295fef2a1a96c77921fc9",
      "name": "Dynamic Upsell & Cross-sell",
      "createdByID": 893814,
      "folderID": null,
      "diagramID": "679295fe8e3d3b8949dcf4e1",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:54:32.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793c36a92c4506f0615d0c2",
      "name": "Check Recommendation Position",
      "createdByID": 893814,
      "folderID": null,
      "diagramID": "6793c36a97b1e544710df105",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    }
  ],
  "entities": [],
  "entityVariants": [],
  "intents": [
    {
      "id": "66e9f738cc90326d546e9b63",
      "name": "Submit a ticket",
      "createdByID": 893814,
      "folderID": null,
      "description": "Trigger this intent when the user is asking to submit a ticket or report a bug.",
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "VF.YES",
      "name": "VF.YES",
      "createdByID": 893814,
      "folderID": null,
      "description": "Trigger this intent when the user says yes, or responds in the affirmative.",
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "VF.NO",
      "name": "VF.NO",
      "createdByID": 893814,
      "folderID": null,
      "description": "Trigger this intent when the user says no, or responds in the negative.",
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "None",
      "name": "None",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "66e999d72d5420af16162e99",
      "name": "Book a demo",
      "createdByID": 893814,
      "folderID": null,
      "description": "Trigger this intent when the user wants to explicitly book a demo with the sales team. However, don't trigger this intent if the user asks about pricing.\n\nDo not trigger when a custom is asking general questions like 'what can you do'",
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673606b9863bc8c813de1ccd",
      "name": "Product Recommendation",
      "createdByID": 893814,
      "folderID": null,
      "description": "Recommend products to the customer",
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    }
  ],
  "utterances": [
    {
      "id": "66e9f2c5cc90326d546e9978",
      "text": [
        {
          "text": [
            "Of course"
          ]
        }
      ],
      "intentID": "VF.YES",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f2c5cc90326d546e9979",
      "text": [
        {
          "text": [
            "Definitely"
          ]
        }
      ],
      "intentID": "VF.YES",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f2c5cc90326d546e997a",
      "text": [
        {
          "text": [
            "You bet"
          ]
        }
      ],
      "intentID": "VF.YES",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f2c5cc90326d546e997b",
      "text": [
        {
          "text": [
            "Okay"
          ]
        }
      ],
      "intentID": "VF.YES",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f2c5cc90326d546e997c",
      "text": [
        {
          "text": [
            "Sure"
          ]
        }
      ],
      "intentID": "VF.YES",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f2c5cc90326d546e997d",
      "text": [
        {
          "text": [
            "Yes"
          ]
        }
      ],
      "intentID": "VF.YES",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f2c5cc90326d546e9977",
      "text": [
        {
          "text": [
            "Certainly"
          ]
        }
      ],
      "intentID": "VF.YES",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f287cc90326d546e9949",
      "text": [
        {
          "text": [
            "Not at all"
          ]
        }
      ],
      "intentID": "VF.NO",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f287cc90326d546e9944",
      "text": [
        {
          "text": [
            "Negative"
          ]
        }
      ],
      "intentID": "VF.NO",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e999d72d5420af16162e9a",
      "text": [
        {
          "text": [
            "book a demo"
          ]
        }
      ],
      "intentID": "66e999d72d5420af16162e99",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e999d72d5420af16162e9b",
      "text": [
        {
          "text": [
            "I want to book a demo"
          ]
        }
      ],
      "intentID": "66e999d72d5420af16162e99",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e999d72d5420af16162e9c",
      "text": [
        {
          "text": [
            "I want to talk to sales"
          ]
        }
      ],
      "intentID": "66e999d72d5420af16162e99",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e999d72d5420af16162e9d",
      "text": [
        {
          "text": [
            "How can I reserve a demo?"
          ]
        }
      ],
      "intentID": "66e999d72d5420af16162e99",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e999d72d5420af16162e9e",
      "text": [
        {
          "text": [
            "I'm looking to arrange a demo"
          ]
        }
      ],
      "intentID": "66e999d72d5420af16162e99",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e999d72d5420af16162e9f",
      "text": [
        {
          "text": [
            "Is it possible to book a demonstration?"
          ]
        }
      ],
      "intentID": "66e999d72d5420af16162e99",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e999d72d5420af16162ea0",
      "text": [
        {
          "text": [
            "I'd like to set up a demo"
          ]
        }
      ],
      "intentID": "66e999d72d5420af16162e99",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e999d72d5420af16162ea1",
      "text": [
        {
          "text": [
            "Can I schedule a demo?"
          ]
        }
      ],
      "intentID": "66e999d72d5420af16162e99",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f287cc90326d546e9946",
      "text": [
        {
          "text": [
            "Absolutely not"
          ]
        }
      ],
      "intentID": "VF.NO",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f287cc90326d546e9947",
      "text": [
        {
          "text": [
            "I'm afraid not"
          ]
        }
      ],
      "intentID": "VF.NO",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f287cc90326d546e9948",
      "text": [
        {
          "text": [
            "No way"
          ]
        }
      ],
      "intentID": "VF.NO",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f287cc90326d546e994b",
      "text": [
        {
          "text": [
            "Definitely not"
          ]
        }
      ],
      "intentID": "VF.NO",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f287cc90326d546e994c",
      "text": [
        {
          "text": [
            "Nope"
          ]
        }
      ],
      "intentID": "VF.NO",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f287cc90326d546e994d",
      "text": [
        {
          "text": [
            "No"
          ]
        }
      ],
      "intentID": "VF.NO",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66e9f2c5cc90326d546e9976",
      "text": [
        {
          "text": [
            "Absolutely"
          ]
        }
      ],
      "intentID": "VF.YES",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66eaf6511996156a0678cf6e",
      "text": [
        {
          "text": [
            "Need help with submitting a ticket"
          ]
        }
      ],
      "intentID": "66e9f738cc90326d546e9b63",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66eaf65a1996156a0678cf79",
      "text": [
        {
          "text": [
            "Is there a way to submit a ticket?"
          ]
        }
      ],
      "intentID": "66e9f738cc90326d546e9b63",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66eaf65a1996156a0678cf7a",
      "text": [
        {
          "text": [
            "I want to create a ticket"
          ]
        }
      ],
      "intentID": "66e9f738cc90326d546e9b63",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66eaf6491996156a0678cf64",
      "text": [
        {
          "text": [
            "Need help with submitting a ticket"
          ]
        }
      ],
      "intentID": "66e9f738cc90326d546e9b63",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66eaf6491996156a0678cf65",
      "text": [
        {
          "text": [
            "How do I submit a ticket?"
          ]
        }
      ],
      "intentID": "66e9f738cc90326d546e9b63",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66f59814917d70188b120edf",
      "text": [
        {
          "text": [
            "Create a ticket"
          ]
        }
      ],
      "intentID": "66e9f738cc90326d546e9b63",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "66f59819917d70188b120ee0",
      "text": [
        {
          "text": [
            "Submit a ticket"
          ]
        }
      ],
      "intentID": "66e9f738cc90326d546e9b63",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606b9863bc8c813de1cce",
      "text": [
        {
          "text": [
            "I am looking to buy a product"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606b9863bc8c813de1ccf",
      "text": [
        {
          "text": [
            "What kind of products do you have?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cd4",
      "text": [
        {
          "text": [
            "Can you recommend a product for me?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cd5",
      "text": [
        {
          "text": [
            "I need a suggestion for a good product to purchase"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cd6",
      "text": [
        {
          "text": [
            "What are your top products?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cd7",
      "text": [
        {
          "text": [
            "Do you have any recommendations for a product?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cd8",
      "text": [
        {
          "text": [
            "I need help choosing a product to buy"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cd9",
      "text": [
        {
          "text": [
            "Can you help me find a suitable product to buy?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cda",
      "text": [
        {
          "text": [
            "I'm interested in buying a product, what do you suggest?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cdb",
      "text": [
        {
          "text": [
            "What products would you recommend for me?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cdc",
      "text": [
        {
          "text": [
            "I'm not sure what product to buy, can you assist me?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "673606c1863bc8c813de1cdd",
      "text": [
        {
          "text": [
            "I'm looking for a product recommendation, can you help?"
          ]
        }
      ],
      "intentID": "673606b9863bc8c813de1ccd",
      "language": "en-us",
      "createdAt": "2025-08-05T18:05:35.000Z"
    }
  ],
  "requiredEntities": [],
  "folders": [
    {
      "id": "672b8cf088690850a00446e6",
      "name": "Clarifying question prompts",
      "scope": "prompt",
      "parentID": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "672b8d3788690850a0044715",
      "name": "KB response prompts",
      "scope": "prompt",
      "parentID": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6737797cbdb17488f6f80537",
      "name": "Selected Product Variables",
      "scope": "variable",
      "parentID": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    }
  ],
  "responses": [
    {
      "id": "678e5062c281e62ca5f3ec02",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6798fa964172792cb652a143",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67378412bdb17488f6f80f2d",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": true,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67378413bdb17488f6f80f47",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": true,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679a0084d56fa762358c8818",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678a345d3f09b38dd6f7ec75",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679a148ed56fa762358c9869",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678a875d7e62048b1f8d1f60",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678a8f0e22fbcb6ac611d5be",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678bde7122fbcb6ac612a023",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678ba03f22fbcb6ac6127042",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6787e2d80b87dbe9ac5d8560",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6787e4310b87dbe9ac5d86b2",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6797a581639c4e49bca2936d",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679a427cd56fa762358cc31a",
      "name": "",
      "createdByID": 893814,
      "folderID": null,
      "type": "message",
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    }
  ],
  "responseMessages": [
    {
      "id": "678bde7122fbcb6ac612a025",
      "discriminatorID": "678bde7122fbcb6ac612a024",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "6737799cbdb17488f6f80573"
            },
            " "
          ]
        },
        {
          "text": [
            {
              "text": [
                ""
              ]
            }
          ]
        },
        {
          "text": [
            "",
            {
              "variableID": "678d2eb9c2593b028d024619"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "67378412bdb17488f6f80f2f",
      "discriminatorID": "67378412bdb17488f6f80f2e",
      "text": [
        {
          "text": [
            ""
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "67378413bdb17488f6f80f49",
      "discriminatorID": "67378413bdb17488f6f80f48",
      "text": [
        {
          "text": [
            ""
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6797a581639c4e49bca2936f",
      "discriminatorID": "6797a581639c4e49bca2936e",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "67929df56edea88a5de3444f"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6787e2d80b87dbe9ac5d8562",
      "discriminatorID": "6787e2d80b87dbe9ac5d8561",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "6756c44431b5b3f31cd0455b"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6787e4310b87dbe9ac5d86b4",
      "discriminatorID": "6787e4310b87dbe9ac5d86b3",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "67361ceb863bc8c813de339a"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678a875d7e62048b1f8d1f62",
      "discriminatorID": "678a875d7e62048b1f8d1f61",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "67361ceb863bc8c813de339a"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678ba03f22fbcb6ac6127044",
      "discriminatorID": "678ba03f22fbcb6ac6127043",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "6736507d181991bb60d86aa8"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678e5062c281e62ca5f3ec04",
      "discriminatorID": "678e5062c281e62ca5f3ec03",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "678e506cc281e62ca5f3ec18"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6798fa964172792cb652a145",
      "discriminatorID": "6798fa964172792cb652a144",
      "text": [
        {
          "text": [
            "Dit moet een bericht zijn die terug komt voor insta"
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678a345d3f09b38dd6f7ec77",
      "discriminatorID": "678a345d3f09b38dd6f7ec76",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "67361ceb863bc8c813de339a"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678a8f0e22fbcb6ac611d5c0",
      "discriminatorID": "678a8f0e22fbcb6ac611d5bf",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "67365094181991bb60d86ab4"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "679a0084d56fa762358c881a",
      "discriminatorID": "679a0084d56fa762358c8819",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "6793cd6392c4506f0615dab5"
            },
            " "
          ]
        },
        {
          "text": [
            {
              "text": [
                ""
              ]
            }
          ]
        },
        {
          "text": [
            "",
            {
              "variableID": "6794edd492c4506f06165e92"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "679a148ed56fa762358c986b",
      "discriminatorID": "679a148ed56fa762358c986a",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "6795083792c4506f06166a47"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "679a427cd56fa762358cc31c",
      "discriminatorID": "679a427cd56fa762358cc31b",
      "text": [
        {
          "text": [
            "",
            {
              "variableID": "6793e8e892c4506f0615f6e6"
            },
            " "
          ]
        }
      ],
      "condition": null,
      "delay": null,
      "createdAt": "2025-08-05T18:05:35.000Z"
    }
  ],
  "responseDiscriminators": [
    {
      "id": "678a345d3f09b38dd6f7ec76",
      "channel": "default",
      "language": "en-us",
      "responseID": "678a345d3f09b38dd6f7ec75",
      "variantOrder": [
        "678a345d3f09b38dd6f7ec77"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "67378412bdb17488f6f80f2e",
      "channel": "default",
      "language": "en-us",
      "responseID": "67378412bdb17488f6f80f2d",
      "variantOrder": [
        "67378412bdb17488f6f80f2f"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "67378413bdb17488f6f80f48",
      "channel": "default",
      "language": "en-us",
      "responseID": "67378413bdb17488f6f80f47",
      "variantOrder": [
        "67378413bdb17488f6f80f49"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678a875d7e62048b1f8d1f61",
      "channel": "default",
      "language": "en-us",
      "responseID": "678a875d7e62048b1f8d1f60",
      "variantOrder": [
        "678a875d7e62048b1f8d1f62"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678a8f0e22fbcb6ac611d5bf",
      "channel": "default",
      "language": "en-us",
      "responseID": "678a8f0e22fbcb6ac611d5be",
      "variantOrder": [
        "678a8f0e22fbcb6ac611d5c0"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678ba03f22fbcb6ac6127043",
      "channel": "default",
      "language": "en-us",
      "responseID": "678ba03f22fbcb6ac6127042",
      "variantOrder": [
        "678ba03f22fbcb6ac6127044"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678bde7122fbcb6ac612a024",
      "channel": "default",
      "language": "en-us",
      "responseID": "678bde7122fbcb6ac612a023",
      "variantOrder": [
        "678bde7122fbcb6ac612a025"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6787e2d80b87dbe9ac5d8561",
      "channel": "default",
      "language": "en-us",
      "responseID": "6787e2d80b87dbe9ac5d8560",
      "variantOrder": [
        "6787e2d80b87dbe9ac5d8562"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6787e4310b87dbe9ac5d86b3",
      "channel": "default",
      "language": "en-us",
      "responseID": "6787e4310b87dbe9ac5d86b2",
      "variantOrder": [
        "6787e4310b87dbe9ac5d86b4"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6797a581639c4e49bca2936e",
      "channel": "default",
      "language": "en-us",
      "responseID": "6797a581639c4e49bca2936d",
      "variantOrder": [
        "6797a581639c4e49bca2936f"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "678e5062c281e62ca5f3ec03",
      "channel": "default",
      "language": "en-us",
      "responseID": "678e5062c281e62ca5f3ec02",
      "variantOrder": [
        "678e5062c281e62ca5f3ec04"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "6798fa964172792cb652a144",
      "channel": "default",
      "language": "en-us",
      "responseID": "6798fa964172792cb652a143",
      "variantOrder": [
        "6798fa964172792cb652a145"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "679a0084d56fa762358c8819",
      "channel": "default",
      "language": "en-us",
      "responseID": "679a0084d56fa762358c8818",
      "variantOrder": [
        "679a0084d56fa762358c881a"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "679a148ed56fa762358c986a",
      "channel": "default",
      "language": "en-us",
      "responseID": "679a148ed56fa762358c9869",
      "variantOrder": [
        "679a148ed56fa762358c986b"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "id": "679a427cd56fa762358cc31b",
      "channel": "default",
      "language": "en-us",
      "responseID": "679a427cd56fa762358cc31a",
      "variantOrder": [
        "679a427cd56fa762358cc31c"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z"
    }
  ],
  "variables": [
    {
      "id": "678a8e8822fbcb6ac611d53f",
      "name": "isValid",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679757b7639c4e49bca25e07",
      "name": "bt_createReturn",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679760e7639c4e49bca2658b",
      "name": "lb_quantity",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679760f9639c4e49bca26593",
      "name": "lb_reason",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67976108639c4e49bca26597",
      "name": "bt_submit",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67976297639c4e49bca266b8",
      "name": "returnQuantity",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679762a1639c4e49bca266b9",
      "name": "returnReason",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6735e2d0863bc8c813ddfd2c",
      "name": "greetingsFeatures",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6735e2e0863bc8c813ddfd3b",
      "name": "responseMemory",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6735e330863bc8c813ddfd5e",
      "name": "orderProductList",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6735e3e8863bc8c813ddfdc0",
      "name": "agentPersona",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6735e92f863bc8c813de00ce",
      "name": "agentLanguage",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678ba47022fbcb6ac61273fd",
      "name": "bt_moreInfo",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "sessions",
      "name": "sessions",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "number",
      "description": "The number of times a particular user has opened the app.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "user_id",
      "name": "user_id",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The user's unique ID.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "timestamp",
      "name": "timestamp",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "UNIX timestamp (number of seconds since January 1st, 1970 at UTC).",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "platform",
      "name": "platform",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The platform your agent is running on (e.g. \"voiceflow\").",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "locale",
      "name": "locale",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The locale of the user (eg. en-US, en-CA, it-IT, fr-FR, ...).",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "KBOutput",
      "name": "KB_response",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "The final answer formed by the AI to be shown to the user.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "intent_confidence",
      "name": "intent_confidence",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "number",
      "description": "The confidence interval (measured as a value from 0 to 100) for the most recently matched intent.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "last_response",
      "name": "last_response",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The agent's last response (text/speak) in a string.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "last_event",
      "name": "last_event",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "any",
      "description": "The object containing the last event that the user client has triggered.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "last_utterance",
      "name": "last_utterance",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The user's last utterance in a text string.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_memory",
      "name": "vf_memory",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "Last 10 user inputs and agent responses in a string (e.g. \"agent: How can i help?\"\nuser: What's the weather today?).",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "66e87e79517bf2228b6c8657",
      "name": "optimized_question",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "Optimized version of the users question for the AI to answer. It stores a reformatted question that uses memory.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "66e880de517bf2228b6c8664",
      "name": "clarifying_question_check_counter",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "How many times the AI has asked a clarifying question. This is used so it doesnt ask too many clarifying questions.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "66e8813c517bf2228b6c8665",
      "name": "clarifying_question_check",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "Determine if the AI needs to ask a clarifying question.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "66e881bb517bf2228b6c8666",
      "name": "clarifying_question",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "Clarifying question asked by the AI",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "66e8821d517bf2228b6c8667",
      "name": "language_JSON",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "Information about the users language. Generated by AI",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "chunks",
      "name": "chunks",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "Information received from the knowledge base - also known as 'chunks'.",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6735e25d863bc8c813ddfd04",
      "name": "shopifyStoreID",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67360763863bc8c813de1d94",
      "name": "nextPath",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673607ff863bc8c813de1e48",
      "name": "nicheSubject",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678bcdf222fbcb6ac6129022",
      "name": "productSupportInfo",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673619c7863bc8c813de30fc",
      "name": "relevantProducts",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67361ceb863bc8c813de339a",
      "name": "currentState",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67364d3f181991bb60d8678b",
      "name": "shopifyApiVersion",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6736507d181991bb60d86aa8",
      "name": "productInfoForLLM",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678bd69f22fbcb6ac6129aa0",
      "name": "selectedProductDescription",
      "createdByID": 893814,
      "folderID": "6737797cbdb17488f6f80537",
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67372d22dd4bf1d669dc1da0",
      "name": "bt_checkout",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673719f5181991bb60d8d275",
      "name": "filteredProducts",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67377996bdb17488f6f80570",
      "name": "selectedProductID",
      "createdByID": 893814,
      "folderID": "6737797cbdb17488f6f80537",
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67377983bdb17488f6f80563",
      "name": "selectedProductSKU",
      "createdByID": 893814,
      "folderID": "6737797cbdb17488f6f80537",
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6737798fbdb17488f6f8056d",
      "name": "selectedProductPrice",
      "createdByID": 893814,
      "folderID": "6737797cbdb17488f6f80537",
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6737798abdb17488f6f80564",
      "name": "selectedProductTitle",
      "createdByID": 893814,
      "folderID": "6737797cbdb17488f6f80537",
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6737799cbdb17488f6f80573",
      "name": "selectedVariantID",
      "createdByID": 893814,
      "folderID": "6737797cbdb17488f6f80537",
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673779d9bdb17488f6f805e6",
      "name": "selectedProductQuantity",
      "createdByID": 893814,
      "folderID": "6737797cbdb17488f6f80537",
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67378478bdb17488f6f8100a",
      "name": "checkoutUrl",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673784c1bdb17488f6f81033",
      "name": "bt_orderNow",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67379f68bdb17488f6f829d2",
      "name": "isSupportQuestion",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6738a6d7bdb17488f6f8af70",
      "name": "translatedButtons",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678d2eb9c2593b028d024619",
      "name": "selectedVariantPrices",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6756c44431b5b3f31cd0455b",
      "name": "nicheAnalysisData",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678e506cc281e62ca5f3ec18",
      "name": "selectedVariantTitles",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6790bd3ea3a14c8742fb8030",
      "name": "analyzedProductTitles",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67909732a3a14c8742fb681c",
      "name": "productTitlesForLLM",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793721292c4506f06159eff",
      "name": "bt_notInterested",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67929df56edea88a5de3444f",
      "name": "orderProductListString",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67929ec26edea88a5de34547",
      "name": "filteredUpsellProducts",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679294b5f2a1a96c77921e2c",
      "name": "productPairsForLLM",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679294d2f2a1a96c77921e40",
      "name": "rawUpsellOrderData",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67365094181991bb60d86ab4",
      "name": "rawProductData",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67939f8b92c4506f0615b722",
      "name": "skipUpsell",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793c8d892c4506f0615d555",
      "name": "orderFormat",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793cd6392c4506f0615dab5",
      "name": "orderNumber",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793cda592c4506f0615daf1",
      "name": "trackingURL",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793e42692c4506f0615f332",
      "name": "bt_shippingInformation",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793e8e892c4506f0615f6e6",
      "name": "ordersData",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794d39c92c4506f06164f69",
      "name": "returnPolicyData",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794e2fb92c4506f06165a20",
      "name": "extractReturnDays",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794edd492c4506f06165e92",
      "name": "returnProductTitles",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6795083792c4506f06166a47",
      "name": "orderedQuantities",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679e80e8b581cc269ec46162",
      "name": "orderID",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_date",
      "name": "vf_date",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "date",
      "description": "Current date in the format \"Jan 1, 2025\". You can modify the timezone in project settings.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_time",
      "name": "vf_time",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "Current time in the format \"16:37\". You can modify the timezone in project settings.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_day",
      "name": "vf_day",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "number",
      "description": "Current day of month in the format \"1\". You can modify the timezone in project settings.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_month",
      "name": "vf_month",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "Current month in the format \"January\". You can modify the timezone in project settings.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_year",
      "name": "vf_year",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "number",
      "description": "Current year in the format \"2025\". You can modify the timezone in project settings.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_now",
      "name": "vf_now",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "date",
      "description": "Current date and time in the format \"Jan 1, 2025, 16:37\". You can modify the timezone in project settings.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_user_timezone",
      "name": "vf_user_timezone",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The user's timezone in the format \"America/Toronto\", if available. Defaults to the project timezone.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_weekday",
      "name": "vf_weekday",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "Current day of week in the format \"Monday\". You can modify the timezone in project settings.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    },
    {
      "id": "vf_transcript_id",
      "name": "vf_transcript_id",
      "createdByID": 893814,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The transcript ID of the current conversation. Only available if transcripts are enabled.",
      "defaultValue": null,
      "createdAt": "2026-02-16T11:18:09.000Z",
      "updatedAt": "2026-02-16T11:18:09.000Z",
      "updatedByID": 893814
    }
  ],
  "workflows": [
    {
      "id": "67379e84bdb17488f6f82919",
      "name": "3. Customer Support",
      "createdByID": 893814,
      "folderID": null,
      "status": null,
      "isStart": false,
      "diagramID": "67379e841f372df618ba6c53",
      "assigneeID": null,
      "description": "",
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678bdb9f22fbcb6ac6129df4",
      "name": "5. Order Tracking",
      "createdByID": 893814,
      "folderID": null,
      "status": null,
      "isStart": false,
      "diagramID": "678bdb9f7e62048b1f8d2e17",
      "assigneeID": null,
      "description": "",
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:31:57.000Z",
      "updatedByID": 893814
    },
    {
      "id": "66df755be937eb000784abb2",
      "name": "1. Home",
      "createdByID": 893814,
      "folderID": null,
      "status": null,
      "isStart": true,
      "diagramID": "64dbb6696a8fab0013dba194",
      "assigneeID": null,
      "description": "The main menu of your agent. We recommend keeping it simple and using it to prompt a question from the user.",
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T20:16:11.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67361921863bc8c813de3097",
      "name": "2. Product Recommendation",
      "createdByID": 893814,
      "folderID": null,
      "status": null,
      "isStart": false,
      "diagramID": "673619219713840a5359df12",
      "assigneeID": null,
      "description": "",
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T11:14:55.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6789149fd604871f7c578e4d",
      "name": "4. Order Return",
      "createdByID": 893814,
      "folderID": null,
      "status": null,
      "isStart": false,
      "diagramID": "6789149f51ad8942933c6bbf",
      "assigneeID": null,
      "description": "",
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:08:44.000Z",
      "updatedByID": 893814
    }
  ],
  "attachments": [],
  "cardButtons": [],
  "prompts": [
    {
      "id": "67372db525b7c5b1c24124e9",
      "name": "Translate Buttons",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "67372db525b7c5b1c24124ea",
        "67372db525b7c5b1c24124eb"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6737aa1b1f372df618ba6cef",
      "name": "Generate Goodby Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "6737aa1b1f372df618ba6cf0",
        "6737aa1b1f372df618ba6cf1"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673607659713840a5359ddc4",
      "name": "Main Filter",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "673607659713840a5359ddc5",
        "673607659713840a5359ddc6"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6735ef839713840a5359dc59",
      "name": "Second Greeting Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {},
      "messageOrder": [
        "6735ef839713840a5359dc5a",
        "6735ef839713840a5359dc5b"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "672ae903671f984162a8aa3a",
      "name": "Clarifying question check",
      "createdByID": 893814,
      "folderID": "672b8cf088690850a00446e6",
      "description": "Look at the information found and determine if a clarifying question is needed.",
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "672ae903671f984162a8aa3b",
        "672ae903671f984162a8aa3c"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "672ae961671f984162a8aa46",
      "name": "Language Classifier",
      "createdByID": 893814,
      "folderID": "672b8d3788690850a0044715",
      "description": "Classify the language that the user is speaking.",
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "672ae961671f984162a8aa47",
        "672ae961671f984162a8aa48"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679e1e1f743f7f8a96708bf3",
      "name": "Whole Order Return Detection",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "679e1e1f743f7f8a96708bf4",
        "679e1e1f743f7f8a96708bf5"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "672ae8ad671f984162a8aa34",
      "name": "No information found",
      "createdByID": 893814,
      "folderID": "672b8d3788690850a0044715",
      "description": "Create a response if no information is found.",
      "settings": {
        "model": "gpt-3.5-turbo"
      },
      "messageOrder": [
        "672ae8ad671f984162a8aa35",
        "672ae8ad671f984162a8aa36"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "672ae92e671f984162a8aa40",
      "name": "Optimize question",
      "createdByID": 893814,
      "folderID": "672b8d3788690850a0044715",
      "description": "This prompt optimizes the users question using the conversation memory.",
      "settings": {
        "model": "gpt-3.5-turbo"
      },
      "messageOrder": [
        "672ae92e671f984162a8aa41",
        "672ae92e671f984162a8aa42",
        "672b8adc039d320007ef90d5",
        "672b8adc039d320007ef90d6",
        "672b8b4d039d320007ef90e2",
        "672b8c1f88690850a004469b",
        "672b8b4d039d320007ef90e3"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "672ae94c671f984162a8aa43",
      "name": "Create a clarifying question",
      "createdByID": 893814,
      "folderID": "672b8cf088690850a00446e6",
      "description": "Create a clarifying question based on the users initial question.",
      "settings": {},
      "messageOrder": [
        "672ae94c671f984162a8aa44",
        "672ae94c671f984162a8aa45"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "672ae8f2671f984162a8aa37",
      "name": "Create answer",
      "createdByID": 893814,
      "folderID": "672b8d3788690850a0044715",
      "description": "Using the information found from the 'search knowledge base' step, this prompt creates a detailed answer for the user.",
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 500
      },
      "messageOrder": [
        "672ae8f2671f984162a8aa38",
        "672b917c88690850a0044a49",
        "672ae8f2671f984162a8aa39"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6737a5111f372df618ba6cdd",
      "name": "Ask Support Question",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "6737a5111f372df618ba6cde",
        "6737a5111f372df618ba6cdf"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67379d691f372df618ba6c50",
      "name": "Need More Help",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "67379d691f372df618ba6c51",
        "67379d691f372df618ba6c52"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67379fb81f372df618ba6c54",
      "name": "Analyze Support Question",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "67379fb81f372df618ba6c55",
        "67379fb81f372df618ba6c56"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6737ad851f372df618ba6d01",
      "name": "Generate General Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "6737ad851f372df618ba6d02",
        "6737ad851f372df618ba6d03"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6738a4161f372df618ba72b1",
      "name": "Generate Else Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini"
      },
      "messageOrder": [
        "6738a4161f372df618ba72b2",
        "6738a4161f372df618ba72b3"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6735e8b09713840a5359dbce",
      "name": "First Greeting Reponse",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 102
      },
      "messageOrder": [
        "6735e8b09713840a5359dbcf",
        "6735e8b09713840a5359dbd0"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678ba6a27e62048b1f8d2a7c",
      "name": "Define Response Path",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "678ba6a27e62048b1f8d2a7d",
        "678ba6a27e62048b1f8d2a7e"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6737a2ca1f372df618ba6cbb",
      "name": "Generate Support Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o",
        "maxTokens": 1005
      },
      "messageOrder": [
        "6737a2ca1f372df618ba6cbc",
        "6737a2ca1f372df618ba6cbd"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678bcdb17e62048b1f8d2bdb",
      "name": "Generate Product Support Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o",
        "maxTokens": 1000,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "678bcdb17e62048b1f8d2bdc",
        "678bcdb17e62048b1f8d2bdd"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678bd8357e62048b1f8d2e00",
      "name": "Ask Question About Product",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 499,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "678bd8357e62048b1f8d2e01",
        "678bd8357e62048b1f8d2e02"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679a154faecde270efc32509",
      "name": "Generate Returnable Products Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "679a154faecde270efc3250a",
        "679a154faecde270efc3250b"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679765c767f2876f30030b08",
      "name": "Return Request Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 508,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "679765c767f2876f30030b09",
        "679765c767f2876f30030b0a"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673619309713840a5359df13",
      "name": "Generate Follow-up Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o"
      },
      "messageOrder": [
        "673619309713840a5359df14",
        "673619309713840a5359df15"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67929d264de301f712c5a22f",
      "name": "Generating Upsell and Cross-Sell Recommendations",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o",
        "maxTokens": 608,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "67929d264de301f712c5a230",
        "67929d264de301f712c5a231"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678ab9e27e62048b1f8d22f4",
      "name": "Analyze CurrentState For Undefined",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 221,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "678ab9e27e62048b1f8d22f5",
        "678ab9e27e62048b1f8d22f6"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678ff2d89e8143757b840aee",
      "name": "Analyzing User Response to Follow-Up Questions",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "678ff2d89e8143757b840aef",
        "678ff2d89e8143757b840af0"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67936ded97b1e544710ded72",
      "name": "Generating Explanations for Complementary Products",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "67936ded97b1e544710ded73",
        "67936ded97b1e544710ded74"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793c1d497b1e544710df0f6",
      "name": "Already Got Recommendations Prompt",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 404,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6793c1d497b1e544710df0f7",
        "6793c1d497b1e544710df0f8"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793c7e397b1e544710df124",
      "name": "Order Tracking - Ask Order ID or Email",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 355,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6793c7e397b1e544710df125",
        "6793c7e397b1e544710df126"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67361cb29713840a5359df1f",
      "name": "Analyze the currentState",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o",
        "maxTokens": 499
      },
      "messageOrder": [
        "67361cb29713840a5359df20",
        "67361cb29713840a5359df21"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67371f4c8b4c5b4d82ad199b",
      "name": "Generate Advice Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o",
        "maxTokens": 528
      },
      "messageOrder": [
        "67371f4c8b4c5b4d82ad199c",
        "67371f4c8b4c5b4d82ad199d"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "673719918b4c5b4d82ad196b",
      "name": "Match Product(s)",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o",
        "maxTokens": 484
      },
      "messageOrder": [
        "673719918b4c5b4d82ad196c",
        "673719918b4c5b4d82ad196d"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793c8af97b1e544710df137",
      "name": "Analyze Has Order Number",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6793c8af97b1e544710df138",
        "6793c8af97b1e544710df139"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793cc8f97b1e544710df14e",
      "name": "Extract Order Number",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 315,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6793cc8f97b1e544710df14f",
        "6793cc8f97b1e544710df150"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678fcc7b1b4b9e65883ccd83",
      "name": "Analyzing User Intent for Product Queries",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "678fcc7b1b4b9e65883ccd84",
        "678fcc7b1b4b9e65883ccd85"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6790cbc62bfbef61764e302c",
      "name": "Generating Response for No Matching Products",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o",
        "maxTokens": 514,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6790cbc62bfbef61764e302d",
        "6790cbc62bfbef61764e302e"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6790cc9b2bfbef61764e302f",
      "name": "Error response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6790cc9b2bfbef61764e3030",
        "6790cc9b2bfbef61764e3031"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793e5e097b1e544710df2fa",
      "name": "Order Not Found, Request Email",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 454,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6793e5e097b1e544710df2fb",
        "6793e5e097b1e544710df2fc"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793e6b297b1e544710df300",
      "name": "No Order Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 301,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6793e6b297b1e544710df301",
        "6793e6b297b1e544710df302"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6790cffa2bfbef61764e3051",
      "name": "Data Error Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6790cffa2bfbef61764e3052",
        "6790cffa2bfbef61764e3053"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793ecf897b1e544710df37c",
      "name": "Orders Found By Email Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6793ecf897b1e544710df37d",
        "6793ecf897b1e544710df37e"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794d8ef97b1e544710dfdb1",
      "name": "Return Product - Ask Email or Order ID",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 500,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6794d8ef97b1e544710dfdb2",
        "6794d8ef97b1e544710dfdb3"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6790a4cc2bfbef61764e2da3",
      "name": "Product Title Detection in Assistant Responses",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6790a4cc2bfbef61764e2da4",
        "6790a4cc2bfbef61764e2da5"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794dd3c97b1e544710dfe36",
      "name": "Extract Email From Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6794dd3c97b1e544710dfe37",
        "6794dd3c97b1e544710dfe38"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794de8997b1e544710dfe46",
      "name": "Extract Return Days",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6794de8997b1e544710dfe47",
        "6794de8997b1e544710dfe48"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794f33e97b1e544710dfebf",
      "name": "Order Return Selection Notification",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 504,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6794f33e97b1e544710dfec0",
        "6794f33e97b1e544710dfec1"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6799e83eaecde270efc32340",
      "name": "Generate Tracking Response",
      "createdByID": 893814,
      "folderID": null,
      "description": null,
      "settings": {
        "model": "gpt-4o-mini",
        "maxTokens": 400,
        "useStructuredOutput": false
      },
      "messageOrder": [
        "6799e83eaecde270efc32341",
        "6799e83eaecde270efc32342"
      ],
      "draft": false,
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T18:05:35.000Z",
      "updatedByID": 893814
    }
  ],
  "promptMessages": [
    {
      "id": "672b8adc039d320007ef90d6",
      "promptID": "672ae92e671f984162a8aa40",
      "pairID": "672b8adc039d320007ef90d5",
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "User's last response:"
            ]
          },
          {
            "text": [
              "What services are offered for users?"
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T15:27:24.000Z"
    },
    {
      "id": "672b8adc039d320007ef90d5",
      "promptID": "672ae92e671f984162a8aa40",
      "pairID": "672b8adc039d320007ef90d6",
      "type": "role",
      "data": {
        "role": "agent",
        "content": [
          {
            "text": [
              "What are the specific details of common processes for users, including relevant terms for users based on specific factors, and potential challenges that users may face when following common processes? Additionally, are there any exceptions or special considerations such as specific circumstances that may impact the user process?"
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T15:27:24.000Z"
    },
    {
      "id": "672b8b4d039d320007ef90e3",
      "promptID": "672ae92e671f984162a8aa40",
      "pairID": "672b8b4d039d320007ef90e2",
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "User's last response:\n$\"",
              {
                "variableID": "last_utterance"
              },
              "\"\n\nNow, take a deep breath and generate a detailed, comprehensive question that targets the most relevant information in the knowledge base, repeating key terms where appropriate and emphasizing the user perspective as specified in their query.\n\nGenerated question:"
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T15:29:17.000Z"
    },
    {
      "id": "672b8b4d039d320007ef90e2",
      "promptID": "672ae92e671f984162a8aa40",
      "pairID": "672b8b4d039d320007ef90e3",
      "type": "role",
      "data": {
        "role": "agent",
        "content": [
          {
            "text": [
              "What are the different services offered specifically for users, including key details, features, and any limitations or exclusions for user service plans? How do these user service plans work within the industry platform, and what should users know about the service when using it through the platform?"
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T15:29:17.000Z"
    },
    {
      "id": "6793cc8f97b1e544710df14f",
      "promptID": "6793cc8f97b1e544710df14e",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a precise data extractor. Your task is to analyze the customer‚Äôs message and extract the numeric portion of the order number. The input is guaranteed to contain an order number, so you do not need to handle cases where no digits exist. Remove any prefixes, letters, or symbols so that only the digits remain. Your final output must consist solely of these digits with no additional text or formatting."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T17:23:28.000Z"
    },
    {
      "id": "6793c8af97b1e544710df139",
      "promptID": "6793c8af97b1e544710df137",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t1.\tUserResponse\n\t‚Ä¢\tDescription: The customer‚Äôs latest message.\n\t‚Ä¢\tVariable Name: ",
              {
                "variableID": "last_utterance"
              },
              " "
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Guidelines:\n\t1.\tOrder Number Detection:\n\t‚Ä¢\tFlexible Formats:\n\t‚Ä¢\tAn order number may be purely numeric (e.g., ‚Äú123456‚Äù), alphanumeric (e.g., ‚ÄúABCD1234‚Äù), or include prefixes (e.g., ‚Äú#9876‚Äù, ‚ÄúTCP-1234‚Äù).\n\t‚Ä¢\tContext Clues:\n\t‚Ä¢\tLook for order-related keywords such as ‚Äúorder‚Äù, ‚Äúorder number‚Äù, ‚Äúorder id‚Äù, ‚Äúconfirmation‚Äù, or similar terms near the candidate sequence.\n\t‚Ä¢\tFor numeric-only sequences, consider them valid if they contain at least 4 digits and appear alongside these contextual keywords.\n\t‚Ä¢\tAvoiding False Positives:\n\t‚Ä¢\tDo not mistake other numbers (like phone numbers, zip codes, or random digits) for an order number unless context clearly identifies them as such.\n\t‚Ä¢\tDecision:\n\t‚Ä¢\tIf a sequence (numeric, alphanumeric, or with a prefix) that is likely an order number is present, output orderID.\n\t2.\tEmail Address Detection:\n\t‚Ä¢\tIdentify any valid email address in the standard format (e.g., user@example.com).\n\t3.\tHandling Ambiguity:\n\t‚Ä¢\tIf the customer explicitly states that they lost or do not have their order number, or if no clear order number or email is found, output false.\n\t4.\tOutput Requirement:\n\t‚Ä¢\tYour final response must be exactly one word: either orderID, email, or false."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Examples:\n\t‚Ä¢\tExample 1:\n\t‚Ä¢\tInput: ‚ÄúMy order number is 123456.‚Äù\n\t‚Ä¢\tOutput: orderID\n\t‚Ä¢\tExample 2:\n\t‚Ä¢\tInput: ‚ÄúHere‚Äôs my order: #9876‚Äù\n\t‚Ä¢\tOutput: orderID\n\t‚Ä¢\tExample 3:\n\t‚Ä¢\tInput: ‚ÄúOrder confirmation: TCP-1234.‚Äù\n\t‚Ä¢\tOutput: orderID\n\t‚Ä¢\tExample 4:\n\t‚Ä¢\tInput: ‚ÄúI lost my order number.‚Äù\n\t‚Ä¢\tOutput: false\n\t‚Ä¢\tExample 5:\n\t‚Ä¢\tInput: ‚ÄúYou can reach me at customer@example.com.‚Äù\n\t‚Ä¢\tOutput: email\n\t‚Ä¢\tExample 6:\n\t‚Ä¢\tInput: ‚ÄúMy order id is ABCD1234.‚Äù (Assuming context makes it clear this is an order number)\n\t‚Ä¢\tOutput: orderID"
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Notes:\n\t‚Ä¢\tContext is Key: Use nearby words and phrases to determine if a numeric or alphanumeric sequence represents an order number.\n\t‚Ä¢\tCase Insensitivity: The analysis should ignore differences in letter case.\n\t‚Ä¢\tStrict Output: Provide only one word in your output‚Äîno extra characters, explanations, or punctuation."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T17:06:56.000Z"
    },
    {
      "id": "679e1e1f743f7f8a96708bf5",
      "promptID": "679e1e1f743f7f8a96708bf3",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variable:\n\t‚Ä¢\tUser Response: ",
              {
                "variableID": "last_utterance"
              },
              " ‚Äì The most recent user input to be analyzed."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Your Task:\n\t1.\tAnalyze the User Response:\n\t‚Ä¢\tDetermine whether the user explicitly states that they want to return their entire order.\n\t‚Ä¢\tCommon phrases indicating a whole order return may include:\n\t‚Ä¢\t‚ÄúI want to return everything‚Äù\n\t‚Ä¢\t‚ÄúI want to return the whole order‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôd like to send everything back‚Äù\n\t‚Ä¢\t‚ÄúCan I return my entire order?‚Äù\n\t‚Ä¢\tVariations of similar intent in different wording\n\t2.\tOutput Format:\n\t‚Ä¢\tIf the user expresses intent to return everything, output: true.\n\t‚Ä¢\tIf the user refers to returning only some items or does not mention a full return, output: false."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Expected Output Examples:\n\nUser wants to return the whole order:\n\t‚Ä¢\tInput: ‚ÄúI want to return my whole order.‚Äù\nOutput: true\n\t‚Ä¢\tInput: ‚ÄúCan I return everything I ordered?‚Äù\nOutput: true\n\t‚Ä¢\tInput: ‚ÄúI‚Äôd like to send the full order back.‚Äù\nOutput: true\n\nUser does not want to return the whole order:\n\t‚Ä¢\tInput: ‚ÄúI want to return just these shoes.‚Äù\nOutput: false\n\t‚Ä¢\tInput: ‚ÄúI need to send back one item.‚Äù\nOutput: false\n\t‚Ä¢\tInput: ‚ÄúI made a mistake with my order, but I want to keep some items.‚Äù\nOutput: false"
            ]
          }
        ]
      },
      "createdAt": "2025-02-01T13:14:07.000Z"
    },
    {
      "id": "679e1e1f743f7f8a96708bf4",
      "promptID": "679e1e1f743f7f8a96708bf3",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an advanced language model designed to analyze user responses and determine whether the user intends to return their entire order."
            ]
          }
        ]
      },
      "createdAt": "2025-02-01T13:14:07.000Z"
    },
    {
      "id": "679765c767f2876f30030b0a",
      "promptID": "679765c767f2876f30030b08",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t‚Ä¢\tPersona: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " ‚Äì The assistant‚Äôs tone and style, ensuring consistency with the brand‚Äôs customer service approach.\n\t‚Ä¢\tLanguage: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " ‚Äì The language in which the response should be generated."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Instructions:\n\t1.\tCommunicate Follow-Up Timing:\n\t‚Ä¢\tInform the customer that a team member will review and follow up on their return request soon.\n\t‚Ä¢\tUse positive and reassuring language to ensure the customer feels supported.\n\t2.\tFriendly and Supportive Tone:\n\t‚Ä¢\tKeep the response conversational and professional while ensuring warmth and reassurance.\n\t‚Ä¢\tAlign the message with the persona to maintain brand consistency.\n\t3.\tClarity and Brevity:\n\t‚Ä¢\tEnsure the message is concise and easy to understand without unnecessary details.\n\t‚Ä¢\tAvoid over-promising specific timelines and instead use reassuring phrases like ‚Äúsoon.‚Äù"
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Expected Output Example:\n\nEnglish Example:\nOne of our amazing teammates will get back to you soon after qualifying your return request.\n\nDutch Example:\nEen van onze geweldige teamleden neemt binnenkort contact met je op nadat je retouraanvraag is beoordeeld.\n\nFrench Example:\nL‚Äôun de nos formidables co√©quipiers vous contactera bient√¥t apr√®s avoir qualifi√© votre demande de retour."
            ]
          }
        ]
      },
      "createdAt": "2025-01-27T10:53:59.000Z"
    },
    {
      "id": "6793c8af97b1e544710df138",
      "promptID": "6793c8af97b1e544710df137",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an expert assistant that analyzes customer messages. Your task is to detect whether the customer‚Äôs message contains a valid order number or a valid email address. Your output must be exactly one word (with no extra text):\n\t‚Ä¢\torderID if you detect a valid order number,\n\t‚Ä¢\temail if you detect a valid email address (and no valid order number),\n\t‚Ä¢\tfalse if neither is detected or if the customer indicates they lost or do not have their order number."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T17:06:56.000Z"
    },
    {
      "id": "6735ef839713840a5359dc5a",
      "promptID": "6735ef839713840a5359dc59",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a hospitality agent and going to greet the customers. The persona you should take:"
            ]
          },
          {
            "text": [
              "\"\"\""
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " "
            ]
          },
          {
            "text": [
              "\"\"\""
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T12:39:31.000Z"
    },
    {
      "id": "672ae8ad671f984162a8aa35",
      "promptID": "672ae8ad671f984162a8aa34",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a customer support bot that tries to help the user. Guide them towards asking for support."
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:55:25.000Z"
    },
    {
      "id": "672ae8ad671f984162a8aa36",
      "promptID": "672ae8ad671f984162a8aa34",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Speak directly to the end customer. Do not include anything outside of your answer. Ensure that you speak to users in the language identied below:\n\nlanguage: ",
              {
                "entityID": "66e8821d517bf2228b6c8667"
              },
              " "
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:55:25.000Z"
    },
    {
      "id": "672ae8f2671f984162a8aa38",
      "promptID": "672ae8f2671f984162a8aa37",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an AI customer support agent."
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:56:35.000Z"
    },
    {
      "id": "672ae8f2671f984162a8aa39",
      "promptID": "672ae8f2671f984162a8aa37",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "You are an AI customer support bot helping a customer with their question. When communicating with guests, follow these guidelines:\n\nUse the following step-by-step reasoning.\n\n1. Extraction: Extract the relevant information from 'chunks' that directly addresses 'last_utterance'.\n\n2. Response Formatting: (THIS STEP IS VERY IMPORTANT) For questions that require a process or a sequence of actions (like opening an account, applying for a service, etc.), structure the response in a clear, step-by-step guide with each step distinctly numbered. For other types of questions, provide a concise and direct answer.\n\n3. Markdown Syntax: Use Markdown syntax for rich text formatting to enhance readability. For process-oriented responses, use a numbered list format. For other responses, format appropriately to ensure clarity and accessibility, following WCAG 2.1 guidelines.\n\n5. Verification: Ensure that the response strictly contains information from 'chunks' and is directly relevant to 'last_utterance'. Do not incorporate any additional or external information.\n\n6. Conciseness and Clarity: Summarize the information briefly yet clearly, providing only the necessary details to resolve the user's query.\n\nAdditional Instructions:\n\nDo not include links to URLs or information not present in 'chunks'.\nMaintain a friendly, conversational tone, using \"I\" and \"we\" to foster a connection with the user.\n\nSpecifically, emphasize the step-by-step format for any instructional or process-related queries.\n\nInput data:\n1. Customers question: \"",
              {
                "variableID": "last_utterance"
              },
              "\"\n2. Provided details: \"",
              {
                "variableID": "chunks"
              },
              "\"\n3. User's language: \"",
              {
                "entityID": "66e8821d517bf2228b6c8667"
              },
              "\"  (if unknown default to English)\n\nNow, take a deep breath and respond to the guest's question in their language (",
              {
                "entityID": "66e8821d517bf2228b6c8667"
              },
              "),  or in English if the language is unknown. Remember to follow all the guidelines provided above. "
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:56:35.000Z"
    },
    {
      "id": "672ae903671f984162a8aa3b",
      "promptID": "672ae903671f984162a8aa3a",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an expert AI assistant trained to analyze customer inquiries and determine if they require clarification. Your role is to ensure efficient and accurate responses by identifying when additional information is needed from the customer."
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:56:51.000Z"
    },
    {
      "id": "672ae903671f984162a8aa3c",
      "promptID": "672ae903671f984162a8aa3a",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "# Clarification Assessment Prompt Template\n\nYou are an expert AI assistant trained to analyze customer inquiries and determine if they require clarification. Your role is to ensure efficient and accurate responses by identifying when additional information is needed from the customer.\n\n## Instructions:\n1. Carefully analyze the 'user's question' for specific details such as product or service types, policy names, or other relevant specifics that provide clear context.\n2. Review the 'chunks' to see if they contain information that directly addresses the specific details in the user's question.\n3. Output '~' if:\n   - The user's question contains specific details that are clearly addressed in the 'chunks'.\n   - The query aligns well with a specific part of the 'chunks' that provides a comprehensive answer.\n4. Output '#' only if:\n   - The query is genuinely broad or vague, lacking specific details that would allow for a direct answer from the 'chunks'.\n   - The 'chunks' contain multiple categories or types of information that could potentially answer the question, but the user's intent is unclear.\n   - There's a crucial piece of information missing from the user's question that is necessary to provide an accurate answer, and this information is not implied or obvious from the context given.\n5. If outputting '#', specify the type of information or category that would help better address their question, based on the 'chunks'.\n\n## Output format:\n[Decision: '~' or '#', (if '#') then clarification is required. Specify the type of information or category that would help better address their question.]\n\n## Important:\n- Focus on whether the available information in the chunks is sufficient to answer the user's specific question accurately.\n- Consider whether the user's question is too broad or vague to be answered comprehensively with the information provided in the chunks.\n- Assess if there are multiple possible interpretations of the user's question that would lead to significantly different answers based on the information in the chunks.\n\n## Input data:\n1. User's question: \n",
              {
                "variableID": "last_utterance"
              },
              "\n\n  2. Chunks: \n",
              {
                "variableID": "chunks"
              },
              "\n\nNow, take a deep breath and provide your assessment based on the instructions above."
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:56:51.000Z"
    },
    {
      "id": "672ae92e671f984162a8aa41",
      "promptID": "672ae92e671f984162a8aa40",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a question optimizer. Keep your questions down to one sentence"
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:57:34.000Z"
    },
    {
      "id": "672ae92e671f984162a8aa42",
      "promptID": "672ae92e671f984162a8aa40",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "You are an AI assistant specialized in generating optimal questions for retrieval augmented generation (RAG) in the context of user queries and intent. Your goal is to create a detailed question that will yield the most relevant and useful information from a knowledge base to enhance the quality of responses to user queries.\n\n##Task\n\nGenerate a single, comprehensive question that best captures the information needed to address the user‚Äôs query or intent, considering the following guidelines:\n\n\t1.\tAnalyze the user‚Äôs last response and the conversation history to identify the core topic, intent, or information need.\n\t2.\tCraft a question that is:\n\t‚Ä¢\tHighly specific and detailed, targeting exact information in the knowledge base\n\t‚Ä¢\tComprehensive, covering multiple aspects of the topic mentioned by the user\n\t‚Ä¢\tPhrased naturally, but including key terms multiple times for emphasis\n\t‚Ä¢\tFocused strongly on the user‚Äôs perspective if specified in the conversation\n\t3.\tInclude relevant keywords and phrases throughout the question, repeating important terms where appropriate. Use specific phrasing that emphasizes the user perspective.\n\t4.\tStructure the question to cover multiple related aspects, using phrases like ‚Äúincluding‚Äù, ‚Äúas well as‚Äù, or ‚Äúsuch as‚Äù.\n\t5.\tIncorporate specific terms that are likely to appear in relevant documents.\n\t6.\tUse repetitive but varied phrasing to emphasize key points and increase the likelihood of matching relevant documents.\n\t7.\tFor policy-related questions, mention potential exceptions or special circumstances only if they were part of the user‚Äôs query.\n\t8.\tFocus solely on the aspects mentioned by the user. Do not include additional topics or comparisons unless specifically requested.\n\n\n##Output\n\nProvide only the generated question, without quotation marks or any additional text.\n\n## Input Data\n"
            ]
          },
          {
            "text": [
              "User's last response:"
            ]
          },
          {
            "text": [
              "How do common processes work for users?"
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:57:34.000Z"
    },
    {
      "id": "672ae94c671f984162a8aa44",
      "promptID": "672ae94c671f984162a8aa43",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an AI Support Agent. Your task is to create a brief, friendly clarifying question that fits naturally into an ongoing conversation. "
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:58:05.000Z"
    },
    {
      "id": "672ae94c671f984162a8aa45",
      "promptID": "672ae94c671f984162a8aa43",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "You are an AI Support Agent. Your task is to create a brief, friendly clarifying question that fits naturally into an ongoing conversation. You will be given the following data: 'guidelines for the question', the 'user's question' that needs a response, and the 'information retrieved from a knowledge base'.\n\n## Instructions:\n1. Analyze the user's question and the provided information.\n2. Identify the key ambiguity or missing detail in the user's query.\n3. Construct a single, clear, and concise clarifying question related to providing support.\n4. Use a friendly tone, but prioritize brevity and directness.\n5. You may use one appropriate emoji if it adds value without increasing length significantly.\n6. Guide the user towards a precise response.\n7. Avoid multiple questions or unnecessary explanations.\n8. Focus on the single most important aspect that requires clarification.\n9. Begin with a very brief acknowledgment, then ask your clarifying question.\n10. Aim for a total response length of 15-20 words maximum.\n\n## Example Responses:\n- \"Sure. Are you a  guest or host? The cancellation process differs for each.\"\n- \"Uh-huh, okay. Can you tell me which  plan are you asking about?\"\n- \"Sure. And is this for a domestic or international  rental? \"\n\n## Input data:\nGuidelines for the question: $\"",
              {
                "entityID": "66e8813c517bf2228b6c8665"
              },
              "\"\n \nThe user's question: $\"",
              {
                "variableID": "last_utterance"
              },
              "\"\n Information from knowledge base: $\"",
              {
                "variableID": "chunks"
              },
              "\"\nThe user's language: $\"",
              {
                "entityID": "66e8821d517bf2228b6c8667"
              },
              "\"\n \nNow, create your brief, friendly clarifying question in the user's language that fits naturally into the ongoing dialogue:"
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:58:05.000Z"
    },
    {
      "id": "672b8c1f88690850a004469b",
      "promptID": "672ae92e671f984162a8aa40",
      "pairID": null,
      "type": "variable",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              {
                "variableID": "vf_memory"
              }
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T15:32:47.000Z"
    },
    {
      "id": "672b917c88690850a0044a49",
      "promptID": "672ae8f2671f984162a8aa37",
      "pairID": null,
      "type": "variable",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              {
                "variableID": "vf_memory"
              }
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T15:55:41.000Z"
    },
    {
      "id": "6735e8b09713840a5359dbd0",
      "promptID": "6735e8b09713840a5359dbce",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "You are going to greet the customer and briefly introduce yourself by telling them your first name.\n\nBriefly mention what you are capable of. Below are the different features you are capable of:"
            ]
          },
          {
            "text": [
              "\n\"\"\"\n",
              {
                "variableID": "6735e2d0863bc8c813ddfd2c"
              },
              " "
            ]
          },
          {
            "text": [
              "\"\"\"\n\nYour main goal is to help the customer navigate through their shopping journey. Always end your response with a variation of \"How can I assist you today?\"\n\nInstructions:\n\n- Always respond in ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n- Formatting: Use line breaks for readability. Keep it to one idea per paragraph.\n- Emoji Usage: Only use a maximum of two emoji per response.\n- Token usage: be concise and stay within 100 tokens.\n- Conciseness: You keep your responses concise and in no more than 3 sentences."
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T12:10:24.000Z"
    },
    {
      "id": "6735e8b09713840a5359dbcf",
      "promptID": "6735e8b09713840a5359dbce",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a hospitality agent and going to greet the customers. The persona you should take:"
            ]
          },
          {
            "text": [
              "\"\"\""
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " "
            ]
          },
          {
            "text": [
              "\"\"\""
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T12:10:24.000Z"
    },
    {
      "id": "672ae961671f984162a8aa47",
      "promptID": "672ae961671f984162a8aa46",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an advanced language detection system capable of identifying various languages based on user input. Your task is to analyze the user's question and accurately determine the language used. You will encounter questions in multiple languages, including but not limited to English, Nederlands, Fran√ßais, Espa√±ol, Deutsch, Italiano, and others."
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:58:26.000Z"
    },
    {
      "id": "67372db525b7c5b1c24124ea",
      "promptID": "67372db525b7c5b1c24124e9",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a button translator and will translate the buttons to the user language."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T11:17:10.000Z"
    },
    {
      "id": "67379d691f372df618ba6c52",
      "promptID": "67379d691f372df618ba6c50",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Your task is to generate a polite and professional response asking the customer if they need any further assistance. The tone should remain warm, friendly, and supportive.\n\nInstructions:\n\n\t1.\tAsk if the Customer Needs Further Help:\n\t‚Ä¢\tAfter providing assistance, ask the customer if there is anything else they need help with.\n\t‚Ä¢\tThe tone should be polite and supportive, encouraging the customer to ask additional questions if needed.\n\t2.\tFriendly and Clear Tone:\n\t‚Ä¢\tUse a friendly and approachable tone to ensure the customer feels comfortable asking for more help if needed.\n\nExample phrasing:\n\n\t‚Ä¢\t‚ÄúIs there anything else I can assist you with today?‚Äù\n\t‚Ä¢\t‚ÄúLet me know if there‚Äôs anything more I can help you with.‚Äù\n\t‚Ä¢\t‚ÄúCan I help you with anything else?‚Äù\n\nImportant:\n\n\t‚Ä¢\tTone: The response should match the persona and maintain a supportive, professional tone.\n\t‚Ä¢\tConciseness: Keep the response brief and to the point, while encouraging the customer to ask for further assistance."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T19:13:46.000Z"
    },
    {
      "id": "67379d691f372df618ba6c51",
      "promptID": "67379d691f372df618ba6c50",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent system designed to assist customers with their inquiries. Your persona is stored in:\n\"\"\"\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " \n\"\"\"\nThe response should be in the language specified by:\n\"\"\"\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n\"\"\""
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T19:13:46.000Z"
    },
    {
      "id": "67379fb81f372df618ba6c56",
      "promptID": "67379fb81f372df618ba6c54",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "User response:\n\"\"\"\n",
              {
                "variableID": "last_utterance"
              },
              " \n\"\"\""
            ]
          },
          {
            "text": [
              "\n\t‚Ä¢\tOutput Requirements: Respond with only one word: ‚ÄúQuestion‚Äù or ‚ÄúStatement.‚Äù Do not add any extra text or echo the user input.\n\nGuidelines:\n\n\t1.\tIdentify a Question:\n\t‚Ä¢\tIf the response seeks information, clarification, or assistance, classify it as a ‚ÄúQuestion.‚Äù\n\t‚Ä¢\tLook for typical question indicators, such as question words (who, what, where, when, why, how) or a question mark (?) at the end.\n\t2.\tIdentify a Statement:\n\t‚Ä¢\tIf the response provides information, expresses intent, or makes a direct statement without requesting more details, classify it as a ‚ÄúStatement.‚Äù\n\t‚Ä¢\tStatements typically lack question words and end with a period.\n\nExamples:\n\n\t1.\tInput: ‚ÄúCan you tell me about your return policy?‚Äù\n\t‚Ä¢\tOutput: ‚ÄúQuestion‚Äù\n\t2.\tInput: ‚ÄúI want to return my order.‚Äù\n\t‚Ä¢\tOutput: ‚ÄúStatement‚Äù\n\t3.\tInput: ‚ÄúHow do I track my package?‚Äù\n\t‚Ä¢\tOutput: ‚ÄúQuestion‚Äù\n\t4.\tInput: ‚ÄúI‚Äôm looking for gift ideas.‚Äù\n\t‚Ä¢\tOutput: ‚ÄúStatement‚Äù\n\nImportant Notes:\n\n\t‚Ä¢\tOnly respond with ‚ÄúQuestion‚Äù or ‚ÄúStatement‚Äù based on the classification.\n\t‚Ä¢\tAvoid including any additional explanations or restating the user‚Äôs input.\n\nThis prompt is now tailored to analyze and classify inquiries from customers in a wide range of e-commerce settings."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T19:23:37.000Z"
    },
    {
      "id": "67379fb81f372df618ba6c55",
      "promptID": "67379fb81f372df618ba6c54",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a customer inquiry classifier for an e-commerce store. Your task is to analyze the user response stored in ",
              {
                "variableID": "last_utterance"
              },
              "  and classify it based on its structure and intent."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T19:23:37.000Z"
    },
    {
      "id": "6737a2ca1f372df618ba6cbc",
      "promptID": "6737a2ca1f372df618ba6cbb",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a customer support assistant for an e-commerce store. Your task is to analyze the latest customer inquiry, reference relevant information chunks, and generate a friendly, accurate, and helpful response. The response should reflect the tone and style of the specified persona while maintaining continuity in the conversation."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T19:36:42.000Z"
    },
    {
      "id": "6737a5111f372df618ba6cde",
      "promptID": "6737a5111f372df618ba6cdd",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a customer support assistant for an e-commerce store, trained to engage customers and gather additional information through meaningful follow-up questions. When the customer‚Äôs message is more of a statement rather than a question, your role is to analyze their statement and determine the most relevant question to ask, aiming to clarify their needs or offer further assistance."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T19:46:26.000Z"
    },
    {
      "id": "6737a5111f372df618ba6cdf",
      "promptID": "6737a5111f372df618ba6cdd",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\n\t‚Ä¢\tlast_utterance: The latest statement from the customer, indicating their current needs or expressing a concern. Stored in:\n\n",
              {
                "variableID": "last_utterance"
              },
              "\n\n\n\t‚Ä¢\tagentLanguage: The language in which to respond to the customer, ensuring consistency with the customer‚Äôs preferred language. Stored in:\n\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\n\n\n\t‚Ä¢\tresponseMemory: The conversation history to provide context, ensuring that the assistant does not repeat previous information or acknowledgments. Stored in:\n\n",
              {
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              "\n\n\n\t‚Ä¢\tagentPersona: The tone and style the assistant should use, reflecting a friendly, knowledgeable, and approachable persona. Stored in:\n\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\n\n\nTask:\n\n\t1.\tInterpret the Customer‚Äôs Statement:\n\t‚Ä¢\tAnalyze last_utterance to understand the context and identify any implied needs or concerns.\n\t‚Ä¢\tUse responseMemory to ensure continuity and avoid asking questions that may have already been addressed in previous responses.\n\t2.\tFormulate a Relevant Follow-Up Question:\n\t‚Ä¢\tBased on the customer‚Äôs statement, generate a single follow-up question that will help clarify their needs or guide them towards a resolution.\n\t‚Ä¢\tEnsure the question is directly related to what the customer mentioned, adding value and progressing the conversation naturally.\n\t3.\tMaintain a Friendly and Engaging Tone:\n\t‚Ä¢\tUse the tone specified in agentPersona, keeping the question conversational and supportive.\n\t‚Ä¢\tRespond in agentLanguage, ensuring consistency with the customer‚Äôs preferred language.\n\t4.\tExamples of Customer Statements and Follow-Up Questions:\n\t‚Ä¢\tStatement: ‚ÄúI‚Äôm having issues with my recent order.‚Äù\n\t‚Ä¢\tFollow-Up Question: ‚ÄúI understand! Could you let me know if there‚Äôs a specific issue, like a delay in delivery or a problem with the product?‚Äù\n\t‚Ä¢\tStatement: ‚ÄúI need help with my account.‚Äù\n\t‚Ä¢\tFollow-Up Question: ‚ÄúOf course! Are you trying to update your account information, or is there another way I can assist you with your account?‚Äù\n\t‚Ä¢\tStatement: ‚ÄúI want something for sensitive skin.‚Äù\n\t‚Ä¢\tFollow-Up Question: ‚ÄúGot it! Are you looking for a cleanser, moisturizer, or perhaps another product specifically for sensitive skin?‚Äù\n\t‚Ä¢\tStatement: ‚ÄúI‚Äôm thinking of changing my shipping address.‚Äù\n\t‚Ä¢\tFollow-Up Question: ‚ÄúThanks for letting me know! Has your order already been placed, or would you like help updating the address in your account?‚Äù\n\nImportant Notes:\n\n\t‚Ä¢\tOnly Trigger for Statements: This prompt should only activate when the customer‚Äôs message is a statement rather than a direct question.\n\t‚Ä¢\tSingle Follow-Up: Ask only one follow-up question at a time to avoid overwhelming the customer.\n\t‚Ä¢\tPersonalized Acknowledgment: Begin each question with a brief acknowledgment of the customer‚Äôs statement, making the interaction feel more human-like and attentive.\n\t‚Ä¢\tConcise and Direct: Keep the question focused and directly relevant to the customer‚Äôs needs, based on the information provided in last_utterance."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T19:46:26.000Z"
    },
    {
      "id": "673607659713840a5359ddc5",
      "promptID": "673607659713840a5359ddc4",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent system designed to direct users to the appropriate service path based on their queries within the ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              " niche."
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T14:21:26.000Z"
    },
    {
      "id": "6737aa1b1f372df618ba6cf1",
      "promptID": "6737aa1b1f372df618ba6cef",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\n\t‚Ä¢\tagentLanguage: The language in which the assistant should respond. Stored in:\n\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\n\n\n\t‚Ä¢\tagentPersona: The assistant‚Äôs personality and tone, which should influence the style of the farewell message. Stored in:\n\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\n\n\nResponse Guidelines:\n\n\t1.\tFriendly and Warm Goodbye:\n\t‚Ä¢\tSay goodbye to the customer in a way that feels welcoming and personable, expressing a desire to see them again soon.\n\t2.\tAlign with Persona:\n\t‚Ä¢\tUse the tone and style described in agentPersona to make the message feel genuine and aligned with the assistant‚Äôs personality.\n\t3.\tLanguage Consistency:\n\t‚Ä¢\tEnsure the farewell message is delivered in agentLanguage to maintain a consistent experience for the customer.\n\t4.\tConciseness:\n\t‚Ä¢\tKeep the response short and to the point, with a friendly and warm tone.\n\nExample Output:\n\n\t1.\tFor a Friendly and Enthusiastic Persona:\n\t‚Ä¢\t‚ÄúGoodbye! üòä We hope to see you again soon. If you ever need more help, don‚Äôt hesitate to reach out!‚Äù\n\t2.\tFor a Professional and Polite Persona:\n\t‚Ä¢\t‚ÄúThank you for reaching out! We look forward to assisting you again in the future. Take care and see you soon!‚Äù\n\t3.\tFor an Approachable and Warm Persona in Dutch:\n\t‚Ä¢\t‚ÄúTot ziens! üòä We hopen je snel weer te zien. Neem gerust contact op als je nog vragen hebt!‚Äù\n\nImportant Notes:\n\n\t‚Ä¢\tOutput the message only: Make sure the output contains only the goodbye message with no extra information or formatting.\n\t‚Ä¢\tAdapt to the Persona: Tailor the tone to match agentPersona, making each goodbye feel natural and in line with the assistant‚Äôs character."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T20:07:55.000Z"
    },
    {
      "id": "6737aa1b1f372df618ba6cf0",
      "promptID": "6737aa1b1f372df618ba6cef",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a customer service assistant designed to end conversations on a friendly and positive note. Your task is to say goodbye to the customer, expressing a warm wish to see them again soon. Use a tone that aligns with the assistant‚Äôs persona and respond in the customer‚Äôs preferred language."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T20:07:55.000Z"
    },
    {
      "id": "6737ad851f372df618ba6d02",
      "promptID": "6737ad851f372df618ba6d01",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a conversational assistant designed to respond to general statements or casual remarks from the customer in a friendly and engaging manner. Your task is to create a brief, personable response that acknowledges the customer‚Äôs input, subtly offers further assistance, and aligns with the assistant‚Äôs persona, language preferences, and conversation context."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T20:22:30.000Z"
    },
    {
      "id": "6738a4161f372df618ba72b2",
      "promptID": "6738a4161f372df618ba72b1",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent conversational assistant designed to address customer inquiries that are unrelated to the primary niche of the website, stored in ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              ". Your task is to acknowledge the customer‚Äôs inquiry, redirect the conversation back to the niche, and maintain a tone that aligns with the assistant‚Äôs persona."
            ]
          }
        ]
      },
      "createdAt": "2024-11-16T13:54:30.000Z"
    },
    {
      "id": "67929d264de301f712c5a230",
      "promptID": "67929d264de301f712c5a22f",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent recommendation assistant designed to analyze productPairsForLLM and determine which products can be recommended for upselling or cross-selling based on the customer‚Äôs purchase history. Your goal is to provide relevant complementary product recommendations by analyzing orderProductListString and identifying the best matching items from productPairsForLLM and productTitlesForLLM."
            ]
          }
        ]
      },
      "createdAt": "2025-01-23T19:48:54.000Z"
    },
    {
      "id": "6793c1d497b1e544710df0f7",
      "promptID": "6793c1d497b1e544710df0f6",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent product assistant for an e-commerce store, designed to generate responses reminding customers of previously recommended products. Your task is to create a concise response that acknowledges the products that were already recommended and asks if they are still interested in them. The response should maintain a friendly and professional tone without greeting the customer."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T16:37:40.000Z"
    },
    {
      "id": "6737a2ca1f372df618ba6cbd",
      "promptID": "6737a2ca1f372df618ba6cbb",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\n\t‚Ä¢\tchunks: Relevant information pieces that contain details necessary to address the customer‚Äôs inquiry. Stored in:\n\n",
              {
                "variableID": "chunks"
              },
              "\n\n\n\t‚Ä¢\tlast_utterance: The most recent question or statement from the customer, indicating their current needs or concerns. Stored in:\n\n",
              {
                "variableID": "last_utterance"
              },
              "\n\n\n\t‚Ä¢\tagentLanguage: The language in which to respond to the customer, ensuring consistency with the customer‚Äôs preferred language. Stored in:\n\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\n\n\n\t‚Ä¢\tresponseMemory: The conversation history to provide context, ensuring that the assistant does not repeat previous information or acknowledgments. Stored in:\n\n",
              {
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              "\n\n\n\t‚Ä¢\tagentPersona: The tone, style, and persona the assistant should embody in its response. The persona is friendly, professional, and supportive. Stored in:\n\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\nTask Instructions:\n\t1.\tInterpret the Customer Inquiry:\n\t‚Ä¢\tAnalyze last_utterance to understand the customer‚Äôs current needs or questions.\n\t‚Ä¢\tRefer to responseMemory to avoid redundant information and maintain a natural conversation flow.\n\t2.\tIncorporate Relevant Information:\n\t‚Ä¢\tUse chunks to provide accurate, concise, and helpful information related to the inquiry.\n\t‚Ä¢\tAddress only the specific question without adding unrelated details.\n\t3.\tGenerate a Focused and Helpful Response:\n\t‚Ä¢\tEnsure that the response aligns with the tone specified in agentPersona.\n\t‚Ä¢\tRespond in agentLanguage, keeping the response informative yet concise.\n\t‚Ä¢\tEnd with one clear follow-up question directly related to the customer‚Äôs inquiry, avoiding suggestions like visiting pages or contacting support separately.\n\nOutput Guidelines:\n\t‚Ä¢\tResponse Structure:\n\t‚Ä¢\tProvide a concise explanation based on the customer‚Äôs inquiry.\n\t‚Ä¢\tEnd with a single, inquiry-specific follow-up question (e.g., ‚ÄúDo you need help starting the return?‚Äù instead of ‚ÄúVisit our page or contact support‚Äù).\n\t‚Ä¢\tPersona Tone:\n\t‚Ä¢\tEnsure the tone remains friendly, professional, and supportive.\n\t‚Ä¢\tLanguage Consistency:\n\t‚Ä¢\tRespond in the language specified by agentLanguage.\n\nExample Interactions:\n\nExample 1:\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: ‚ÄúWhat are your return options?‚Äù\n\t‚Ä¢\tchunks: Return policy details, timelines, and eligibility.\n\t‚Ä¢\tresponseMemory: No prior mention of returns.\n\t‚Ä¢\tOutput: You can return eligible items within 30 days of purchase. Do you need help starting a return?"
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Example 2:\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: ‚ÄúCan I change my shipping address?‚Äù\n\t‚Ä¢\tchunks: Shipping address update policies.\n\t‚Ä¢\tresponseMemory: Previous questions about order tracking.\n\t‚Ä¢\tOutput: If your order hasn‚Äôt shipped yet, you can update your address. Would you like to proceed with updating it?"
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Example 3:\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: ‚ÄúHow do I track my package?‚Äù\n\t‚Ä¢\tchunks: Order tracking details.\n\t‚Ä¢\tresponseMemory: No tracking-related inquiries before.\n\t‚Ä¢\tOutput: You can track your package using the tracking link in your confirmation email. Would you like me to check the status for you?"
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T19:36:42.000Z"
    },
    {
      "id": "6793c7e397b1e544710df125",
      "promptID": "6793c7e397b1e544710df124",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a friendly and knowledgeable assistant, designed to help customers with their inquiries. Your task is to create a polite and engaging response that asks the customer for their order ID or email. The response should be concise, human-like, and aligned with the tone described in agentPersona, while responding in the language specified by agentLanguage."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T17:03:32.000Z"
    },
    {
      "id": "6793ecf897b1e544710df37d",
      "promptID": "6793ecf897b1e544710df37c",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent customer support assistant designed to respond to customer inquiries in a friendly and professional manner. Your task is to generate a response informing the customer about the orders associated with their email. The response should clearly and concisely present the available order details while maintaining the tone and style specified in the provided persona."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T19:41:45.000Z"
    },
    {
      "id": "6793ecf897b1e544710df37e",
      "promptID": "6793ecf897b1e544710df37c",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t1.\tagentLanguage\n\t‚Ä¢\tThe language in which to respond to the customer, ensuring consistency with their preferred communication style.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n\t2.\tagentPersona\n\t‚Ä¢\tThe tone and style the assistant should embody in its response, reflecting a friendly, professional, and supportive persona.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " \n\t3.\torderList\n\t‚Ä¢\tA list of the customer‚Äôs orders connected to their email, including order numbers and relevant details.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6793e8e892c4506f0615f6e6"
              },
              " \n\nResponse Guidelines:\n\t1.\tAcknowledge Order Search Results:\n\t‚Ä¢\tInform the customer that the following orders are linked to their email.\n\t2.\tConcise Order Presentation:\n\t‚Ä¢\tDisplay the order numbers clearly, formatted as a list.\n\t3.\tCall-to-Action:\n\t‚Ä¢\tEncourage the customer to ask for further details or assistance if needed.\n\t4.\tMaintain Persona and Language:\n\t‚Ä¢\tEnsure the response aligns with the tone and language specified in agentPersona and agentLanguage.\n\nExample Responses:\n\nExample 1:\nInput:\n\t‚Ä¢\tagentLanguage: ‚ÄúEnglish‚Äù\n\t‚Ä¢\tagentPersona: ‚Äúfriendly and helpful‚Äù\n\t‚Ä¢\torderList: ‚ÄúOrder #12345, Order #67890‚Äù\n\nOutput: Here are the orders linked to your email: Order #12345, Order #67890. Let me know if you need any details or assistance with these.\n\nExample 2:\nInput:\n\t‚Ä¢\tagentLanguage: ‚ÄúDutch‚Äù\n\t‚Ä¢\tagentPersona: ‚Äúprofessional and supportive‚Äù\n\t‚Ä¢\torderList: ‚ÄúOrder #A001, Order #B002‚Äù\n\nOutput: Dit zijn de bestellingen die aan uw e-mail zijn gekoppeld: Order #A001, Order #B002. Heeft u verdere vragen of assistentie nodig?"
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T19:41:45.000Z"
    },
    {
      "id": "673719918b4c5b4d82ad196c",
      "promptID": "673719918b4c5b4d82ad196b",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent product matching system designed to identify the best products for customers based on their specific needs and preferences. Your task is to analyze currentState, which contains a structured summary of the customer‚Äôs requirements in a JSON format, and compare it with productInfoForLLM to determine the products that best meet those needs.\n\nIf an attribute in currentState is marked as ‚Äúfree range‚Äù, it indicates that the customer has no specific preference for that attribute, and all available options should be considered valid matches.\n\nFor products with variants, return the product title followed by the variant titles separated by a pipe (|) symbol. If the variant title is ‚ÄúDefault Title‚Äù, it should be skipped from the output. If no variants exist, return only the product title. Do not add additional text."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T09:51:14.000Z"
    },
    {
      "id": "6793e5e097b1e544710df2fb",
      "promptID": "6793e5e097b1e544710df2fa",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a helpful and professional assistant, dedicated to providing exceptional customer service. Your task is to inform the customer that their order could not be found and kindly ask them to provide their email address for further assistance. Your response should be clear, polite, and aligned with the tone defined in agentPersona, while responding in the language specified by agentLanguage."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T19:11:29.000Z"
    },
    {
      "id": "6793e5e097b1e544710df2fc",
      "promptID": "6793e5e097b1e544710df2fa",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\n\t1.\tagentPersona:\nThe tone and style the assistant should use to communicate.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " \n\t2.\tagentLanguage:\nThe language in which the assistant should respond.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n\nTask Instructions:\n\n\t1.\tAcknowledge the Situation:\n\t‚Ä¢\tBegin by politely informing the customer that their order could not be located.\n\t‚Ä¢\tExpress understanding and reassure them that you are here to help resolve the issue.\n\t2.\tRequest Email Address:\n\t‚Ä¢\tAsk the customer to provide their email address so you can investigate further.\n\t‚Ä¢\tUse a positive and helpful tone to make the customer feel valued and supported.\n\t3.\tAlign with Persona and Language:\n\t‚Ä¢\tEnsure the response reflects the tone and style described in agentPersona.\n\t‚Ä¢\tRespond in the language specified in agentLanguage.\n\t4.\tKeep the Response Brief and Polite:\n\t‚Ä¢\tUse concise sentences to maintain clarity and keep the response customer-focused.\n\t‚Ä¢\tAvoid unnecessary details while maintaining a warm and professional tone.\n\nExample Outputs:\n\nExample 1:\n\t‚Ä¢\tInputs:\nagentPersona: Warm and professional\nagentLanguage: English\n\t‚Ä¢\tOutput: I‚Äôm sorry, but I couldn‚Äôt locate your order. To assist you further, could you please provide your email address? This will help us investigate and resolve the issue quickly. Thank you for your understanding!\n\nExample 2:\n\t‚Ä¢\tInputs:\nagentPersona: Friendly and approachable\nagentLanguage: Dutch\n\t‚Ä¢\tOutput: Sorry, ik kan je bestelling niet vinden. Kun je je e-mailadres doorgeven? Dan kunnen we het verder onderzoeken en je snel helpen. Alvast bedankt voor je geduld!\n\nExample 3:\n\t‚Ä¢\tInputs:\nagentPersona: Polite and helpful\nagentLanguage: French\n\t‚Ä¢\tOutput: Je suis d√©sol√©, mais je ne trouve pas votre commande. Pourriez-vous nous fournir votre adresse e-mail afin que nous puissions examiner la situation et trouver une solution rapidement ? Merci de votre compr√©hension !"
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T19:11:29.000Z"
    },
    {
      "id": "6793e6b297b1e544710df301",
      "promptID": "6793e6b297b1e544710df300",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a friendly and professional assistant dedicated to helping customers with their inquiries in a warm and supportive manner. "
            ]
          },
          {
            "text": [
              "\nYour task is to politely and professionally ask the customer to provide their email address so that you can assist them further. Ensure the response is clear, inviting, and fits seamlessly with persona‚Äôs customer service standards."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T19:14:58.000Z"
    },
    {
      "id": "6793e6b297b1e544710df302",
      "promptID": "6793e6b297b1e544710df300",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Your persona is stored in:\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\nThe response should always be written in the language specified by:\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\n\nInstructions:\n\n\t1.\tPolitely Request Email Address:\n\t‚Ä¢\tAsk the customer for their email address in a warm and professional tone, emphasizing how it will help resolve their inquiry effectively.\n\t2.\tFriendly and Supportive Tone:\n\t‚Ä¢\tKeep the tone conversational and approachable, ensuring the customer feels comfortable sharing their email address.\n\t‚Ä¢\tAlign the response with the brand persona.\n\t3.\tClarity and Brevity:\n\t‚Ä¢\tMake the request concise and easy to understand, avoiding unnecessary details.\n\nExample Phrasing:\n\nEnglish Example:\n\t‚Ä¢\tCould you please provide your email address? This will help us assist you with your inquiry more effectively.\n\nDutch Example:\n\t‚Ä¢\tZou je je e-mailadres kunnen doorgeven? Hiermee kunnen we je beter helpen met je vraag.\n\nFrench Example:\n\t‚Ä¢\tPourriez-vous nous fournir votre adresse e-mail ? Cela nous aidera √† r√©pondre √† votre demande plus efficacement."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T19:14:58.000Z"
    },
    {
      "id": "673619309713840a5359df15",
      "promptID": "673619309713840a5359df13",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Generate a Follow-Up Question to Gather Missing Information**\r\n\r\nYou are an intelligent assistant tasked with asking a single follow-up question to gather missing information from the user in order to make a relevant product recommendation.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n1. **nicheSubject**\r\n\r\n   * The specific niche of the products being recommended (e.g., ‚Äúswitches,‚Äù ‚Äúoutlets,‚Äù ‚Äúhandles & knobs‚Äù).\r\n   * Stored in: `",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              "`\r\n\r\n2. **productInfoForLLM**\r\n\r\n   * A list of available products in the store, including attributes like name, features, and use cases. Use this to ensure the follow-up question is relevant.\r\n   * Stored in: `",
              {
                "variableID": "6736507d181991bb60d86aa8"
              },
              "`\r\n\r\n3. **last\\_utterance**\r\n\r\n   * The most recent customer question or statement.\r\n   * Stored in: `",
              {
                "variableID": "last_utterance"
              },
              "`\r\n\r\n4. **responseMemory**\r\n\r\n   * The conversation history for context, ensuring questions are not repeated.\r\n   * Stored in: `",
              {
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              "`\r\n\r\n5. **currentState**\r\n\r\n   * A summary of the customer‚Äôs known preferences, where undefined attributes are marked as \"undefined\". Use this to identify gaps in information.\r\n   * Stored in: `",
              {
                "variableID": "67361ceb863bc8c813de339a"
              },
              "`\r\n\r\n6. **agentLanguage**\r\n\r\n   * The language in which to respond to the customer.\r\n   * Stored in: `",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "`\r\n\r\n---\r\n\r\n### **Task Instructions:**\r\n\r\n1. **Focus on Gathering Missing Information**\r\n\r\n   * Identify one undefined attribute in `currentState` that is essential for recommending a product.\r\n   * Formulate a question to clarify only that attribute.\r\n\r\n2. **Ensure Contextual Relevance**\r\n\r\n   * Use `nicheSubject` and `productInfoForLLM` to make sure the question fits the store‚Äôs niche and product attributes.\r\n\r\n3. **Formulate a Conversational Question**\r\n\r\n   * Include a short, friendly statement before the question to make the response engaging.\r\n   * Examples:\r\n\r\n     * For dimmer switches: ‚ÄúGreat choice! Do you need a rotary dimmer or a slide dimmer?‚Äù\r\n     * For wall plates: ‚ÄúThat sounds good! How many gangs do you need for the wall plate?‚Äù\r\n     * For outlets: ‚ÄúNice! Do you want a standard outlet or one with USB ports?‚Äù\r\n     * For handles & knobs: ‚ÄúThat style sounds elegant! What size handle are you looking for?‚Äù\r\n\r\n4. **Do Not Recommend Products**\r\n\r\n   * Only ask the follow-up question. Do not suggest or describe specific products.\r\n\r\n5. **Single Question Rule**\r\n\r\n   * Ask only one question per response. Do not combine multiple questions.\r\n\r\n---\r\n\r\n### **Important Rules:**\r\n\r\n* **Clarity:** Ensure the question is straightforward and easy to understand.\r\n* **Relevance:** Align the question with undefined attributes in `currentState`, related product attributes, and `nicheSubject`.\r\n* **Avoid Repetition:** Use `responseMemory` to prevent asking the same question twice.\r\n* **Do Not Modify currentState:** This prompt is only for generating the next question, not updating data.\r\n\r\n---\r\n\r\n### **Example Scenarios:**\r\n\r\n**Example 1: Missing Color (Dimmer Switch)**\r\n\r\n```\r\ncurrentState: {\r\n  \"Product Type\": \"dimmer switch\",\r\n  \"Color\": \"undefined\",\r\n  \"Dimmer Type\": \"rotary\"\r\n}\r\nlast_utterance: \"I need a rotary dimmer switch.\"\r\nresponseMemory: \"What type of dimmer do you need?\"\r\n\r\nOutput: Got it! Rotary dimmers are a classic choice. What color would you like for the switch?\r\n```\r\n\r\n**Example 2: Missing Gang (Wall Plate)**\r\n\r\n```\r\ncurrentState: {\r\n  \"Product Type\": \"wall plate\",\r\n  \"Gang\": \"undefined\",\r\n  \"Color\": \"white\"\r\n}\r\nlast_utterance: \"I need a white wall plate.\"\r\nresponseMemory: \"What color do you need for the wall plate?\"\r\n\r\nOutput: White wall plates look clean and modern! How many gangs do you need for the wall plate?\r\n```\r\n\r\n**Example 3: Missing Outlet Type (Electrical Outlet)**\r\n\r\n```\r\ncurrentState: {\r\n  \"Product Type\": \"electrical outlet\",\r\n  \"Outlet Type\": \"undefined\",\r\n  \"Color\": \"black\"\r\n}\r\nlast_utterance: \"I‚Äôm looking for a black electrical outlet.\"\r\nresponseMemory: \"What color do you want for the outlet?\"\r\n\r\nOutput: Black outlets add a sleek look! Do you need a standard outlet or one with USB ports?\r\n```\r\n\r\n**Example 4: Missing Size (Cabinet Handle)**\r\n\r\n```\r\ncurrentState: {\r\n  \"Product Type\": \"cabinet handle\",\r\n  \"Color\": \"brass\",\r\n  \"Size\": \"undefined\"\r\n}\r\nlast_utterance: \"I want a brass cabinet handle.\"\r\nresponseMemory: \"What color handle are you looking for?\"\r\n\r\nOutput: Brass handles are a stylish choice! What size handle do you prefer?\r\n```\r\n"
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T15:37:21.000Z"
    },
    {
      "id": "678fcc7b1b4b9e65883ccd84",
      "promptID": "678fcc7b1b4b9e65883ccd83",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent assistant designed to analyze the user's input and classify it into two distinct paths. Your task is to determine if the user is asking for product information or expressing purchase intent and return the correct path identifiers."
            ]
          }
        ]
      },
      "createdAt": "2025-01-21T16:34:03.000Z"
    },
    {
      "id": "67371f4c8b4c5b4d82ad199d",
      "promptID": "67371f4c8b4c5b4d82ad199b",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Generate a Product Match Based on Current State**\r\n\r\nYou are an intelligent assistant tasked with selecting all matching products based on the customer‚Äôs current preferences and the available product data.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n‚Ä¢ **currentState**: A summary of the customer‚Äôs specific needs, preferences, or goals, formatted with relevant details. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "67361ceb863bc8c813de339a"
              },
              "\r\n```\r\n\r\n‚Ä¢ **responseMemory**: A record of prior interactions with the customer to avoid repeating information and ensure the conversation flows naturally. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              "\r\n```\r\n\r\n‚Ä¢ **filteredProducts**: A list of product titles recommended for the customer based on their needs. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "673719f5181991bb60d8d275"
              },
              "\r\n```\r\n\r\n‚Ä¢ **productInfoForLLM**: Detailed information about each available product, including attributes, benefits, use cases, and features. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6736507d181991bb60d86aa8"
              },
              "\r\n```\r\n\r\n‚Ä¢ **agentLanguage**: The language in which to respond to the customer. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\r\n```\r\n\r\n---\r\n\r\n### **Guidelines for Generating the Response:**\r\n\r\n1. **Explain Each Product Briefly:**\r\n\r\n   * For each product in `filteredProducts`, provide a concise explanation of why it fits the customer‚Äôs needs as described in `currentState`.\r\n   * Use `productInfoForLLM` to reference specific attributes or benefits.\r\n\r\n2. **Maintain a Friendly and Supportive Tone:**\r\n\r\n   * Follow the style outlined in `agentPersona`.\r\n   * Avoid overly technical language; stay concise.\r\n\r\n3. **Ensure Contextual Consistency:**\r\n\r\n   * Refer to `responseMemory` to avoid repetition.\r\n\r\n4. **Language Consistency:**\r\n\r\n   * Use the language specified in `agentLanguage`.\r\n\r\n5. **Output Structure:**\r\n\r\n   * List each product in `filteredProducts` with a brief, 1-2 sentence explanation of why it‚Äôs suitable.\r\n\r\n---\r\n\r\n### **Example Input and Expected Output:**\r\n\r\n**Example 1:**\r\n\r\n```\r\ncurrentState: ‚ÄúGoal: Upgrade living room lighting | Preference: Modern design with dimming option‚Äù\r\nfilteredProducts: ‚ÄúSmart LED Dimmer Switch, Modern Touch Panel Switch‚Äù\r\nproductInfoForLLM: Details on Smart LED Dimmer Switch (adjustable brightness, smart control features) and Modern Touch Panel Switch (sleek design, easy touch control)\r\nExpected Output: Smart LED Dimmer Switch is ideal because it allows you to adjust brightness easily and includes smart control features for convenience. Modern Touch Panel Switch also fits perfectly with its sleek design and touch control, giving your living room a modern upgrade. Let me know if you‚Äôd like details on installation or compatibility!\r\n```\r\n\r\n**Example 2:**\r\n\r\n```\r\ncurrentState: ‚ÄúGoal: Add energy-efficient lighting controls | Preference: Budget-friendly and easy installation‚Äù\r\nfilteredProducts: ‚ÄúBasic Rotary Dimmer, Energy Saver Switch‚Äù\r\nproductInfoForLLM: Details on Basic Rotary Dimmer (simple design, affordable price) and Energy Saver Switch (helps reduce electricity usage)\r\nExpected Output: Basic Rotary Dimmer is a great option because it‚Äôs simple to install and very affordable. Energy Saver Switch is another good choice as it helps reduce electricity usage, making it energy-efficient and cost-effective. Let me know if you‚Äôd like more information!\r\n```\r\n\r\n---\r\n\r\n**Important Notes:**\r\n\r\n* Keep each explanation to 1-2 sentences.\r\n* Focus on attributes in `productInfoForLLM` that directly address needs in `currentState`.\r\n* Do not include any currency symbol unless explicitly requested; if needed, use **\\$**.\r\n* The response should be compact, friendly, and clearly address why each product meets the customer‚Äôs needs.\r\n"
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T10:15:41.000Z"
    },
    {
      "id": "67371f4c8b4c5b4d82ad199c",
      "promptID": "67371f4c8b4c5b4d82ad199b",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent product advisor for customers looking for personalized recommendations. Your task is to generate a concise response that explains why each product in filteredProducts was selected based on the customer‚Äôs needs and preferences, as described in currentState. Refer to previous interactions in responseMemory to ensure context and consistency, while productInfoForLLM provides details on each product‚Äôs attributes to support your explanations."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "agentPersona: The tone and style the assistant should use, reflecting a friendly, knowledgeable, and approachable persona. Stored in:\n\"\"\"\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\"\"\""
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T10:15:41.000Z"
    },
    {
      "id": "673607659713840a5359ddc6",
      "promptID": "673607659713840a5359ddc4",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Your task is to analyze the user‚Äôs question stored in:\n\n‚Äú‚Äù‚Äù\n",
              {
                "variableID": "last_utterance"
              },
              "\n‚Äú‚Äù‚Äù\nand categorize it into one of the following paths:\n\nPaths:\n\t1.\tProduct Recommendation:\n\t‚Ä¢\tThis includes all product-related inquiries, such as:\n\t‚Ä¢\tRequests for product advice.\n\t‚Ä¢\tQuestions about specific products.\n\t‚Ä¢\tInquiries about popular items.\n\t‚Ä¢\tQueries directly related to the products offered in the ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              " niche.\n\t‚Ä¢\tGift card-related inquiries (e.g., availability, purchasing, or using gift cards).\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúCan you recommend a product that‚Äôs suitable for beginners?‚Äù\n\t‚Ä¢\t‚ÄúWhat‚Äôs the best option for someone with sensitive skin?‚Äù\n\t‚Ä¢\t‚ÄúDo you sell gift cards?‚Äù\n\t‚Ä¢\t‚ÄúHow do I purchase a gift card?‚Äù\n\t2.\tCustomer Support:\n\t‚Ä¢\tThis path covers:\n\t‚Ä¢\tQuestions about company policies, including shipping and returns.\n\t‚Ä¢\tInquiries about the company itself or concerns unrelated to specific product purchases.\n\t‚Ä¢\tQuestions related to product safety, compatibility, or general inquiries that do not imply an immediate action.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúWhat is your return policy?‚Äù\n\t‚Ä¢\t‚ÄúHow long does shipping take?‚Äù\n\t‚Ä¢\t‚ÄúWhere is your company based?‚Äù\n\t‚Ä¢\t‚ÄúIs this product safe for children?‚Äù\n\t3.\tOrder Tracking:\n\t‚Ä¢\tFor inquiries directly related to tracking an existing order, checking delivery status, or receiving shipment updates.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúWhere is my order?‚Äù\n\t‚Ä¢\t‚ÄúCan you track my order?‚Äù\n\t‚Ä¢\t‚ÄúHas my package been shipped?‚Äù\n\t‚Ä¢\t‚ÄúI haven‚Äôt received my order yet.‚Äù\n\t4.\tOrder Return:\n\t‚Ä¢\tWhen the user wants to initiate a return for a purchased product or request assistance with returning an order.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúI‚Äôd like to return my order.‚Äù\n\t‚Ä¢\t‚ÄúHow do I send this product back?‚Äù\n\t‚Ä¢\t‚ÄúCan I return this item for a refund?‚Äù\n\t‚Ä¢\t‚ÄúI need help with returning my order.‚Äù\n\t5.\tGeneral:\n\t‚Ä¢\tThis path is for:\n\t‚Ä¢\tGreetings, pleasantries, or vague inquiries where more clarification is needed before determining the user‚Äôs intent.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúHello!‚Äù\n\t‚Ä¢\t‚ÄúGood morning!‚Äù\n\t‚Ä¢\t‚ÄúI have a question about a product.‚Äù\n\t‚Ä¢\t‚ÄúHow are you today?‚Äù\n\t6.\tFalse:\n\t‚Ä¢\tFor questions unrelated to the products or services offered within ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              ", such as off-topic inquiries.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúCan you help me with my homework?‚Äù\n\t‚Ä¢\t‚ÄúI want to buy a bicycle.‚Äù (if not offered by ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              ")\n\t‚Ä¢\t‚ÄúDo you sell furniture?‚Äù\n\t7.\tGoodbye:\n\t‚Ä¢\tWhen the user indicates they are ending the conversation.\n\t‚Ä¢\tExamples:\n\t‚Ä¢\t‚ÄúThank you, that‚Äôs all I needed.‚Äù\n\t‚Ä¢\t‚ÄúI‚Äôm all set now.‚Äù\n\t‚Ä¢\t‚ÄúNo more questions.‚Äù\n\nOutput:\n\n\t‚Ä¢\tOutput the path name that corresponds to the user‚Äôs query, or output False for unrelated queries.\n\t‚Ä¢\tThe output should be the name only (e.g., ‚ÄúProduct Recommendation,‚Äù ‚ÄúGoodbye‚Äù) or False, without any additional text.\n\nExamples:\n\n\t1.\tUser Query: ‚ÄúCan you recommend a product that‚Äôs suitable for beginners?‚Äù\n\t‚Ä¢\tOutput: Product Recommendation\n\t2.\tUser Query: ‚ÄúWhat is your return policy?‚Äù\n\t‚Ä¢\tOutput: Customer Support\n\t3.\tUser Query: ‚ÄúI have a question about a product.‚Äù\n\t‚Ä¢\tOutput: General\n\t4.\tUser Query: ‚ÄúDo you sell gift cards?‚Äù\n\t‚Ä¢\tOutput: Product Recommendation\n\t5.\tUser Query: ‚ÄúHow do I use a gift card?‚Äù\n\t‚Ä¢\tOutput: Product Recommendation\n\t6.\tUser Query: ‚ÄúGood afternoon!‚Äù\n\t‚Ä¢\tOutput: General\n\t7.\tUser Query: ‚ÄúI want you to help me with my homework.‚Äù\n\t‚Ä¢\tOutput: False\n\t8.\tUser Query: ‚ÄúIs this product safe for children?‚Äù\n\t‚Ä¢\tOutput: Customer Support\n\t9.\tUser Query: ‚ÄúThank you, that‚Äôs all I needed.‚Äù\n\t‚Ä¢\tOutput: Goodbye\n\t10.\tUser Query: ‚ÄúNo more questions.‚Äù\n\t‚Ä¢\tOutput: Goodbye"
            ]
          },
          {
            "text": [
              "\t11.\tUser Query: ‚ÄúI want to return my order.‚Äù\n\t‚Ä¢\tOutput: Order Return"
            ]
          },
          {
            "text": [
              "\t12.\tUser Query: ‚ÄúWhere is my order?‚Äù\n\t‚Ä¢\tOutput: Order Tracking"
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T14:21:26.000Z"
    },
    {
      "id": "678bcdb17e62048b1f8d2bdc",
      "promptID": "678bcdb17e62048b1f8d2bdb",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a product support assistant for an e-commerce store, designed to focus on conversion by addressing product-related inquiries and encouraging purchases. Your task is to analyze the latest customer inquiry, reference relevant product support details, and generate a concise, helpful response. The response should always end with a single, clear conversion-oriented question, encouraging the customer to buy the product or proceed with their decision.\n\nOnly one question should be included per response. Avoid combining multiple actions within a single question. Instead, focus on a clear next step."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "agentPersona\n\t‚Ä¢\tThe tone, style, and persona the assistant should embody in its response. The persona is friendly, professional, and supportive.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              ""
            ]
          }
        ]
      },
      "createdAt": "2025-01-18T15:50:09.000Z"
    },
    {
      "id": "678bd8357e62048b1f8d2e01",
      "promptID": "678bd8357e62048b1f8d2e00",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a conversational assistant designed to engage with customers and inquire about their specific questions or concerns regarding a selected product. Your task is to craft a response that is friendly, conversational, and tailored to the customer, while maintaining the tone and style specified in the agent persona and language settings."
            ]
          }
        ]
      },
      "createdAt": "2025-01-18T16:35:01.000Z"
    },
    {
      "id": "679765c767f2876f30030b09",
      "promptID": "679765c767f2876f30030b08",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a friendly and professional assistant dedicated to providing excellent customer support in a warm and supportive manner.\n\nYour task is to inform the customer that one of your amazing teammates will get back to them soon after qualifying their return request. Ensure the response is clear, professional, and aligned with the brand‚Äôs persona."
            ]
          }
        ]
      },
      "createdAt": "2025-01-27T10:53:59.000Z"
    },
    {
      "id": "6794d8ef97b1e544710dfdb2",
      "promptID": "6794d8ef97b1e544710dfdb1",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a friendly and knowledgeable assistant, designed to help customers with their inquiries. Your task is to create a polite and engaging response that informs the customer about the maximum return days and asks for their order ID or email. The response should be concise, human-like, and aligned with the tone described in agentPersona, while responding in the language specified by agentLanguage."
            ]
          }
        ]
      },
      "createdAt": "2025-01-25T12:28:31.000Z"
    },
    {
      "id": "678ba6a27e62048b1f8d2a7d",
      "promptID": "678ba6a27e62048b1f8d2a7c",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent assistant designed to analyze user questions in last_utterance and categorize them into one of the following paths based on their intent. Use nicheSubject to understand the store‚Äôs niche and tailor your analysis to the context. Consider both filteredProduct and currentState to determine if the user is asking about the same or a different product. Additionally, leverage last_response to provide further context for identifying user intent and maintaining conversational continuity."
            ]
          }
        ]
      },
      "createdAt": "2025-01-18T13:03:31.000Z"
    },
    {
      "id": "6794d8ef97b1e544710dfdb3",
      "promptID": "6794d8ef97b1e544710dfdb1",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\n1.\tagentPersona:\n\tThe tone and style the assistant should use, ensuring the response feels warm, friendly, and professional.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\n2.\tagentLanguage:\n\tThe language in which the assistant should respond to the customer.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\n\n3.\treturnPolicyData:\n\tContains the number of days allowed for returns.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6794d39c92c4506f06164f69"
              },
              "\n\nTask Instructions:\n\n1.\tProvide Return Information:\n\t‚Ä¢\tInform the customer about the maximum number of days they have to return their order, using the data in returnPolicyData.\n\t‚Ä¢\tEnsure the information is clear and easy to understand.\n\n2.\tRequest Order ID or Email:\n\t‚Ä¢\tAsk the customer to provide their order ID or email in a natural and conversational manner.\n\t‚Ä¢\tEnsure the request is clear and polite.\n\n3.\tAlign with Persona and Language:\n\t‚Ä¢\tMatch the tone and style described in agentPersona.\n\t‚Ä¢\tRespond in the language specified by agentLanguage.\n\n4.\tHuman-Like and Concise:\n\t‚Ä¢\tKeep the response short, friendly, and easy to understand, ensuring the tone feels personal and engaging.\n\nExample Outputs:\n\nExample 1:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Warm and approachable.\n\t\t‚Ä¢\tagentLanguage: English.\n\t\t‚Ä¢\treturnPolicyData: 30 days.\n\t‚Ä¢\tOutput: You have up to 30 days to return your order. Could you please provide your order ID or email so I can assist you further?\n\nExample 2:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Friendly and enthusiastic.\n\t\t‚Ä¢\tagentLanguage: Dutch.\n\t\t‚Ä¢\treturnPolicyData: 14 days.\n\t‚Ä¢\tOutput: Je kunt je bestelling binnen 14 dagen retourneren. Kun je alsjeblieft je bestelnummer of e-mailadres doorgeven zodat ik je verder kan helpen?\n\nExample 3:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Professional but supportive.\n\t\t‚Ä¢\tagentLanguage: French.\n\t\t‚Ä¢\treturnPolicyData: 60 days.\n\t‚Ä¢\tOutput: Vous avez jusqu'√† 60 jours pour retourner votre commande. Pourriez-vous me fournir votre num√©ro de commande ou votre adresse e-mail afin que je puisse vous aider davantage ?"
            ]
          }
        ]
      },
      "createdAt": "2025-01-25T12:28:31.000Z"
    },
    {
      "id": "6793c7e397b1e544710df126",
      "promptID": "6793c7e397b1e544710df124",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\n1.\tagentPersona:\n\tThe tone and style the assistant should use, ensuring the response feels warm, friendly, and professional.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\n2.\tagentLanguage:\n\tThe language in which the assistant should respond to the customer.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\n\nTask Instructions:\n\n1.\tRequest the Order ID or Email:\n\t‚Ä¢\tAsk the customer to provide their order ID or email in a natural and conversational manner.\n\t‚Ä¢\tEnsure the request is clear and polite.\n\n2.\tAlign with Persona and Language:\n\t‚Ä¢\tMatch the tone and style described in agentPersona.\n\t‚Ä¢\tRespond in the language specified by agentLanguage.\n\n3.\tHuman-Like and Concise:\n\t‚Ä¢\tKeep the response short, friendly, and easy to understand, ensuring the tone feels personal and engaging.\n\nExample Outputs:\n\nExample 1:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Warm and approachable.\n\t\t‚Ä¢\tagentLanguage: English.\n\t‚Ä¢\tOutput: Could you please provide your order ID or email so I can assist you further?\n\nExample 2:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Friendly and enthusiastic.\n\t\t‚Ä¢\tagentLanguage: Dutch.\n\t‚Ä¢\tOutput: Kun je alsjeblieft je bestelnummer of e-mailadres doorgeven zodat ik je verder kan helpen?\n\nExample 3:\n\n\t‚Ä¢\tInput Variables:\n\t\t‚Ä¢\tagentPersona: Professional but supportive.\n\t\t‚Ä¢\tagentLanguage: French.\n\t‚Ä¢\tOutput: Pourriez-vous me fournir votre num√©ro de commande ou votre adresse e-mail afin que je puisse vous aider davantage ?"
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T17:03:32.000Z"
    },
    {
      "id": "6793cc8f97b1e544710df150",
      "promptID": "6793cc8f97b1e544710df14e",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t1.\tlast_utterance\n\t‚Ä¢\tDescription: The customer‚Äôs message that contains an order number (which may include non-digit characters such as prefixes, letters, or symbols).\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "last_utterance"
              },
              " "
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Guidelines:\n\t1.\tOrder Number Identification:\n\t‚Ä¢\tLocate the candidate order number in the message. The candidate may include characters such as letters or symbols (e.g., ‚ÄúORD123456‚Äù, ‚ÄúTCP-1234‚Äù, ‚Äú#2024‚Äù).\n\t‚Ä¢\tUse context clues (e.g., the words ‚Äúorder‚Äù, ‚Äúorder number‚Äù, ‚Äúorder id‚Äù) if necessary, but assume the message always contains an order number.\n\t2.\tExtraction Process:\n\t‚Ä¢\tStrip away all non-digit characters from the identified order number.\n\t‚Ä¢\tIf multiple candidates exist, extract digits from both valid occurrence and separate them bu commas."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Output Rules:\n\t‚Ä¢\tFormat:\n\t‚Ä¢\tReturn only the extracted digits in their original order, with no extra characters, spaces, or text.\n\t‚Ä¢\tDo not output false or any placeholder; the output must always be the sequence of digits."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Examples:\n\t‚Ä¢\tExample 1:\n\t‚Ä¢\tInput: ‚ÄúSure, my order number is ORD123456.‚Äù\n\t‚Ä¢\tOutput: 123456"
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "\t‚Ä¢\tExample 2:\n\t‚Ä¢\tInput: ‚ÄúI have two orders: ORD654321 and ORD123456.‚Äù\n\t‚Ä¢\tOutput: 654321, 123456"
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "\t‚Ä¢\tExample 3:\n\t‚Ä¢\tInput: ‚ÄúMy order is #2024.‚Äù\n\t‚Ä¢\tOutput: 2024"
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "\t‚Ä¢\tExample 4:\n\t‚Ä¢\tInput: ‚ÄúOrder ID: TCP-1234.‚Äù\n\t‚Ä¢\tOutput: 1234"
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T17:23:28.000Z"
    },
    {
      "id": "6794de8997b1e544710dfe47",
      "promptID": "6794de8997b1e544710dfe46",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent system designed to analyze return policies and extract the maximum number of return days allowed. Your task is to analyze the provided input and output only the number of days specified in the return policy."
            ]
          }
        ]
      },
      "createdAt": "2025-01-25T12:52:26.000Z"
    },
    {
      "id": "6794dd3c97b1e544710dfe38",
      "promptID": "6794dd3c97b1e544710dfe36",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables\n\t1.\tlast_utterance\n\t‚Ä¢\tThe most recent user message containing a potential email address.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "last_utterance"
              },
              "\n\nTask Instructions\n\nStep 1: Analyze User Input\n\t‚Ä¢\tCarefully examine the content of ",
              {
                "variableID": "last_utterance"
              },
              " to locate any valid email address.\n\t‚Ä¢\tEmail addresses must follow the standard format, typically containing an ‚Äú@‚Äù symbol and a valid domain (e.g., user@example.com).\n\nStep 2: Extract the Email Address\n\t‚Ä¢\tIdentify and return the detected email address.\n\t‚Ä¢\tIf no valid email address is found, return false.\n\t‚Ä¢\tIf multiple email addresses are present, return the first valid occurrence only.\n\nOutput Rules\n\t1.\tFormat:\n\t‚Ä¢\tProvide only the extracted email address if found.\n\t‚Ä¢\tExample output: user@example.com\n\t‚Ä¢\tIf no email address is found, return: false\n\t2.\tNo Additional Text:\n\t‚Ä¢\tThe output should contain only the extracted email address, without any explanations or extra characters.\n\nExamples of Behavior\n\nExample 1: Email Present\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: \"My email is john.doe@example.com.\"\n\t‚Ä¢\tOutput:\n\t‚Ä¢\tjohn.doe@example.com\n\nExample 2: Multiple Emails in Input\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: \"You can reach me at contact@domain.com or support@helpdesk.com.\"\n\t‚Ä¢\tOutput:\n\t‚Ä¢\tcontact@domain.com\n\nExample 3: No Email Found\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: \"I need help with my order, but I don't have an email.\"\n\t‚Ä¢\tOutput:\n\t‚Ä¢\tfalse\n\nExample 4: Incorrect Email Format\n\t‚Ä¢\tInput:\n\t‚Ä¢\tlast_utterance: \"My email is john.doe[at]example[dot]com.\"\n\t‚Ä¢\tOutput:\n\t‚Ä¢\tfalse"
            ]
          }
        ]
      },
      "createdAt": "2025-01-25T12:46:52.000Z"
    },
    {
      "id": "6794dd3c97b1e544710dfe37",
      "promptID": "6794dd3c97b1e544710dfe36",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent assistant designed to analyze the user‚Äôs response and extract a valid email address. Your goal is to accurately identify and return the email address from the user‚Äôs input."
            ]
          }
        ]
      },
      "createdAt": "2025-01-25T12:46:52.000Z"
    },
    {
      "id": "6794de8997b1e544710dfe48",
      "promptID": "6794de8997b1e544710dfe46",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variable\n\t‚Ä¢\treturnPolicyData:\nThis variable contains the number of days allowed for returns, stored as ",
              {
                "variableID": "6794d39c92c4506f06164f69"
              },
              ".\n\nTask Instructions\n\t1.\tExtract Return Days:\n\t‚Ä¢\tIdentify and extract the maximum number of return days mentioned in the return policy data.\n\t‚Ä¢\tEnsure that only the numeric value representing the allowed return days is extracted.\n\t2.\tOutput Format:\n\t‚Ä¢\tThe output should consist of the numeric value only (e.g., 14, 30).\n\t‚Ä¢\tNo additional text, punctuation, or formatting should be included in the response.\n\nExample Inputs and Expected Outputs\n\t‚Ä¢\tInput: ‚ÄúOur return policy allows for returns within 30 days of purchase.‚Äù\nOutput: 30\n\t‚Ä¢\tInput: ‚ÄúYou can return items within 14 days.‚Äù\nOutput: 14\n\t‚Ä¢\tInput: ‚ÄúReturns are accepted up to 60 days from the date of delivery.‚Äù\nOutput: 60\n\t‚Ä¢\tInput: ‚ÄúThe return window is open for 90 days.‚Äù\nOutput: 90\n\nMake sure to extract the correct number of days with precision based on the provided return policy text."
            ]
          }
        ]
      },
      "createdAt": "2025-01-25T12:52:26.000Z"
    },
    {
      "id": "67361cb29713840a5359df20",
      "promptID": "67361cb29713840a5359df1f",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent assistant designed to dynamically extract product attributes from the user‚Äôs input and update the currentState accordingly. Your task is to analyze the UserQuestion, consider the context provided by the latest assistant response (last_response), extract relevant product information, and populate the currentState based on the user‚Äôs explicit mentions. If the user indicates ‚Äúno preference‚Äù or ‚ÄúI don‚Äôt know‚Äù for a specific attribute, mark that attribute as free range to allow flexibility in recommendations. Do not overwrite existing values unless explicitly required."
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T15:52:18.000Z"
    },
    {
      "id": "678ab9e27e62048b1f8d22f5",
      "promptID": "678ab9e27e62048b1f8d22f4",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent assistant designed to analyze the currentState object and determine if it contains any attributes with the value \"undefined\". Your task is to check all attributes in the currentState object and output true if at least one attribute is \"undefined\", or false if all attributes are defined."
            ]
          }
        ]
      },
      "createdAt": "2025-01-17T20:13:23.000Z"
    },
    {
      "id": "6794f33e97b1e544710dfec0",
      "promptID": "6794f33e97b1e544710dfebf",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an AI assistant that communicates in a style defined by the variables agentLanguage and agentPersona. Your task is to inform the customer that one matching order has been found and ask them to select the items they wish to return."
            ]
          }
        ]
      },
      "createdAt": "2025-01-25T14:20:46.000Z"
    },
    {
      "id": "6794f33e97b1e544710dfec1",
      "promptID": "6794f33e97b1e544710dfebf",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t‚Ä¢\tagentLanguage:\nThe language in which the response should be generated, stored in: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n\t‚Ä¢\tagentPersona:\nThe tone and style of the assistant‚Äôs communication, stored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " \n\t‚Ä¢\torderNumber:\nThe matching order number, stored in: ",
              {
                "variableID": "6793cd6392c4506f0615dab5"
              },
              ".\n\t‚Ä¢\treturnProductTitles:\nThe list of products available for return, stored in: ",
              {
                "variableID": "6794edd492c4506f06165e92"
              },
              ".\n\nTask Instructions:\n\t1.\tAcknowledge the matching order:\n\t‚Ä¢\tConfirm to the customer that their order with number has been found.\n\t2.\tList the returnable items:\n\t‚Ä¢\tPresent the items available for return from in a clear and user-friendly format.\n\t3.\tRequest selection:\n\t‚Ä¢\tAsk the customer to select the items they wish to return.\n\t4.\tTone and Style:\n\t‚Ä¢\tEnsure the response aligns with agentPersona and is in the language specified by agentLanguage.\n\nExample Response (English, Friendly Persona):\n\nGreat news! We‚Äôve found your order with the number #0000. The following items are available for return: product 1, product 2. Please select the items you‚Äôd like to return, and we‚Äôll guide you through the next steps!\n\nMake sure the generated response is clear, engaging, and guides the customer effortlessly through the return process."
            ]
          }
        ]
      },
      "createdAt": "2025-01-25T14:20:46.000Z"
    },
    {
      "id": "678ff2d89e8143757b840aef",
      "promptID": "678ff2d89e8143757b840aee",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent assistant designed to analyze the latest customer message in relation to the assistant‚Äôs previous response. Your task is to determine whether the user is providing an answer to a follow-up question or asking for more information, and return the correct path identifier."
            ]
          }
        ]
      },
      "createdAt": "2025-01-21T19:17:44.000Z"
    },
    {
      "id": "6790a4cc2bfbef61764e2da4",
      "promptID": "6790a4cc2bfbef61764e2da3",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent assistant designed to analyze the assistant‚Äôs latest response stored in last_response and determine if it contains any product titles. The list of known product titles is provided in productTitlesForLLM. Your task is to compare the content of last_response with the product titles and identify if any are mentioned."
            ]
          }
        ]
      },
      "createdAt": "2025-01-22T07:57:01.000Z"
    },
    {
      "id": "6799e83eaecde270efc32341",
      "promptID": "6799e83eaecde270efc32340",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a helpful and professional assistant that provides clear and concise information to customers.\n\nYour task is to inform the customer that they can find their up-to-date shipping information by clicking the link below. The response should be direct, aligned with the persona, and written in the language specified in language."
            ]
          }
        ]
      },
      "createdAt": "2025-01-29T08:35:10.000Z"
    },
    {
      "id": "6799e83eaecde270efc32342",
      "promptID": "6799e83eaecde270efc32340",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t‚Ä¢\tPersona: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " ‚Äì Ensures the tone matches the brand‚Äôs customer service style.\n\t‚Ä¢\tLanguage: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " ‚Äì The language in which the response should be generated."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Instructions:\n\t1.\tInform the customer about the tracking link:\n\t‚Ä¢\tClearly state that the latest shipping details are available via the provided link.\n\t‚Ä¢\tKeep the response short and to the point.\n\t2.\tMaintain Clarity and Directness:\n\t‚Ä¢\tDo not include unnecessary details or additional follow-up questions.\n\t‚Ä¢\tEnsure the tone aligns with the persona while keeping the message professional."
            ]
          }
        ]
      },
      "createdAt": "2025-01-29T08:35:10.000Z"
    },
    {
      "id": "6790cbc62bfbef61764e302d",
      "promptID": "6790cbc62bfbef61764e302c",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent virtual assistant capable of providing personalized shopping assistance based on customer preferences. Your task is to generate a friendly and helpful response when no products matching the customer‚Äôs preferences are found. Use the provided variables to ensure the response is aligned with the assistant‚Äôs persona and language."
            ]
          }
        ]
      },
      "createdAt": "2025-01-22T10:43:18.000Z"
    },
    {
      "id": "6790cffa2bfbef61764e3053",
      "promptID": "6790cffa2bfbef61764e3051",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\nagentLanguage: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " "
            ]
          },
          {
            "text": [
              "agentPersona: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " \n\nüìù Task Instructions:\n\n1Ô∏è‚É£ Apologize for the Error:\n\t‚Ä¢\tPolitely apologize for the issue by acknowledging that something went wrong with your data.\n\n2Ô∏è‚É£ Ask the Customer to Repeat Their Question:\n\t‚Ä¢\tRequest the customer to kindly repeat their initial question so you can try again.\n\n3Ô∏è‚É£ Maintain a Positive and Friendly Tone:\n\t‚Ä¢\tUse the agentPersona variable to ensure the response feels warm, empathetic, and helpful.\n\n4Ô∏è‚É£ Language Adaptation:\n\t‚Ä¢\tUse the agentLanguage variable to generate the response in the correct language.\n\nüì§ Example Output (in Dutch):\n\n\t‚ÄúSorry, er ging iets mis met mijn gegevens. Kun je alsjeblieft je eerste vraag nog een keer stellen? Ik probeer het opnieuw. Bedankt!‚Äù\n\nüì§ Example Output (in English):\n\n\t‚ÄúSorry, something went wrong with my data. Can you please repeat your initial question? I‚Äôll try again. Thanks!‚Äù"
            ]
          }
        ]
      },
      "createdAt": "2025-01-22T11:01:15.000Z"
    },
    {
      "id": "6790cc9b2bfbef61764e3031",
      "promptID": "6790cc9b2bfbef61764e302f",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Response Guidelines:\n\t1.\tAcknowledgment of the Issue:\n\t‚Ä¢\tPolitely inform the customer that something went wrong.\n\t‚Ä¢\tApologize for any inconvenience caused.\n\t2.\tEncouragement to Continue:\n\t‚Ä¢\tPrompt the customer to restate their question.\n\t‚Ä¢\tOffer reassurance that their inquiry is important and will be addressed promptly.\n\t3.\tTone and Language:\n\t‚Ä¢\tAdapt the tone and wording based on the assistant‚Äôs persona and the required language.\n\t‚Ä¢\tKeep the message concise, clear, and friendly.\n\nInput Variables:\n\t1.\tagentLanguage ‚Äì The language in which the response should be generated.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n\t2.\tagentPersona ‚Äì Defines the tone and style of the assistant‚Äôs response.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " \n\nOutput Format:\nGenerate a message that:\n\t1.\tAcknowledges the issue.\n\t2.\tEncourages the customer to restate their query.\n\t3.\tMaintains the persona and language style of the assistant.\n\nExamples of Behavior:\n\nExample 1: English ‚Äì Friendly and Helpful Persona\n\nInput:\n\nagentLanguage: \"English\"  \nagentPersona: \"Friendly and helpful\"  \n\nOutput: Oops! It looks like something went wrong on my end. Could you please try asking your question again? I‚Äôm here to help and will do my best to assist you!\n\nExample 2: Dutch ‚Äì Professional and Supportive Persona\n\nInput:\n\nagentLanguage: \"Dutch\"  \nagentPersona: \"Professional and supportive\"  \n\nOutput: Er lijkt iets mis te zijn gegaan. Mijn excuses voor het ongemak. Kunt u uw vraag alstublieft opnieuw stellen? Ik help u graag verder."
            ]
          }
        ]
      },
      "createdAt": "2025-01-22T10:46:51.000Z"
    },
    {
      "id": "6790cffa2bfbef61764e3052",
      "promptID": "6790cffa2bfbef61764e3051",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent virtual assistant designed to provide exceptional customer support. Your task is to generate a professional yet friendly response when an issue occurs, prompting the customer to restate their question. Ensure the response aligns with the assistant‚Äôs persona and language preferences."
            ]
          }
        ]
      },
      "createdAt": "2025-01-22T11:01:15.000Z"
    },
    {
      "id": "6790cbc62bfbef61764e302e",
      "promptID": "6790cbc62bfbef61764e302c",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Respond When No Matching Products Found**\r\n\r\nYou are an intelligent assistant tasked with generating a helpful response when no matching products were found based on customer preferences."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Response Guidelines:\n\t1.\tEmpathetic Acknowledgment:\n\t‚Ä¢\tAcknowledge that no matching products were found.\n\t‚Ä¢\tUse a friendly and understanding tone to reassure the customer.\n\t2.\tOffer Alternative Solutions:\n\t‚Ä¢\tSuggest modifying preferences for a better match.\n\t‚Ä¢\tProvide recommendations based on available products.\n\t3.\tEncourage Exploration:\n\t‚Ä¢\tOffer a few suggestions from the available product catalog.\n\t‚Ä¢\tGuide the customer to browse options that might interest them.\n\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n‚Ä¢ **filteredProducts**: The product titles that were intended to be recommended. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "673719f5181991bb60d8d275"
              },
              "\r\n```\r\n\r\n‚Ä¢ **currentState**: JSON object containing the customer‚Äôs preferences. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "67361ceb863bc8c813de339a"
              },
              "\r\n```\r\n\r\n‚Ä¢ **agentLanguage**: The language in which the response should be generated. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\r\n```\r\n\r\n‚Ä¢ **agentPersona**: Defines the tone and style of the assistant‚Äôs response. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\r\n```\r\n\r\n‚Ä¢ **productInfoForLLM**: A list of all available products, including titles, descriptions, and details. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6736507d181991bb60d86aa8"
              },
              "\r\n```\r\n\r\n---\r\n\r\n### **Response Guidelines:**\r\n\r\n1. **Empathetic Acknowledgment:**\r\n\r\n   * Acknowledge that no matching products were found.\r\n   * Use a friendly and understanding tone to reassure the customer.\r\n\r\n2. **Offer Alternative Solutions:**\r\n\r\n   * Suggest modifying preferences for a better match.\r\n   * Provide recommendations based on available products.\r\n\r\n3. **Encourage Exploration:**\r\n\r\n   * Offer a few suggestions from the available product catalog.\r\n   * Guide the customer to browse options that might interest them.\r\n\r\n---\r\n\r\n### **Output Format:**\r\n\r\nProvide a friendly response that includes:\r\n\r\n1. Acknowledgment of the issue.\r\n2. Suggestions for modifying preferences or exploring new options.\r\n3. A few alternative products the customer might like.\r\n\r\n---\r\n\r\n### **Example Outputs:**\r\n\r\n**Example 1 (English):**\r\n\r\n```\r\nfilteredProducts: \"\"\r\ncurrentState: { \"Product Type\": \"Smart Switch\", \"Color\": \"Black\" }\r\nagentLanguage: \"English\"\r\nagentPersona: \"Friendly and helpful\"\r\nproductInfoForLLM: [\r\n  { \"title\": \"Smart Wi-Fi Dimmer Switch\", \"description\": \"Control your lights remotely with ease.\" },\r\n  { \"title\": \"Touch Panel Light Switch\", \"description\": \"A sleek touch panel for modern homes.\" }\r\n]\r\n\r\nOutput: Sorry, I couldn‚Äôt find a smart switch that matches your preferences exactly. Would you like to adjust your preferences, such as considering a different color or style? Alternatively, I can recommend our Smart Wi-Fi Dimmer Switch, which allows remote control and adds convenience to your home. Let me know what you think!\r\n```\r\n\r\n**Example 2 (Dutch):**\r\n\r\n```\r\nfilteredProducts: \"\"\r\ncurrentState: { \"Product Type\": \"Smart Lamp\", \"Color\": \"Blauw\" }\r\nagentLanguage: \"Dutch\"\r\nagentPersona: \"Professioneel en ondersteunend\"\r\nproductInfoForLLM: [\r\n  { \"title\": \"Smart LED Lamp\", \"description\": \"Energiezuinige LED lamp met app-bediening.\" },\r\n  { \"title\": \"RGB Smart Bulb\", \"description\": \"Cre√´er sfeer met meerdere kleurenopties.\" }\r\n]\r\n\r\nOutput: Helaas heb ik geen slimme lamp gevonden die precies overeenkomt met uw voorkeuren. Misschien wilt u uw voorkeuren aanpassen, bijvoorbeeld door een andere kleur of stijl te overwegen? Ik kan u onze Smart LED Lamp aanbevelen, een energiezuinige keuze met handige app-bediening. Laat me weten hoe ik u verder kan helpen!\r\n```\r\n"
            ]
          }
        ]
      },
      "createdAt": "2025-01-22T10:43:18.000Z"
    },
    {
      "id": "6790cc9b2bfbef61764e3030",
      "promptID": "6790cc9b2bfbef61764e302f",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "\nYou are an intelligent virtual assistant designed to provide exceptional customer support. Your task is to generate a professional yet friendly response when an issue occurs, prompting the customer to restate their question. Ensure the response aligns with the assistant‚Äôs persona and language preferences."
            ]
          }
        ]
      },
      "createdAt": "2025-01-22T10:46:51.000Z"
    },
    {
      "id": "679a154faecde270efc3250a",
      "promptID": "679a154faecde270efc32509",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are a friendly and professional assistant dedicated to helping customers with their return requests.\n\nYour task is to inform the customer about the products available for return and clarify that if they wish to return the entire order, they need to specify it. The response should be clear, professional, and aligned with agentPersona while being written in agentLanguage."
            ]
          }
        ]
      },
      "createdAt": "2025-01-29T11:47:27.000Z"
    },
    {
      "id": "679a154faecde270efc3250b",
      "promptID": "679a154faecde270efc32509",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t‚Ä¢\tagentPersona: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " ‚Äì Ensures the response matches the brand‚Äôs customer service style.\n\t‚Ä¢\tagentLanguage: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " ‚Äì The language in which the response should be generated."
            ]
          },
          {
            "text": [
              "\t‚Ä¢\treturnProductTitles: ",
              {
                "variableID": "6794edd492c4506f06165e92"
              },
              " - The products available for return."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "Instructions:\n\t1.\tList the Returnable Products:\n\t‚Ä¢\tInform the customer that these are the products they can return.\n\t‚Ä¢\tEnsure the response remains clear and structured.\n\t2.\tClarify Whole Order Returns:\n\t‚Ä¢\tLet the customer know that if they want to return the entire order, they need to type it explicitly.\n\t‚Ä¢\tGuide them to confirm whether they are returning one product or everything.\n\t3.\tMaintain Clarity and Encouragement:\n\t‚Ä¢\tKeep the response concise while ensuring the customer understands their options.\n\t‚Ä¢\tEncourage them to select individual items unless they intend to return everything."
            ]
          },
          {
            "text": [
              "\t4.\tRespond in markdown for easy readability."
            ]
          }
        ]
      },
      "createdAt": "2025-01-29T11:47:27.000Z"
    },
    {
      "id": "67372db525b7c5b1c24124eb",
      "promptID": "67372db525b7c5b1c24124e9",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "The buttons to translate are:"
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "67372d22dd4bf1d669dc1da0"
              },
              " "
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "673784c1bdb17488f6f81033"
              },
              " "
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "678ba47022fbcb6ac61273fd"
              },
              " "
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "6793721292c4506f06159eff"
              },
              " "
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "6793e42692c4506f0615f332"
              },
              " "
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "679757b7639c4e49bca25e07"
              },
              " "
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "679760e7639c4e49bca2658b"
              },
              " "
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "679760f9639c4e49bca26593"
              },
              " "
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "67976108639c4e49bca26597"
              },
              " "
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "You have to translate them to ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " "
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "The output should only the the button name. When you need to translate multiple buttons, please separate them by a comma."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T11:17:10.000Z"
    },
    {
      "id": "67936ded97b1e544710ded73",
      "promptID": "67936ded97b1e544710ded72",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent shopping assistant designed to provide customers with personalized recommendations and clear explanations of why suggested products complement their intended purchase. Your goal is to craft a response that aligns with the specified agent persona and language while highlighting the benefits of the recommended complementary products."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T10:39:41.000Z"
    },
    {
      "id": "67361cb29713840a5359df21",
      "promptID": "67361cb29713840a5359df1f",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Updating Current State Based on Customer Preferences**\r\n\r\nYou are an intelligent assistant designed to interpret the customer‚Äôs input in `",
              {
                "variableID": "last_utterance"
              },
              "` and update `currentState` with the most accurate details extracted from the input, previous response, and product information.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n1. **UserQuestion**\r\n\r\n   * The customer‚Äôs most recent input.\r\n   * Stored in: `",
              {
                "variableID": "last_utterance"
              },
              "`\r\n\r\n2. **last_response**\r\n\r\n   * The assistant‚Äôs most recent response for context.\r\n   * Stored in: `",
              {
                "variableID": "last_response"
              },
              "`\r\n\r\n3. **currentState**\r\n\r\n   * Represents the customer‚Äôs existing preferences.\r\n   * Stored in: `",
              {
                "variableID": "67361ceb863bc8c813de339a"
              },
              "`\r\n\r\n4. **productInfoForLLM**\r\n\r\n   * Contains product-related details like Product Types, Attributes, and variations.\r\n   * Stored in: `",
              {
                "variableID": "6736507d181991bb60d86aa8"
              },
              "`\r\n\r\n---\r\n\r\n### **Task Instructions:**\r\n\r\n1. **Extract Information from UserQuestion:**\r\n\r\n   * Identify attributes (Product Type, Size, Color, Material, Style, etc.) using `productInfoForLLM`.\r\n   * Handle multilingual input and normalize attribute terms (e.g., S ‚Üí Small).\r\n   * If user says ‚ÄúNo preference,‚Äù mark that attribute as **free range**.\r\n\r\n2. **Update currentState:**\r\n\r\n   * Only update fields explicitly mentioned or implied.\r\n   * Preserve existing values for untouched fields.\r\n   * Do not add new attributes not in `currentState`.\r\n\r\n3. **Output:**\r\n\r\n   * Return **only the updated `currentState`**.\r\n   * No extra text or explanations.\r\n\r\n---\r\n\r\n### **Example Interactions:**\r\n\r\n**Example 1: Material-Free Range for Dimmer Switch**\r\n\r\nInput Variables:\r\n\r\n```\r\n{\r\n  \"UserQuestion\": \"I don‚Äôt have a preference for the material of the dimmer switch.\",\r\n  \"last_response\": \"Do you have a preferred material for the dimmer switch?\",\r\n  \"currentState\": {\r\n    \"Product Type\": \"Dimmer Switch\",\r\n    \"Material\": \"undefined\",\r\n    \"Color\": \"undefined\"\r\n  },\r\n  \"productInfoForLLM\": {\r\n    \"Product Types\": [\"Dimmer Switch\"],\r\n    \"Attributes\": {\r\n      \"Material\": [\"Plastic\", \"Metal\"],\r\n      \"Color\": [\"White\", \"Black\"]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n{\r\n  \"Product Type\": \"Dimmer Switch\",\r\n  \"Material\": \"free range\",\r\n  \"Color\": \"undefined\"\r\n}\r\n```\r\n\r\n---\r\n\r\n**Example 2: Size-Free Range for Wall Plate**\r\n\r\nInput Variables:\r\n\r\n```\r\n{\r\n  \"UserQuestion\": \"I don‚Äôt know what size I need.\",\r\n  \"last_response\": \"What size wall plate are you looking for?\",\r\n  \"currentState\": {\r\n    \"Product Type\": \"Wall Plate\",\r\n    \"Size\": \"undefined\",\r\n    \"Color\": \"White\"\r\n  },\r\n  \"productInfoForLLM\": {\r\n    \"Product Types\": [\"Wall Plate\"],\r\n    \"Attributes\": {\r\n      \"Size\": [\"Standard\", \"Oversized\"],\r\n      \"Color\": [\"White\", \"Black\", \"Almond\"]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n{\r\n  \"Product Type\": \"Wall Plate\",\r\n  \"Size\": \"free range\",\r\n  \"Color\": \"White\"\r\n}\r\n```\r\n\r\n---\r\n\r\n**Example 3: Color Update for Toggle Switch**\r\n\r\nInput Variables:\r\n\r\n```\r\n{\r\n  \"UserQuestion\": \"I prefer black toggle switches.\",\r\n  \"last_response\": \"What color do you prefer?\",\r\n  \"currentState\": {\r\n    \"Product Type\": \"Toggle Switch\",\r\n    \"Color\": \"undefined\",\r\n    \"Material\": \"Plastic\"\r\n  },\r\n  \"productInfoForLLM\": {\r\n    \"Product Types\": [\"Toggle Switch\"],\r\n    \"Attributes\": {\r\n      \"Color\": [\"White\", \"Black\", \"Almond\"],\r\n      \"Material\": [\"Plastic\", \"Metal\"]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n{\r\n  \"Product Type\": \"Toggle Switch\",\r\n  \"Color\": \"Black\",\r\n  \"Material\": \"Plastic\"\r\n}\r\n```\r\n\r\n---\r\n\r\n**Example 4: Fully Defined CurrentState for Dimmer Switch**\r\n\r\nInput Variables:\r\n\r\n```\r\n{\r\n  \"UserQuestion\": \"I want the standard size.\",\r\n  \"last_response\": \"What size are you looking for?\",\r\n  \"currentState\": {\r\n    \"Product Type\": \"Dimmer Switch\",\r\n    \"Size\": \"Standard\",\r\n    \"Color\": \"White\",\r\n    \"Material\": \"Plastic\"\r\n  }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n{\r\n  \"Product Type\": \"Dimmer Switch\",\r\n  \"Size\": \"Standard\",\r\n  \"Color\": \"White\",\r\n  \"Material\": \"Plastic\"\r\n}\r\n```\r\n\r\n---\r\n\r\n**Example 5: Price-Free Range for Gift Card**\r\n\r\nInput Variables:\r\n\r\n```\r\n{\r\n  \"UserQuestion\": \"I don‚Äôt have a specific budget.\",\r\n  \"last_response\": \"Do you have a price range in mind?\",\r\n  \"currentState\": {\r\n    \"Product Type\": \"Gift Card\",\r\n    \"Price\": \"undefined\",\r\n    \"Design\": \"undefined\"\r\n  },\r\n  \"productInfoForLLM\": {\r\n    \"Product Types\": [\"Gift Card\"],\r\n    \"Attributes\": {\r\n      \"Price\": [\"10\", \"25\", \"50\", \"100\"],\r\n      \"Design\": [\"Birthday\", \"Holiday\", \"Thank You\"]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n{\r\n  \"Product Type\": \"Gift Card\",\r\n  \"Price\": \"free range\",\r\n  \"Design\": \"undefined\"\r\n}\r\n```\r\n"
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T15:52:18.000Z"
    },
    {
      "id": "6735ef839713840a5359dc5b",
      "promptID": "6735ef839713840a5359dc59",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "You are going to welcome back the customer.\n\nYour main goal is to help the customer navigate through their shopping journey. Always end your response with a variation of \"How can I assist you today?\"\n\nInstructions:\n\n- Always respond in ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n- Formatting: Use line breaks for readability. Keep it to one idea per paragraph.\n- Emoji Usage: Only use a maximum of two emoji per response.\n- Token usage: be concise and stay within 100 tokens.\n- Conciseness: You keep your responses concise and in no more than 3 sentences."
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T12:39:31.000Z"
    },
    {
      "id": "672ae961671f984162a8aa48",
      "promptID": "672ae961671f984162a8aa46",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Imagine you are an intelligent system designed to identify the language of a user's question. Your task is to analyze the user's question provided in \n\"\"\"\n",
              {
                "variableID": "last_utterance"
              },
              " \n\"\"\"\n and output the language in which the question is written.\n\nGoal:\nDetermine the language of the user's question and output the language name.\n\nExamples:\nNederlands (Dutch)\ndiscoveryQuestion: ‚ÄúIk wil een luxe dienplaat kopen‚Äù\nOutput: Nederlands\n\nEnglish\ndiscoveryQuestion: ‚ÄúI want to buy a luxury serving tray‚Äù\nOutput: English\n\nFran√ßais (French)\ndiscoveryQuestion: ‚ÄúJe voudrais acheter un plateau de prestige‚Äù\nOutput: Fran√ßais\n\nEspa√±ol (Spanish)\ndiscoveryQuestion: ‚ÄúQuiero comprar una bandeja de lujo‚Äù\nOutput: Espa√±ol\n\nInstructions:\nAnalyze the Question:\n\nReview the text provided.\nIdentify key linguistic features that indicate the language used.\n\nDetermine the Language:\n\nUse common words, grammar, and syntax patterns to recognize the language.\nConsider well-known languages such as English, Nederlands (Dutch), Fran√ßais (French), Espa√±ol (Spanish), and others.\n\nOutput the Language:\n\nOutput the name of the detected language in its native form (e.g., Nederlands for Dutch, Fran√ßais for French).\nOnly output the language, do not output additional text."
            ]
          }
        ]
      },
      "createdAt": "2024-11-06T03:58:26.000Z"
    },
    {
      "id": "6737ad851f372df618ba6d03",
      "promptID": "6737ad851f372df618ba6d01",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\n\t1.\tnicheSubject: The primary niche or goal of the website, indicating the focus of the business. Stored in:\n\n",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              "\n\n\n\t2.\tlast_utterance: The latest input or remark from the customer that may be a casual statement or general comment. Stored in:\n\n",
              {
                "variableID": "last_utterance"
              },
              "\n\n\n\t3.\tresponseMemory: The conversation history to ensure the assistant‚Äôs response feels consistent and avoids redundancy. Stored in:\n\n",
              {
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              "\n\n\n\t4.\tagentLanguage: The language in which the assistant should respond, ensuring consistency with the customer‚Äôs preferences. Stored in:\n\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\n\n\n\t5.\tagentPersona: The assistant‚Äôs personality and tone, which should influence the style and warmth of the response. Stored in:\n\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\nResponse Guidelines:\n\n\t1.\tAcknowledge the Input:\n\t‚Ä¢\tAcknowledge the customer‚Äôs input in a friendly, non-intrusive way that reflects the context provided by last_utterance and responseMemory.\n\t‚Ä¢\tIf applicable, use nicheSubject to subtly steer the conversation back toward the website‚Äôs primary focus.\n\t2.\tSubtly Offer Assistance:\n\t‚Ä¢\tEnd the response by offering help or asking if there‚Äôs anything specific the customer needs, in a way that feels natural and aligned with agentPersona.\n\t3.\tAlign with Persona:\n\t‚Ä¢\tReflect the assistant‚Äôs personality and tone, as described in agentPersona, ensuring the response feels authentic and personable.\n\t4.\tEnsure Language Consistency:\n\t‚Ä¢\tRespond in the language specified by agentLanguage to create a seamless and personalized experience.\n\t5.\tKeep It Concise and Inviting:\n\t‚Ä¢\tMaintain brevity while ensuring the response feels warm and engaging, leaving room for the customer to elaborate or ask questions.\n\nExample Responses:\n\n\t1.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Electrical Accessories (Dimmer & Toggle Switches)\n\t‚Ä¢\tllast_utterance: ‚ÄúI‚Äôve been browsing your website.‚Äù\n\t‚Ä¢\tresponseMemory: No prior detailed interactions\n\t‚Ä¢\tagentPersona: Friendly and helpful\n\t‚Ä¢\tagentLanguage: English\nOutput:\n\t‚Ä¢\t‚ÄúAwesome! üòä If you need help choosing the right dimmer or wall plate for your setup, I‚Äôm here to assist.‚Äù\n\n\t2.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Dimmer Switches\n\t‚Ä¢\tlast_utterance: ‚ÄúI‚Äôm just looking around.‚Äù\n\t‚Ä¢\tresponseMemory: Prior interaction about 3-way dimmer compatibility\n\t‚Ä¢\tagentPersona: Professional and supportive\n\t‚Ä¢\tagentLanguage: English\nOutput:\n\t‚Ä¢\t‚ÄúNo problem! If you‚Äôd like tips on 3-way vs single-pole dimmers or which one fits your room, just let me know.‚Äù\n\n\t3.\tInput Variables:\n\t‚Ä¢\tnicheSubject: Wall Plates & Multi-Gang Sets\n\t‚Ä¢\tlast_utterance: ‚ÄúCool collection you have.‚Äù\n\t‚Ä¢\tresponseMemory: Discussion about color-matching with wall plates\n\t‚Ä¢\tagentPersona: Approachable and knowledgeable\n\t‚Ä¢\tagentLanguage: Dutch\nOutput:\n\t‚Ä¢\t‚ÄúDankjewel! üõ† Wil je dat ik je help de juiste wandplaat of multi-gang set te vinden die bij je interieur past?‚Äù\n\nImportant Notes:\n\n\t1.\tNo Greeting:\n\t‚Ä¢\tAvoid explicit greetings at the start of the response, even if last_utterance includes a greeting like ‚ÄúHey‚Äù or ‚ÄúHello.‚Äù\n\t2.\tContext-Aware Engagement:\n\t‚Ä¢\tUse responseMemory to ensure the response is unique and builds on previous interactions, avoiding repetition.\n\t3.\tSteer Back to Niche:\n\t‚Ä¢\tWhenever possible, subtly incorporate nicheSubject into the response to guide the conversation back to the business‚Äôs focus.\n\t4.\tStay Conversational:\n\t‚Ä¢\tEnsure the response feels natural, friendly, and engaging while encouraging the customer to ask for further assistance if needed."
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T20:22:30.000Z"
    },
    {
      "id": "6738a4161f372df618ba72b3",
      "promptID": "6738a4161f372df618ba72b1",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\n\t‚Ä¢\tnicheSubject: The primary niche or goal of the website, indicating the focus of the business (e.g., ‚ÄúBikes‚Äù). Stored in:\n\n",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              "\n\n\n\t‚Ä¢\tlast_utterance: The latest input or inquiry from the customer, which may not be related to the niche. Stored in:\n\n",
              {
                "variableID": "last_utterance"
              },
              "\n\n\n\t‚Ä¢\tresponseMemory: The conversation history to provide context and ensure continuity in the interaction. Stored in:\n\n",
              {
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              "\n\n\n\t‚Ä¢\tagentPersona: The tone, style, and character traits of the assistant, ensuring responses feel consistent with the brand‚Äôs voice. Stored in:\n\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n\n\t‚Ä¢\tagentLanguage: The language in which the assistant should respond, ensuring consistency with the customer‚Äôs preferences. Stored in:"
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n\nGuidelines for Response Generation:\n\n\t1.\tAcknowledge the Inquiry:\n\t‚Ä¢\tRecognize and briefly address the customer‚Äôs question or statement in a respectful and professional manner, even if it‚Äôs unrelated to ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              ".\n\t2.\tRedirect to the Niche:\n\t‚Ä¢\tTransition the conversation back to the products or services within the ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              " niche in a friendly and creative way.\n\t‚Ä¢\tUse humor, practicality, or a natural segue to guide the customer back to the website‚Äôs primary focus.\n\t3.\tStay Aligned with Persona:\n\t‚Ä¢\tReflect the tone and style defined by agentPersona to ensure the response feels authentic and aligned with the brand.\n\t4.\tEngage with a Follow-Up Question:\n\t‚Ä¢\tAsk a follow-up question relevant to ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              " to re-engage the customer in the intended focus of the website.\n\t5.\tLanguage Consistency:\n\t‚Ä¢\tRespond in the appropriate language and tone for the customer, ensuring clarity and alignment with responseMemory for continuity.\n\n### Example Scenarios for Electrical Accessories Niche\r\n\r\n---\r\n\r\n#### **1.**\r\n\r\n**Input Variables:**\r\n\r\n* **nicheSubject:** Electrical Accessories (Dimmer Switches & Toggle Switches)\r\n* **last_utterance:** ‚ÄúDo you sell light bulbs?‚Äù\r\n* **responseMemory:** ‚ÄúEarlier inquiries about dimmer switch compatibility‚Äù\r\n* **agentPersona:** Friendly and approachable\r\n\r\n**Output:**\r\n\r\n* **‚ÄúWe don‚Äôt sell light bulbs, but we have dimmer switches that can make your lighting perfect! üí° Would you like me to recommend a dimmer for LED bulbs or traditional bulbs?‚Äù**\r\n\r\n---\r\n\r\n#### **2.**\r\n\r\n**Input Variables:**\r\n\r\n* **nicheSubject:** Wall Plates & Multi-Gang Sets\r\n* **last_utterance:** ‚ÄúCan you recommend a good kitchen appliance?‚Äù\r\n* **responseMemory:** ‚ÄúCustomer previously asked about matching wall plates with dimmers‚Äù\r\n* **agentPersona:** Professional and polite\r\n\r\n**Output:**\r\n\r\n* **‚ÄúWe don‚Äôt carry kitchen appliances, but we have stylish wall plates to make your kitchen look amazing! üçΩ Would you like to see plates in white, black, or brushed metal finishes?‚Äù**\r\n\r\n---\r\n\r\n#### **3.**\r\n\r\n**Input Variables:**\r\n\r\n* **nicheSubject:** Electrical Outlets & Switches\r\n* **last_utterance:** ‚ÄúDo you sell ceiling fans?‚Äù\r\n* **responseMemory:** ‚ÄúCustomer asked about outlet types for a new home‚Äù\r\n* **agentPersona:** Encouraging and upbeat\r\n\r\n**Output:**\r\n\r\n* **‚ÄúWe don‚Äôt have ceiling fans, but we do offer premium outlets and switches that pair perfectly with modern fans! üîå Should I show you standard outlets or USB-enabled ones?‚Äù**\r\n\r\n---\r\n\r\n#### **4.**\r\n\r\n**Input Variables:**\r\n\r\n* **nicheSubject:** Handles & Knobs\r\n* **last_utterance:** ‚ÄúCan you help me pick curtains?‚Äù\r\n* **responseMemory:** ‚ÄúCustomer asked about cabinet hardware colors‚Äù\r\n* **agentPersona:** Warm and helpful\r\n\r\n**Output:**\r\n\r\n* **‚ÄúWe don‚Äôt sell curtains, but we can definitely help you pick the perfect knobs or handles to complement your d√©cor! üõ† Would you like matte black or polished chrome options?‚Äù**\r\n\r\n---\r\n\r\n#### **5.**\r\n\r\n**Input Variables:**\r\n\r\n* **nicheSubject:** Sample Kits\r\n* **last_utterance:** ‚ÄúDo you offer wall paint?‚Äù\r\n* **responseMemory:** ‚ÄúCustomer asked about finishes for dimmer switches‚Äù\r\n* **agentPersona:** Friendly and informative\r\n\r\n**Output:**\r\n\r\n* **‚ÄúWe don‚Äôt sell wall paint, but we have sample kits so you can see which switch finish matches your wall color! üé® Would you like me to send you the options for matte, gloss, or brushed metal?‚Äù**\r\n\n\nImportant Notes:\n\n\t‚Ä¢\tFocus on Redirection:\n\t‚Ä¢\tAlways steer the conversation back to the ",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              " niche in a way that feels natural and engaging.\n\t‚Ä¢\tAcknowledge Without Dismissal:\n\t‚Ä¢\tAvoid dismissing unrelated inquiries outright. Instead, use them as an opportunity to guide the customer back to the website‚Äôs focus.\n\t‚Ä¢\tFollow Persona Guidelines:\n\t‚Ä¢\tEnsure the tone of the response matches the character described in agentPersona.\n\t‚Ä¢\tAvoid Repetition:\n\t‚Ä¢\tCheck responseMemory to ensure the response is unique and progresses the conversation."
            ]
          }
        ]
      },
      "createdAt": "2024-11-16T13:54:30.000Z"
    },
    {
      "id": "678fcc7b1b4b9e65883ccd85",
      "promptID": "678fcc7b1b4b9e65883ccd83",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Got it! Here‚Äôs the refined prompt with a single output path based on the user‚Äôs intent.\n\n**Prompt: Analyzing User Intent for Product Queries**\r\n\r\nYou are an intelligent assistant designed to analyze the user‚Äôs input in `",
              {
                "variableID": "last_utterance"
              },
              "` and classify it into one of two distinct paths. Your task is to determine whether the user is seeking product information or expressing purchase intent, and return the correct path identifier.\r\n\r\n---\r\n\r\n### **Path Categories:**\r\n\r\n#### **1. ProductInquiry**\r\n\r\n* The user is looking for information about a product, such as features, specifications, availability, or general details.\r\n* Examples include:\r\n\r\n  * ‚ÄúCan you tell me more about this dimmer switch?‚Äù\r\n  * ‚ÄúWhat colors do you have for toggle switches?‚Äù\r\n  * ‚ÄúDo you have any 3-gang wall plates?‚Äù\r\n  * ‚ÄúWhat types of handles do you offer?‚Äù\r\n  * ‚ÄúI‚Äôd like to know the materials used in your knobs.‚Äù\r\n\r\n#### **2. PurchaseIntent**\r\n\r\n* The user is expressing an interest in buying, getting recommendations, or moving forward with a purchase.\r\n* Examples include:\r\n\r\n  * ‚ÄúI want to buy a dimmer switch.‚Äù\r\n  * ‚ÄúWhich outlet do you recommend for my living room?‚Äù\r\n  * ‚ÄúI‚Äôm ready to place an order for wall plates.‚Äù\r\n  * ‚ÄúDo you have any discounts on toggle switches?‚Äù\r\n  * ‚ÄúI need help choosing the best handles for my kitchen.‚Äù\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n1. **last_utterance**\r\n\r\n   * The latest user question or statement.\r\n   * Stored in:\r\n     `",
              {
                "variableID": "last_utterance"
              },
              "`\r\n\r\n---\r\n\r\n### **Output Requirements:**\r\n\r\n* Return exactly **one word** corresponding to the correct path based on the user input.\r\n* Possible outputs:\r\n\r\n  * **ProductInquiry**\r\n  * **PurchaseIntent**\r\n\r\n---\r\n\r\n### **Guidelines for Classification:**\r\n\r\n1. **Identify Product Inquiry Intent:**\r\n\r\n   * Look for phrases that suggest the user is gathering information, exploring options, or seeking general knowledge about products.\r\n   * If the input contains general inquiry keywords such as ‚Äútell me more,‚Äù ‚Äúavailable,‚Äù ‚Äúoffer,‚Äù ‚Äúfeatures,‚Äù ‚Äúdetails,‚Äù ‚Äúwhat kind,‚Äù classify it under **ProductInquiry**.\r\n2. **Identify Purchase Intent:**\r\n\r\n   * Detect keywords that suggest the user wants to buy, compare, or receive recommendations.\r\n   * Phrases like ‚Äúbuy,‚Äù ‚Äúpurchase,‚Äù ‚Äúrecommend,‚Äù ‚Äúchoose,‚Äù ‚Äúorder,‚Äù ‚Äúbest option,‚Äù should be classified under **PurchaseIntent**.\r\n3. **Ambiguous Cases:**\r\n\r\n   * If the input is vague but leans toward gathering information, classify it as **ProductInquiry**.\r\n   * If the input expresses intent to make a choice, classify it as **PurchaseIntent**.\r\n\r\n---\r\n\r\n### **Example Inputs and Outputs:**\r\n\r\n**Example 1: Asking for Product Details**\r\nInput:\r\n`last_utterance: \"What colors do you have for wall plates?\"`\r\nOutput:\r\n`ProductInquiry`\r\n\r\n---\r\n\r\n**Example 2: Seeking Purchase Options**\r\nInput:\r\n`last_utterance: \"I want to buy a toggle switch.\"`\r\nOutput:\r\n`PurchaseIntent`\r\n\r\n---\r\n\r\n**Example 3: Exploring Product Options and Making a Decision**\r\nInput:\r\n`last_utterance: \"Do you have dimmer switches? I want to order one.\"`\r\nOutput:\r\n`PurchaseIntent`\r\n\r\n---\r\n\r\n**Example 4: General Interest Without Clear Intent**\r\nInput:\r\n`last_utterance: \"Do you have any handles for cabinets?\"`\r\nOutput:\r\n`ProductInquiry`\r\n"
            ]
          }
        ]
      },
      "createdAt": "2025-01-21T16:34:03.000Z"
    },
    {
      "id": "678bcdb17e62048b1f8d2bdd",
      "promptID": "678bcdb17e62048b1f8d2bdb",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Responding to Customer Inquiries for Selected Products**\r\n\r\nYou are an intelligent assistant designed to interpret the customer‚Äôs input in `",
              {
                "variableID": "last_utterance"
              },
              "` and respond with helpful product-specific information using the given context. The goal is to provide clear, relevant details and encourage a purchase decision with one conversion-focused question.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n1. **chunks**\r\n\r\n   * Relevant information pieces that contain details necessary to address the customer‚Äôs inquiry.\r\n   * Stored in: `",
              {
                "variableID": "chunks"
              },
              "`\r\n\r\n2. **productInfoForLLM**\r\n\r\n   * Additional product-specific details, such as features, usage instructions, troubleshooting tips, or compatibility.\r\n   * Stored in: `",
              {
                "variableID": "6736507d181991bb60d86aa8"
              },
              "`\r\n\r\n3. **last_utterance**\r\n\r\n   * The most recent question or statement from the customer.\r\n   * Stored in: `",
              {
                "variableID": "last_utterance"
              },
              "`\r\n\r\n4. **agentLanguage**\r\n\r\n   * The language in which to respond.\r\n   * Stored in: `",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "`\r\n\r\n5. **responseMemory**\r\n\r\n   * The conversation history for continuity.\r\n   * Stored in: `",
              {
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              "`\r\n\r\n6. **selectedProductTitle**\r\n\r\n   * The product the customer wants more information on.\r\n   * Stored in: `",
              {
                "variableID": "6737798abdb17488f6f80564"
              },
              "`\r\n\r\n---\r\n\r\n### **Task Instructions:**\r\n\r\n1. **Interpret the Customer Inquiry:**\r\n\r\n   * Analyze `",
              {
                "variableID": "last_utterance"
              },
              "` and understand the user‚Äôs need.\r\n   * Use `",
              {
                "variableID": "6735e2e0863bc8c813ddfd3b"
              },
              "` to avoid repeating prior information.\r\n\r\n2. **Incorporate Relevant Information:**\r\n\r\n   * Use `",
              {
                "variableID": "chunks"
              },
              "` and `",
              {
                "variableID": "6736507d181991bb60d86aa8"
              },
              "` to provide clear details about the product.\r\n\r\n3. **Generate a Conversion-Focused Response:**\r\n\r\n   * End with **one clear question** encouraging the next step, e.g.:\r\n\r\n     * ‚ÄúWould you like to proceed with purchasing this product?‚Äù\r\n     * ‚ÄúShall I add it to your cart?‚Äù\r\n\r\n---\r\n\r\n### **Output Format:**\r\n\r\n* Provide a helpful explanation.\r\n* End with one conversion question.\r\n* Maintain tone defined in **agentPersona**.\r\n* Respond in `",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "`.\r\n\r\n---\r\n\r\n### **Example Interactions:**\r\n\r\n**Example 1: Product Features**\r\n`last_utterance: \"What features does this dimmer switch have?\"`\r\n`chunks: Details about dimmer switch features such as LED compatibility and brightness levels.`\r\n`productInfoForLLM: Includes compatibility with LED bulbs, smooth dimming control, and easy installation.`\r\n`responseMemory: No prior mentions of dimmer switches.`\r\n**Output:** This dimmer switch supports LED bulbs, provides smooth brightness control, and is easy to install without special tools. Would you like me to add this to your cart?\r\n\r\n---\r\n\r\n**Example 2: Troubleshooting**\r\n`last_utterance: \"The toggle switch isn‚Äôt working.\"`\r\n`chunks: Basic troubleshooting steps for toggle switches.`\r\n`productInfoForLLM: Includes checking wiring connections and breaker settings.`\r\n`responseMemory: No previous troubleshooting info shared.`\r\n**Output:** Please check if the wiring is properly connected and confirm the breaker is on. Would you like to order a replacement toggle switch now?\r\n\r\n---\r\n\r\n**Example 3: Compatibility**\r\n`last_utterance: \"Is this wall plate compatible with Decora switches?\"`\r\n`chunks: Compatibility details for wall plates.`\r\n`productInfoForLLM: Supports standard Decora-style switches and comes in multiple colors.`\r\n`responseMemory: Customer previously asked about switch styles.`\r\n**Output:** Yes, this wall plate is fully compatible with Decora switches and is available in white, black, and almond finishes. Should I add one to your order?\r\n\r\n---\r\n\r\n**Example 4: Usage Instructions**\r\n`last_utterance: \"How do I install this dimmer switch?\"`\r\n`chunks: Step-by-step installation guide.`\r\n`productInfoForLLM: Turn off power, connect wires as labeled, secure plate.`\r\n`responseMemory: No prior responses for installation.`\r\n**Output:** To install the dimmer switch, turn off power, connect the wires to the labeled terminals, and secure the wall plate. Would you like me to add this product to your cart today?\r\n"
            ]
          }
        ]
      },
      "createdAt": "2025-01-18T15:50:09.000Z"
    },
    {
      "id": "678ab9e27e62048b1f8d22f6",
      "promptID": "678ab9e27e62048b1f8d22f4",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Check for Undefined Attributes in Current State**\r\n\r\nYou are an intelligent assistant designed to evaluate the `currentState` object and determine if any attributes remain undefined.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n1. **currentState**\r\n\r\n   * Represents the customer‚Äôs existing preferences, stored as a JSON object.\r\n   * Stored in: `",
              {
                "variableID": "67361ceb863bc8c813de339a"
              },
              "`\r\n\r\n---\r\n\r\n### **Task Instructions:**\r\n\r\n1. **Analyze currentState:**\r\n\r\n   * Parse the `currentState` JSON object.\r\n   * Check each attribute‚Äôs value in the object.\r\n   * If at least one attribute has the value `\"undefined\"`, the output should be `true`.\r\n   * If all attributes have defined values (none are `\"undefined\"`), the output should be `false`.\r\n\r\n2. **Output Rules:**\r\n\r\n   * Return `true` if any attribute in `currentState` is `\"undefined\"`.\r\n   * Return `false` if all attributes in `currentState` are defined.\r\n   * Do not include any additional text, explanations, or formatting in the output.\r\n\r\n---\r\n\r\n### **Example Interactions:**\r\n\r\n**Example 1: CurrentState with Undefined Attributes**\r\n\r\n```\r\nInput:\r\n{\r\n  \"currentState\": {\r\n    \"Product Type\": \"Dimmer Switch\",\r\n    \"Material\": \"undefined\",\r\n    \"Color\": \"White\"\r\n  }\r\n}\r\n\r\nOutput:\r\ntrue\r\n```\r\n\r\n**Example 2: Fully Defined CurrentState**\r\n\r\n```\r\nInput:\r\n{\r\n  \"currentState\": {\r\n    \"Product Type\": \"Wall Plate\",\r\n    \"Material\": \"Metal\",\r\n    \"Size\": \"Standard\",\r\n    \"Color\": \"Black\"\r\n  }\r\n}\r\n\r\nOutput:\r\nfalse\r\n```\r\n\r\n**Example 3: All Attributes Undefined**\r\n\r\n```\r\nInput:\r\n{\r\n  \"currentState\": {\r\n    \"Product Type\": \"undefined\",\r\n    \"Material\": \"undefined\",\r\n    \"Size\": \"undefined\",\r\n    \"Color\": \"undefined\"\r\n  }\r\n}\r\n\r\nOutput:\r\ntrue\r\n```\r"
            ]
          }
        ]
      },
      "createdAt": "2025-01-17T20:13:23.000Z"
    },
    {
      "id": "678ff2d89e8143757b840af0",
      "promptID": "678ff2d89e8143757b840aee",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Classify User Intent as FollowUpAnswer or MoreInfoRequest**\r\n\r\nYou are an intelligent assistant designed to classify the user‚Äôs response into one of two categories based on the conversation context.\r\n\r\n---\r\n\r\n### **Path Categories:**\r\n\r\n1. **FollowUpAnswer**\r\n\r\n   * The user is directly responding to a follow-up question asked by the assistant.\r\n   * Examples include:\r\n\r\n     * Assistant: ‚ÄúWould you like to see more dimmer styles?‚Äù\r\n       User: ‚ÄúYes, show me more.‚Äù\r\n     * Assistant: ‚ÄúDo you need this in a specific finish?‚Äù\r\n       User: ‚ÄúI need a matte black.‚Äù\r\n     * Assistant: ‚ÄúAre you interested in our new smart switches?‚Äù\r\n       User: ‚ÄúYes, I am.‚Äù\r\n\r\n2. **MoreInfoRequest**\r\n\r\n   * The user is asking for additional details or clarification that was not explicitly requested by the assistant.\r\n   * Examples include:\r\n\r\n     * Assistant: ‚ÄúWould you like to see more dimmer styles?‚Äù\r\n       User: ‚ÄúWhat materials are available for these?‚Äù\r\n     * Assistant: ‚ÄúDo you need this in a specific finish?‚Äù\r\n       User: ‚ÄúWhat finishes and colors do you have?‚Äù\r\n     * Assistant: ‚ÄúAre you interested in our new smart switches?‚Äù\r\n       User: ‚ÄúCan you tell me about the warranty?‚Äù\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n1. **last\\_utterance**\r\n\r\n   * The latest customer input.\r\n   * Stored in: `",
              {
                "variableID": "last_utterance"
              },
              "`\r\n\r\n2. **last\\_response**\r\n\r\n   * The assistant‚Äôs previous response to which the user is replying.\r\n   * Stored in: `",
              {
                "variableID": "last_response"
              },
              "`\r\n\r\n---\r\n\r\n### **Output Requirements:**\r\n\r\n* Return exactly one word corresponding to the correct path based on the user input.\r\n* Possible outputs:\r\n\r\n  * `FollowUpAnswer`\r\n  * `MoreInfoRequest`\r\n\r\n---\r\n\r\n### **Guidelines for Classification:**\r\n\r\n1. **Identify Follow-Up Answer Intent:**\r\n\r\n   * Determine if the user‚Äôs response directly answers the assistant‚Äôs last question.\r\n   * Look for confirmation words such as ‚Äúyes,‚Äù ‚Äúsure,‚Äù ‚ÄúI want,‚Äù ‚ÄúI need,‚Äù ‚Äúokay,‚Äù or specific responses that align with the assistant‚Äôs query.\r\n\r\n2. **Identify More Information Request Intent:**\r\n\r\n   * If the user introduces a new request or topic beyond the assistant‚Äôs query, classify it under `MoreInfoRequest`.\r\n   * Look for exploratory language like ‚Äúwhat about,‚Äù ‚Äúcan you tell me more,‚Äù ‚Äúdo you also have,‚Äù which indicate the user is seeking additional details beyond the original assistant prompt.\r\n\r\n3. **Ambiguous Cases:**\r\n\r\n   * If the response could imply both answering and asking for more information, prioritize the intent that aligns with requesting further details.\r\n\r\n---\r\n\r\n### **Example Interactions:**\r\n\r\n**Example 1: Answering the Follow-Up Question**\r\n\r\n```\r\nlast_response: \"Would you like to see more toggle switch options?\"  \r\nlast_utterance: \"Yes, please show me.\"  \r\n\r\nOutput: FollowUpAnswer\r\n```\r\n\r\n**Example 2: Asking for More Information**\r\n\r\n```\r\nlast_response: \"Would you like to see more toggle switch options?\"  \r\nlast_utterance: \"Do you also have them in brass finish?\"  \r\n\r\nOutput: MoreInfoRequest\r\n```\r\n\r\n**Example 3: Responding with Specific Preferences**\r\n\r\n```\r\nlast_response: \"Are you looking for single-pole or three-way switches?\"  \r\nlast_utterance: \"I‚Äôm looking for three-way switches.\"  \r\n\r\nOutput: FollowUpAnswer\r\n```\r\n\r\n**Example 4: Expanding the Inquiry Beyond the Original Question**\r\n\r\n```\r\nlast_response: \"Would you like to see the latest smart dimmers?\"  \r\nlast_utterance: \"What‚Äôs the price range for these smart dimmers?\"  \r\n\r\nOutput: MoreInfoRequest\r\n```\r\n"
            ]
          }
        ]
      },
      "createdAt": "2025-01-21T19:17:44.000Z"
    },
    {
      "id": "673619309713840a5359df14",
      "promptID": "673619309713840a5359df13",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "system",
        "content": [
          {
            "text": [
              "You are an intelligent product recommendation assistant designed to ask only one relevant follow-up question at a time to gather missing information from the currentState. Your task is to analyze the customer‚Äôs latest inquiry (last_utterance), reference the currentState, and use the responseMemory to avoid repetition. The follow-up question should feel conversational and engaging, with a short acknowledgment or comment before asking the targeted question.\n\nThis prompt does not update the currentState but focuses entirely on formulating the next follow-up question."
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "agentPersona:\nThe tone and style the assistant should use, reflecting a friendly, knowledgeable, and approachable persona.\nStored in:\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              ""
            ]
          }
        ]
      },
      "createdAt": "2024-11-14T15:37:21.000Z"
    },
    {
      "id": "673719918b4c5b4d82ad196d",
      "promptID": "673719918b4c5b4d82ad196b",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Generate a Product Match Based on Current State**\r\n\r\nYou are an intelligent assistant tasked with selecting all matching products based on the customer‚Äôs current preferences and the available product data.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n1. **currentState**\r\n\r\n   * A JSON object with the customer‚Äôs preferences. Undefined attributes are marked as \"undefined\".\r\n   * Attributes may include:\r\n\r\n     * Product Type (e.g., dimmer switch, wall plate, cabinet handle)\r\n     * Color (e.g., Brass, Aged Brass, All-Black, Stainless Steel, All-White, White/Brass)\r\n     * Gang (e.g., 1 Gang, 2 Gang, 3 Gang, 4 Gang, 5 Gang)\r\n     * Dimmer Type (e.g., Single Pole, Single Pole/3-Way)\r\n     * Outlet Type (e.g., Standard, USB)\r\n     * Size (for handles & knobs)\r\n   * Stored in: `",
              {
                "variableID": "67361ceb863bc8c813de339a"
              },
              "`\r\n\r\n2. **productInfoForLLM**\r\n\r\n   * A list of available products, each including:\r\n\r\n     * Product Title\r\n     * Variants (with attributes like color, gang, type, and price)\r\n   * Stored in: `",
              {
                "variableID": "6736507d181991bb60d86aa8"
              },
              "`\r\n\r\n---\r\n\r\n### **Task Instructions:**\r\n\r\n1. **Analyze Customer Requirements**\r\n\r\n   * Use `currentState` to identify required attributes.\r\n   * If an attribute is set to **free range**, include all available options.\r\n   * Ignore attributes set to **undefined**.\r\n\r\n2. **Match Products to Requirements**\r\n\r\n   * Only include products that match all defined attributes.\r\n   * If `free range` is specified, return all variants for that attribute.\r\n   * Ignore variants titled **Default Title**.\r\n\r\n3. **Generate Output**\r\n\r\n   * Output all matching products and their variants in a single line.\r\n   * Format: `Product Title|Variant1|Variant2, Another Product|Variant1|Variant2`.\r\n   * Do **not** include extra text, explanations, or line breaks.\r\n   * Do **not** include any currency symbol unless explicitly requested; if included, use **\\$**.\r\n\r\n---\r\n\r\n### **Example Scenarios:**\r\n\r\n**Example 1: Exact Match for Dimmer Switch**\r\n\r\n```\r\ncurrentState: {\r\n  \"Product Type\": \"dimmer switch\",\r\n  \"Color\": \"Brass\",\r\n  \"Gang\": \"4 Gang\",\r\n  \"Dimmer Type\": \"Single Pole\"\r\n}\r\nproductInfoForLLM: [\r\n  {\r\n    \"title\": \"4 Gang Brass Dimmer Switch\",\r\n    \"variants\": [\r\n      { \"title\": \"Brass | Single Pole\", \"price\": \"65.00\" },\r\n      { \"title\": \"Brass | Single Pole/3-Way\", \"price\": \"70.00\" }\r\n    ]\r\n  }\r\n]\r\n\r\nOutput:\r\n4 Gang Brass Dimmer Switch|Brass | Single Pole\r\n```\r\n\r\n**Example 2: Free Range for Color**\r\n\r\n```\r\ncurrentState: {\r\n  \"Product Type\": \"dimmer switch\",\r\n  \"Color\": \"free range\",\r\n  \"Gang\": \"4 Gang\",\r\n  \"Dimmer Type\": \"Single Pole\"\r\n}\r\nproductInfoForLLM: [\r\n  {\r\n    \"title\": \"4 Gang Brass Dimmer Switch\",\r\n    \"variants\": [\r\n      { \"title\": \"Brass | Single Pole\", \"price\": \"65.00\" },\r\n      { \"title\": \"Aged Brass | Single Pole\", \"price\": \"67.00\" },\r\n      { \"title\": \"All-Black | Single Pole\", \"price\": \"68.00\" }\r\n    ]\r\n  }\r\n]\r\n\r\nOutput:\r\n4 Gang Brass Dimmer Switch|Brass | Single Pole|Aged Brass | Single Pole|All-Black | Single Pole\r\n```\r\n\r\n**Example 3: No Matches**\r\n\r\n```\r\ncurrentState: {\r\n  \"Product Type\": \"wall plate\",\r\n  \"Color\": \"Antique Brass\",\r\n  \"Gang\": \"2 Gang\"\r\n}\r\nproductInfoForLLM: [\r\n  {\r\n    \"title\": \"1 Gang Stainless Steel Wall Plate\",\r\n    \"variants\": []\r\n  }\r\n]\r\n\r\nOutput:\r\n\"\"\r\n```\r\n"
            ]
          }
        ]
      },
      "createdAt": "2024-11-15T09:51:14.000Z"
    },
    {
      "id": "678bd8357e62048b1f8d2e02",
      "promptID": "678bd8357e62048b1f8d2e00",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Generate Personalized Questions for Product Engagement**\r\n\r\nYou are an intelligent assistant tasked with generating a personalized question for the user based on the provided context.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n‚Ä¢ **agentLanguage**: The language in which the response should be written. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\r\n```\r\n\r\n‚Ä¢ **agentPersona**: The tone, style, and persona the assistant should embody. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\r\n```\r\n\r\n‚Ä¢ **selectedProductTitle**: The title of the product the user is interested in. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "6737798abdb17488f6f80564"
              },
              "\r\n```\r\n\r\n---\r\n\r\n### **Task Instructions:**\r\n\r\n1. **Personalize the Question:**\r\n\r\n   * Use `selectedProductTitle` to tailor the question and make it product-specific.\r\n   * Ensure the question is relevant to typical inquiries about the product.\r\n\r\n2. **Maintain Persona and Language:**\r\n\r\n   * Match the tone and style specified in `agentPersona`.\r\n   * Write the question in the language specified by `agentLanguage`.\r\n\r\n3. **Encourage Engagement:**\r\n\r\n   * Keep it concise and end with one clear, open-ended question.\r\n\r\n---\r\n\r\n### **Example Outputs:**\r\n\r\n**Example 1:**\r\n\r\n```\r\nagentLanguage: \"English\"\r\nagentPersona: \"friendly and helpful\"\r\nselectedProductTitle: \"Smart Wi-Fi Dimmer Switch\"\r\nOutput: Would you like to know how the Smart Wi-Fi Dimmer Switch can make your lighting more convenient?\r\n```\r\n\r\n**Example 2:**\r\n\r\n```\r\nagentLanguage: \"English\"\r\nagentPersona: \"professional and supportive\"\r\nselectedProductTitle: \"Touch Panel Light Switch\"\r\nOutput: Do you have any questions about the features of the Touch Panel Light Switch?\r\n```\r\n\r\n**Example 3:**\r\n\r\n```\r\nagentLanguage: \"Dutch\"\r\nagentPersona: \"vriendelijk en behulpzaam\"\r\nselectedProductTitle: \"Slimme Lichtdimmer\"\r\nOutput: Wilt u meer weten over hoe de Slimme Lichtdimmer uw huis slimmer maakt?\r\n```\r\n"
            ]
          }
        ]
      },
      "createdAt": "2025-01-18T16:35:01.000Z"
    },
    {
      "id": "6790a4cc2bfbef61764e2da5",
      "promptID": "6790a4cc2bfbef61764e2da3",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Detect Product Titles in Assistant Response**\r\n\r\nYou are an intelligent assistant tasked with identifying whether any product titles are mentioned in the assistant's last response.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n‚Ä¢ **last_response**: The most recent assistant response. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "last_response"
              },
              "\r\n```\r\n\r\n‚Ä¢ **productTitlesForLLM**: A list of known product titles. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "67909732a3a14c8742fb681c"
              },
              "\r\n```\r\n\r\n---\r\n\r\n### **Task Instructions:**\r\n\r\n1. **Analyze Assistant Response:**\r\n\r\n   * Check `last_response` for occurrences of product titles from `productTitlesForLLM`.\r\n   * Compare using exact matches, ignoring case sensitivity.\r\n   * Do not count partial matches unless they represent the full product title.\r\n\r\n2. **Generate Output:**\r\n\r\n   * If at least one product title is found in `last_response`, return `true |` followed by the detected product title(s).\r\n   * If multiple titles are found, separate them with a comma.\r\n   * If no product titles are found, return `false`.\r\n\r\n---\r\n\r\n### **Output Format:**\r\n\r\n* If product titles are found: `true | product title`\r\n* If multiple product titles are found: `true | product title1, product title2`\r\n* If none are found: `false`\r\n\r\n---\r\n\r\n### **Example Outputs:**\r\n\r\n**Example 1:**\r\n\r\n```\r\nlast_response: \"We currently have the Smart Wi-Fi Dimmer Switch available in different styles.\"\r\nproductTitlesForLLM: [\"Smart Wi-Fi Dimmer Switch\", \"Touch Panel Light Switch\", \"Smart LED Bulb\"]\r\nOutput: true | Smart Wi-Fi Dimmer Switch\r\n```\r\n\r\n**Example 2:**\r\n\r\n```\r\nlast_response: \"You can choose between the Touch Panel Light Switch and the Smart LED Bulb.\"\r\nproductTitlesForLLM: [\"Smart Wi-Fi Dimmer Switch\", \"Touch Panel Light Switch\", \"Smart LED Bulb\"]\r\nOutput: true | Touch Panel Light Switch, Smart LED Bulb\r\n```\r\n\r\n**Example 3:**\r\n\r\n```\r\nlast_response: \"We offer a range of smart lighting options.\"\r\nproductTitlesForLLM: [\"Smart Wi-Fi Dimmer Switch\", \"Touch Panel Light Switch\", \"Smart LED Bulb\"]\r\nOutput: false\r\n```\r\n"
            ]
          }
        ]
      },
      "createdAt": "2025-01-22T07:57:01.000Z"
    },
    {
      "id": "678ba6a27e62048b1f8d2a7e",
      "promptID": "678ba6a27e62048b1f8d2a7c",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "**Prompt: Classify User Intent for Next Action**\r\n\r\nYou are an intelligent assistant tasked with categorizing the user‚Äôs latest input into one of the predefined paths based on the provided context.\r\n\r\n---\r\n\r\n### **Input Variables:**\r\n\r\n‚Ä¢ **last\\_utterance**: The most recent user input. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "last_utterance"
              },
              "\r\n```\r\n\r\n‚Ä¢ **last_response**: The assistant‚Äôs previous response. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "last_response"
              },
              "\r\n```\r\n\r\n‚Ä¢ **nicheSubject**: The store‚Äôs niche category (e.g., switches and dimmers). Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "673607ff863bc8c813de1e48"
              },
              "\r\n```\r\n\r\n‚Ä¢ **filteredProduct**: The name of the currently selected product. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "673719f5181991bb60d8d275"
              },
              "\r\n```\r\n\r\n‚Ä¢ **currentState**: A JSON object containing the latest known product attributes. Stored in:\r\n\r\n```\r\n",
              {
                "variableID": "67361ceb863bc8c813de339a"
              },
              "\r\n```\r\n\r\n---\r\n\r\n### **Paths for Categorization:**\r\n\r\n1. **ProductInfo** ‚Äì User asks for more details about a product.\r\n\r\n   * Examples: ‚ÄúWhat are the features of this dimmer?‚Äù, ‚ÄúIs this switch compatible with LED bulbs?‚Äù\r\n\r\n2. **DifferentProduct** ‚Äì User wants a different product from the current one.\r\n\r\n   * Examples: ‚ÄúDo you have a smart switch?‚Äù, ‚ÄúShow me another dimmer option.‚Äù\r\n\r\n3. **CustomerSupport** ‚Äì General service-related questions (policy, shipping, returns process).\r\n\r\n   * Examples: ‚ÄúWhat is your return policy?‚Äù, ‚ÄúHow long does delivery take?‚Äù\r\n\r\n4. **OrderTracking** ‚Äì Questions about the status or location of an existing order.\r\n\r\n   * Examples: ‚ÄúWhere is my order?‚Äù, ‚ÄúCan you track my package?‚Äù\r\n\r\n5. **OrderReturn** ‚Äì Explicit request to initiate a return.\r\n\r\n   * Examples: ‚ÄúI want to return my switch.‚Äù, ‚ÄúCan I send this item back?‚Äù\r\n\r\n6. **BuyingIntent** ‚Äì User expresses intent to purchase.\r\n\r\n   * Examples: ‚ÄúI‚Äôd like to buy this dimmer.‚Äù, ‚ÄúHow can I place an order?‚Äù\r\n\r\n---\r\n\r\n### **Logic for Categorization:**\r\n\r\n1. **DifferentProduct:** If `filteredProduct` is set and user mentions a different product than the current one, select this path.\r\n2. **OrderReturn:** If user explicitly requests a return, select this path; general return questions go to **CustomerSupport**.\r\n3. **OrderTracking:** If user explicitly asks about order status, choose this; general shipping questions go to **CustomerSupport**.\r\n4. **BuyingIntent:** If user wants to purchase and product matches context; if mismatch, choose **DifferentProduct**.\r\n5. **Use last_response for context:**\r\n\r\n   * Follow-ups for details ‚Üí **ProductInfo**\r\n   * Follow-ups confirming intent ‚Üí **BuyingIntent**\r\n\r\n---\r\n\r\n### **Output Rules:**\r\n\r\n* Output **only one word**: `ProductInfo`, `DifferentProduct`, `CustomerSupport`, `OrderTracking`, `OrderReturn`, `BuyingIntent`.\r\n* No additional text.\r\n\r\n---\r\n\r\n### **Examples:**\r\n\r\n**Example 1:**\r\n\r\n```\r\nlast_utterance: ‚ÄúWhat are the features of this dimmer?‚Äù\r\nlast_response: ‚ÄúThis dimmer offers smart control and easy installation.‚Äù\r\nnicheSubject: ‚ÄúSwitches and Dimmers‚Äù\r\nfilteredProduct: ‚ÄúSmart Dimmer Switch‚Äù\r\ncurrentState: { \"Product Type\": \"Dimmer\" }\r\nOutput: ProductInfo\r\n```\r\n\r\n**Example 2:**\r\n\r\n```\r\nlast_utterance: ‚ÄúShow me another smart switch.‚Äù\r\nlast_response: ‚ÄúWe have a great dimmer option.‚Äù\r\nnicheSubject: ‚ÄúSwitches and Dimmers‚Äù\r\nfilteredProduct: ‚ÄúSmart Dimmer Switch‚Äù\r\ncurrentState: { \"Product Type\": \"Dimmer\" }\r\nOutput: DifferentProduct\r\n```\r\n\r\n**Example 3:**\r\n\r\n```\r\nlast_utterance: ‚ÄúI want this dimmer.‚Äù\r\nlast_response: ‚ÄúThis dimmer supports LED compatibility and has a sleek design.‚Äù\r\nnicheSubject: ‚ÄúSwitches and Dimmers‚Äù\r\nfilteredProduct: ‚ÄúSmart Dimmer Switch‚Äù\r\ncurrentState: { \"Product Type\": \"Dimmer\" }\r\nOutput: BuyingIntent\r\n```\r\n\r\n**Example 4:**\r\n\r\n```\r\nlast_utterance: ‚ÄúWhat is your return policy?‚Äù\r\nlast_response: ‚ÄúWe accept returns within 30 days.‚Äù\r\nnicheSubject: ‚ÄúSwitches and Dimmers‚Äù\r\nfilteredProduct: ‚ÄúRotary Dimmer‚Äù\r\ncurrentState: { \"Product Type\": \"Dimmer\" }\r\nOutput: CustomerSupport\r\n```\r\n\r\n**Example 5:**\r\n\r\n```\r\nlast_utterance: ‚ÄúWhere is my order?‚Äù\r\nlast_response: ‚ÄúPlease provide your order number.‚Äù\r\nnicheSubject: ‚ÄúSwitches and Dimmers‚Äù\r\nfilteredProduct: ‚ÄúSmart Switch‚Äù\r\ncurrentState: { \"Product Type\": \"Switch\" }\r\nOutput: OrderTracking\r\n```\r\n\r\n**Example 6:**\r\n\r\n```\r\nlast_utterance: ‚ÄúI want to return my order.‚Äù\r\nlast_response: ‚ÄúPlease share your order number to start the process.‚Äù\r\nnicheSubject: ‚ÄúSwitches and Dimmers‚Äù\r\nfilteredProduct: ‚ÄúSmart Dimmer‚Äù\r\ncurrentState: { \"Product Type\": \"Dimmer\" }\r\nOutput: OrderReturn\r\n```\r\n"
            ]
          }
        ]
      },
      "createdAt": "2025-01-18T13:03:31.000Z"
    },
    {
      "id": "67929d264de301f712c5a231",
      "promptID": "67929d264de301f712c5a22f",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t1.\tproductPairsForLLM ‚Äì A structured list of product pairings with associated scores indicating their relevance for upsell or cross-sell opportunities.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "679294b5f2a1a96c77921e2c"
              },
              " \n\n\t2.\torderProductListString ‚Äì A string containing the list of products the customer has purchased.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "67929df56edea88a5de3444f"
              },
              " "
            ]
          },
          {
            "text": [
              {
                "text": [
                  ""
                ]
              }
            ]
          },
          {
            "text": [
              "\t3.\tproductTitlesForLLM ‚Äì A comprehensive list of all available product titles in the store, providing additional context for potential recommendations that may not be present in productPairsForLLM."
            ]
          },
          {
            "text": [
              "\t‚Ä¢\tStored in: ",
              {
                "variableID": "67909732a3a14c8742fb681c"
              },
              " \n\nTask Instructions:\n\t1.\tAnalyze Purchased Products:\n\t‚Ä¢\tExtract the products listed in orderProductListString.\n\t‚Ä¢\tCompare each purchased product with available pairs in productPairsForLLM and consider items in productTitlesForLLM that complement the purchased products.\n\t2.\tIdentify Relevant Complementary Product Recommendations:\n\t‚Ä¢\tRecommend products that enhance or complement the purchased items (e.g., accessories, maintenance kits, add-ons).\n\t‚Ä¢\tPrioritize items with the highest score values in productPairsForLLM, but ensure they logically complement the main product.\n\t‚Ä¢\tAvoid recommending alternative products unless they are a clear upgrade or relevant add-on.\n\t‚Ä¢\tIf no direct pair is found, suggest other available products from productTitlesForLLM that logically complement the purchased products.\n\t‚Ä¢\tDo not recommend products already in the orderProductListString.\n\t3.\tGenerate the Output:\n\t‚Ä¢\tReturn the recommended product titles as a comma-separated string.\n\t‚Ä¢\tIf no relevant recommendations are found, return an empty string.\n\nOutput Rules:\n\t1.\tFormat:\n\t‚Ä¢\tReturn only product titles separated by commas.\n\t‚Ä¢\tExample output: Product Title1, Product Title2\n\t2.\tNo Additional Text:\n\t‚Ä¢\tThe response should contain only the product titles without any extra text, explanations, or formatting.\n\nExamples of Behavior:\n\nExample 1\nInput: productPairsForLLM: { \"pair\": \"Smart Wi-Fi Dimmer Switch & Smart LED Bulb\", \"score\": \"1.00\" },  \n                    { \"pair\": \"Smart LED Bulb & Smart Door Lock\", \"score\": \"0.75\" },  \n                    { \"pair\": \"Smart LED Bulb & Smart Thermostat\", \"score\": \"0.50\" }  \n\norderProductListString: \"Smart Wi-Fi Dimmer Switch\"  \n\nproductTitlesForLLM: \"Smart Wi-Fi Dimmer Switch, Smart LED Bulb, Smart Door Lock, Smart Thermostat\"\nOutput: Smart LED Bulb, Smart Door Lock, Smart Thermostat\n\nExample 2 Input: productPairsForLLM: { \"pair\": \"Smart Wi-Fi Dimmer Switch & Smart LED Bulb\", \"score\": \"1.00\" },  \n                    { \"pair\": \"Smart LED Bulb & Smart Door Lock\", \"score\": \"0.75\" }  \n\norderProductListString: \"Smart LED Bulb\"  \n\nproductTitlesForLLM: \"Smart Wi-Fi Dimmer Switch, Smart LED Bulb, Smart Door Lock, Smart Thermostat\"\nOutput: Smart Door Lock, Smart Wi-Fi Dimmer Switch\n\nExample 3\nInput: productPairsForLLM: { \"pair\": \"Smart Wi-Fi Dimmer Switch & Smart LED Bulb\", \"score\": \"1.00\" },  \n                    { \"pair\": \"Smart LED Bulb & Smart Door Lock\", \"score\": \"0.75\" }  \n\norderProductListString: \"Smart LED Bulb, Smart Door Lock\"\nOutput: Smart Wi-Fi Dimmer Switch, Smart Thermostat\n\n Example 4\nInput: productPairsForLLM: { \"pair\": \"Smart Wi-Fi Dimmer Switch & Smart LED Bulb\", \"score\": \"1.00\" },  \n                    { \"pair\": \"Smart LED Bulb & Smart Door Lock\", \"score\": \"0.75\" }  \n\norderProductListString: \"Smart LED Bulb, Smart Door Lock, Smart Thermostat\"\nOutput: Nothing"
            ]
          }
        ]
      },
      "createdAt": "2025-01-23T19:48:54.000Z"
    },
    {
      "id": "67936ded97b1e544710ded74",
      "promptID": "67936ded97b1e544710ded72",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n1. agentLanguage ‚Äì The language in which to respond to the customer, ensuring consistency with their preferred language.\n‚Ä¢ Stored in: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              "\n2. agentPersona ‚Äì The tone and style the assistant should use, reflecting a friendly, knowledgeable, and approachable persona.\n‚Ä¢ Stored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              "\n3. orderProductListString ‚Äì A string containing the list of products the customer has purchased or intends to buy.\n‚Ä¢ Stored in: ",
              {
                "variableID": "67929df56edea88a5de3444f"
              },
              "\n4. filteredUpsellProducts ‚Äì A list of recommended upsell or cross-sell products based on the customer‚Äôs intended purchase.\n‚Ä¢ Stored in: ",
              {
                "variableID": "67929ec26edea88a5de34547"
              },
              ""
            ]
          },
          {
            "text": [
              "\nGuidelines for the Response:"
            ]
          },
          {
            "text": [
              "\n1. Introduction:\n‚Ä¢ Start with a friendly and engaging opening that acknowledges the customer‚Äôs interest in the purchased products.\n‚Ä¢ Example:\n‚Ä¢ ‚ÄúGreat choice with the [product]! We‚Äôve selected a few complementary items that can enhance your experience.‚Äù\n2. Explanation of Complementary Products:\n‚Ä¢ For each product in filteredUpsellProducts, provide a concise explanation of why it complements the items in orderProductListString.\n‚Ä¢ Focus on key benefits, compatibility, and how the product improves or enhances the user‚Äôs experience.\n‚Ä¢ Example:\n‚Ä¢ ‚ÄúThe [recommended product] is a perfect match for your [purchased product] because it provides added durability and protection, ensuring long-lasting use.‚Äù\n3. Call-to-Action:\n‚Ä¢ Encourage the customer to consider the complementary products by emphasizing convenience, value, or improved performance.\n‚Ä¢ Example:\n‚Ä¢ ‚ÄúAdding these to your order ensures you get the best experience possible!‚Äù\n4. Language and Tone Alignment:\n‚Ä¢ Ensure responses match the style defined in agentPersona, maintaining an informative yet friendly approach.\n‚Ä¢ Keep the message concise and easy to understand in the specified agentLanguage."
            ]
          },
          {
            "text": [
              "\nExample Responses:\n\nExample 1:\nInput:\nagentLanguage: \"English\"  \nagentPersona: \"Friendly and helpful\"  \norderProductListString: \"Smart Wi-Fi Dimmer Switch\"  \nfilteredUpsellProducts: \"Smart LED Bulb, Motion Sensor\"\nOutput:\nGreat choice with the Smart Wi-Fi Dimmer Switch! To make the most of your lighting control, we recommend the Smart LED Bulb. It offers customizable brightness and energy efficiency for your home.\nAdditionally, the Motion Sensor adds convenience by automating your lights when you enter or leave a room.\nThese upgrades will enhance your smart home experience and give you more control than ever!\n\nExample 2:\nInput:\nagentLanguage: \"Dutch\"  \nagentPersona: \"Professional and informative\"  \norderProductListString: \"Slimme Deurslot\"  \nfilteredUpsellProducts: \"Deur- en Raamsensor, Slimme Deurbel\"\nOutput:\nGeweldige keuze met het Slimme Deurslot! Voor extra veiligheid raden we de Deur- en Raamsensor aan. Hiermee kunt u direct zien of ramen of deuren geopend zijn.\nDaarnaast biedt de Slimme Deurbel gemak en extra beveiliging door bezoekers eenvoudig via uw smartphone te beheren.\nMet deze toevoegingen maakt u uw huis nog veiliger en slimmer!\n\nExample 3:\nInput:\nagentLanguage: \"French\"  \nagentPersona: \"Chic and elegant\"  \norderProductListString: \"Cam√©ra de S√©curit√© Intelligente\"  \nfilteredUpsellProducts: \"Carte M√©moire Haute Capacit√©, Support de Montage\"\nOutput:\nExcellente s√©lection avec la Cam√©ra de S√©curit√© Intelligente ! Nous vous recommandons la Carte M√©moire Haute Capacit√© pour stocker vos enregistrements en toute s√©curit√©, ainsi que le Support de Montage pour une installation optimale et √©l√©gante.\nCes accessoires compl√®tent parfaitement votre achat et renforcent la s√©curit√© de votre maison."
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T10:39:41.000Z"
    },
    {
      "id": "6793c1d497b1e544710df0f8",
      "promptID": "6793c1d497b1e544710df0f6",
      "pairID": null,
      "type": "role",
      "data": {
        "role": "user",
        "content": [
          {
            "text": [
              "Input Variables:\n\t1.\tfilteredProducts ‚Äì A list of product titles that were previously recommended.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "673719f5181991bb60d8d275"
              },
              " \n\t2.\tagentLanguage ‚Äì The language in which the response should be generated, ensuring consistency with the customer‚Äôs preferred language.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e92f863bc8c813de00ce"
              },
              " \n\t3.\tagentPersona ‚Äì The tone and style the assistant should embody in the response, reflecting a friendly, professional, and supportive persona.\n\t‚Ä¢\tStored in: ",
              {
                "variableID": "6735e3e8863bc8c813ddfdc0"
              },
              " \n\nResponse Guidelines:\n\t1.\tAcknowledge Previous Recommendations:\n\t‚Ä¢\tIf a single product is in filteredProducts, refer to it individually (e.g., ‚ÄúThis is the product we recommended earlier‚Äù).\n\t‚Ä¢\tIf multiple products are listed, acknowledge them collectively (e.g., ‚ÄúThese are the products we recommended earlier‚Äù).\n\t2.\tEncourage Confirmation:\n\t‚Ä¢\tAsk the user if they are still interested in the product(s).\n\t‚Ä¢\tUse phrases such as:\n\t‚Ä¢\t‚ÄúWould you still like to proceed with this?‚Äù (for a single product).\n\t‚Ä¢\t‚ÄúWould you still like to proceed with one of these?‚Äù (for multiple products).\n\t3.\tAvoid Redundancy:\n\t‚Ä¢\tDo not repeat product details; only mention product titles.\n\t‚Ä¢\tKeep the response concise and to the point.\n\t4.\tNo Greetings:\n\t‚Ä¢\tDo not include greetings such as ‚ÄúHello‚Äù or ‚ÄúHi.‚Äù\n\t‚Ä¢\tThe response should feel like a natural continuation of the conversation.\n\nOutput Format:\n\t‚Ä¢\tMention the previously recommended product(s).\n\t‚Ä¢\tEnd with a follow-up question to check the customer‚Äôs interest.\n\t‚Ä¢\tUse a friendly yet concise tone in line with agentPersona.\n\t‚Ä¢\tEnsure the response is in agentLanguage.\n\nExample Responses:\n\nExample 1:\nInput:\nfilteredProducts: \"Smart Wi-Fi Dimmer Switch, Smart LED Bulb\"  \nagentLanguage: \"English\"  \nagentPersona: \"Friendly and professional\"  \nOutput:\nThese are the products we recommended earlier: Smart Wi-Fi Dimmer Switch, Smart LED Bulb. Would you still like to proceed with one of these?\n\nExample 2:\nInput:\nfilteredProducts: \"Smart Door Lock\"  \nagentLanguage: \"English\"  \nagentPersona: \"Friendly and professional\"  \nOutput:\nThis is the product we recommended earlier: Smart Door Lock. Would you still like to proceed with this?\n\nExample 3:\nInput:\nfilteredProducts: \"Video Doorbell, Motion Sensor, Smart Plug\"  \nagentLanguage: \"English\"  \nagentPersona: \"Supportive and concise\"  \nOutput:\nHere are the products we suggested before: Video Doorbell, Motion Sensor, Smart Plug. Let me know if you‚Äôre still interested in any of them"
            ]
          }
        ]
      },
      "createdAt": "2025-01-24T16:37:40.000Z"
    }
  ],
  "events": [],
  "agents": [],
  "agentAPITools": [],
  "agentFlowTools": [],
  "agentPathTools": [],
  "agentFunctionTools": [],
  "agentIntegrationTools": [],
  "agentPathToolVariables": [],
  "agentFlowToolVariables": [],
  "agentMcpIntegrationTools": [],
  "apiTools": [],
  "apiToolInputVariables": [],
  "integrationTools": [],
  "functions": [
    {
      "id": "67976484639c4e49bca26770",
      "name": "Shopify - Create Return Request",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { \n    shopifyAdminAccessToken,\n    shopifyStoreID, \n    shopifyOrderID,\n    shopifyApiVersion,\n    returnProductQuantity, \n    selectedProductTitle,\n    returnReason\n  } = args.inputVars;\n\n  // Validate input variables\n  if (!shopifyAdminAccessToken || !shopifyStoreID || !shopifyOrderID || !returnProductQuantity || !selectedProductTitle || !returnReason) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables.\" } }]\n    };\n  }\n\n  const shopifyApiUrl = `https://${shopifyStoreID}.myshopify.com/admin/api/${shopifyApiVersion}/graphql.json`;\n  const headers = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  // Allowed Shopify return reasons (Enums must be passed unquoted)\n  const allowedReasons = [\n    \"COLOR\", \"DEFECTIVE\", \"NOT_AS_DESCRIBED\", \"OTHER\",\n    \"SIZE_TOO_LARGE\", \"SIZE_TOO_SMALL\", \"STYLE\",\n    \"UNWANTED\", \"WRONG_ITEM\", \"UNKNOWN\"\n  ];\n\n  // Sanitize and validate return reason\n  const sanitizedReturnReason = allowedReasons.includes(returnReason.trim().toUpperCase())\n    ? returnReason.trim().toUpperCase()\n    : \"UNKNOWN\";\n\n  try {\n    // Step 1: Query returnable fulfillment line items\n    const fulfillmentQuery = {\n      query: `\n        query {\n          returnableFulfillments(orderId: \"${shopifyOrderID}\", first: 10) {\n            edges {\n              node {\n                returnableFulfillmentLineItems(first: 10) {\n                  edges {\n                    node {\n                      fulfillmentLineItem {\n                        id\n                        lineItem {\n                          title\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      `\n    };\n\n    const fulfillmentResponse = await fetch(shopifyApiUrl, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(fulfillmentQuery)\n    });\n\n    const fulfillmentData = await fulfillmentResponse.json;\n\n    if (!fulfillmentData?.data?.returnableFulfillments?.edges.length) {\n      throw new Error(\"No returnable fulfillments found.\");\n    }\n\n    const fulfillments = fulfillmentData.data.returnableFulfillments.edges;\n    let correctFulfillmentLineItemId = null;\n\n    // Step 2: Find the correct fulfillment line item based on product title\n    for (let fulfillment of fulfillments) {\n      for (let lineItem of fulfillment.node.returnableFulfillmentLineItems.edges) {\n        if (lineItem.node.fulfillmentLineItem.lineItem.title === selectedProductTitle) {\n          correctFulfillmentLineItemId = lineItem.node.fulfillmentLineItem.id;\n          break;\n        }\n      }\n      if (correctFulfillmentLineItemId) break;\n    }\n\n    if (!correctFulfillmentLineItemId) {\n      throw new Error(`Fulfillment line item not found for product: ${selectedProductTitle}`);\n    }\n\n    // Step 3: Create the return request with the validated return reason\n    const returnRequestMutation = {\n      query: `\n        mutation {\n          returnRequest(\n            input: {\n              orderId: \"${shopifyOrderID}\",\n              returnLineItems: [\n                {\n                  fulfillmentLineItemId: \"${correctFulfillmentLineItemId}\",\n                  quantity: ${returnProductQuantity},\n                  returnReason: ${sanitizedReturnReason}\n                }\n              ]\n            }\n          ) {\n            return {\n              id\n              status\n            }\n            userErrors {\n              field\n              message\n            }\n          }\n        }\n      `\n    };\n\n    const returnRequestResponse = await fetch(shopifyApiUrl, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(returnRequestMutation)\n    });\n\n    const returnRequestData = await returnRequestResponse.json;\n\n    if (returnRequestData.errors) {\n      throw new Error(`Return request failed: ${returnRequestData.errors[0].message}`);\n    }\n\n    return {\n      next: { path: 'success' },\n      trace: [{ type: \"debug\", payload: { message: \"Return request created successfully.\" } }]\n    };\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: `Error: ${error.message}` } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754474872197-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "679764d3639c4e49bca2679c",
        "679764d5639c4e49bca2679d"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:07:53.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793726492c4506f06159f56",
      "name": "Generate Dynamic Upsell Carousel",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { filteredProducts, rawProductData, bt_orderNow, bt_moreInfo, bt_notInterested } = args.inputVars;\n\n  let parsedProductData;\n\n  try {\n    // Parse rawProductData\n    parsedProductData =\n      typeof rawProductData === \"string\" ? JSON.parse(rawProductData) : rawProductData;\n\n    if (!Array.isArray(parsedProductData)) {\n      throw new Error(\"Invalid rawProductData structure. Expected an array.\");\n    }\n  } catch (err) {\n    console.error(\"Error parsing rawProductData:\", err.message, rawProductData);\n    throw new Error(\"Invalid rawProductData structure. Ensure it is a valid JSON array.\");\n  }\n\n  // Normalize filtered products to extract product titles and variants\n  const productSelections = filteredProducts\n    .split(',')\n    .map(entry => entry.trim().toLowerCase())\n    .filter(Boolean)\n    .map(entry => {\n      const parts = entry.split('|').map(part => part.trim());\n      return {\n        productTitle: parts[0].toLowerCase(),\n        variants: parts.slice(1).map(variant => variant.toLowerCase())\n      };\n    });\n\n  // Filter products based on the title\n  const matchedProducts = parsedProductData.filter(product => {\n    const normalizedTitle = product.title.toLowerCase().trim();\n    return productSelections.some(selection => selection.productTitle === normalizedTitle);\n  });\n\n  // Prepare carousel items\n  const carouselItems = matchedProducts.map(product => {\n    const productSelection = productSelections.find(\n      sel => sel.productTitle === product.title.toLowerCase().trim()\n    );\n\n    // Extract variants and process edges correctly\n    const variants = product.variants?.edges.map(edge => edge.node) || [];\n\n    // If specific variants are mentioned, filter accordingly\n    let selectedVariants = variants;\n    if (productSelection.variants.length > 0) {\n      selectedVariants = variants.filter(variant =>\n        productSelection.variants.includes(variant.title.toLowerCase().trim())\n      );\n    }\n\n    // Determine the price to display\n    let displayPrice;\n    if (selectedVariants.length === 1) {\n      displayPrice = selectedVariants[0].price;\n    } else {\n      const allPrices = selectedVariants.map(v => parseFloat(v.price)).filter(Boolean);\n      displayPrice = allPrices.length > 0 ? Math.min(...allPrices).toFixed(2) : \"Unknown\";\n    }\n\n    // Collect variant prices and IDs\n    const variantPrices = selectedVariants.map(v => v.price);\n    const variantIds = selectedVariants.map(v => v.id);\n\n    // Process variant titles\n    const variantTitles = selectedVariants.map(v => \n      v.title === \"Default Title\" ? \"Not needed\" : v.title\n    );\n\n    // Fallback to product image if variant images are not available\n    const images = selectedVariants.map(v => v.image?.url).filter(Boolean);\n    const imageUrl = images.length > 0 ? images[0] : product.featuredMedia?.preview?.image?.url || null;\n\n    return {\n      title: product.title || \"Unknown Product\",\n      description: { text: `Prijs: ‚Ç¨${displayPrice}` },\n      imageUrl: imageUrl,\n      buttons: [\n        {\n          name: bt_orderNow || \"Bestel nu\",\n          request: {\n            type: \"checkout\",\n            payload: {\n              productDetails: {\n                productId: product.id,\n                productTitle: product.title,\n                productDescription: product.description || \"No Description\",\n                variantIds: variantIds.join(\", \"),\n                variantTitles: variantTitles.join(\", \"),\n                variantPrices: variantPrices.join(\", \"),\n                price: displayPrice,\n              },\n            },\n          },\n        },\n        {\n          name: bt_moreInfo || \"Meer informatie\",\n          request: {\n            type: \"moreInfo\",\n            payload: {\n              productDetails: {\n                productTitle: product.title,\n                productDescription: product.description || \"No Description\",\n              },\n            },\n          },\n        },\n        {\n          name: bt_notInterested || \"Niet ge√Ønteresseerd\",\n          request: {\n            type: \"notInterested\",\n            payload: {\n              message: \"User not interested in this product\"\n            }\n          }\n        }\n      ],\n    };\n  });\n\n  // Generate product titles and descriptions for output\n  const productInfo = carouselItems\n    .map(item => `${item.title}, ${item.description.text}`)\n    .join(\" | \");\n\n  // Handle case where no products are matched\n  if (carouselItems.length === 0) {\n    return {\n      next: { path: \"no_match\" },\n      outputVars: {\n        productInfo: \"No matching products found.\",\n      },\n    };\n  }\n\n  return {\n    trace: [\n      {\n        type: \"carousel\",\n        payload: {\n          layout: \"Carousel\",\n          cards: carouselItems,\n        },\n      },\n    ],\n    next: {\n      listen: true,\n      to: [\n        {\n          on: { \"event.type\": \"checkout\" },\n          dest: \"checkout\",\n          outputVars: {\n            productInfo,\n          },\n        },\n        {\n          on: { \"event.type\": \"moreInfo\" },\n          dest: \"moreInfo\",\n          outputVars: {\n            productInfo,\n          },\n        },\n        {\n          on: { \"event.type\": \"notInterested\" },\n          dest: \"c\",\n          outputVars: {\n            productInfo,\n          },\n        },\n      ],\n      defaultTo: \"fallback\",\n    },\n    outputVars: {\n      productInfo,\n    },\n  };\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754477691649-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "6793726492c4506f06159f57",
        "6793726492c4506f06159f58",
        "6793726492c4506f06159f5a",
        "6793726492c4506f06159f5b",
        "6793728992c4506f06159f83",
        "6793726492c4506f06159f59"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:54:52.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793ccfa92c4506f0615da61",
      "name": "Shopify - Get Tracking URL",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { shopifyStoreID, shopifyAdminAccessToken, orderNumber } = args.inputVars;\n\n  // Check if required variables are provided\n  if (!shopifyStoreID || !shopifyAdminAccessToken || !orderNumber) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables\" } }]\n    };\n  }\n\n  const orderQuery = `name:${orderNumber}`;\n\n  const shopifyHeaders = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  const getOrderIDQuery = `\n    query GetOrderID($orderQuery: String!) {\n      orders(first: 1, query: $orderQuery) {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n  `;\n\n  const getOrderIDBody = JSON.stringify({\n    query: getOrderIDQuery,\n    variables: { orderQuery }\n  });\n\n  try {\n    const response = await fetch(`https://${shopifyStoreID}.myshopify.com/admin/api/2024-10/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body: getOrderIDBody\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text;\n      throw new Error(`Error fetching order ID: ${errorText}`);\n    }\n\n    const result = await response.json;\n    const orderID = result?.data?.orders?.edges?.[0]?.node?.id;\n\n    // Check if order ID exists; if not, set trackingURL to \"False\"\n    if (!orderID) {\n      return {\n        outputVars: { trackingURL: \"False\" },\n        next: { path: 'success' },\n        trace: [{ type: \"debug\", payload: { message: `Order ID not found for order number: ${orderNumber}` } }]\n      };\n    }\n\n    const getOrderDetailsQuery = `\n      query GetOrderDetails($orderID: ID!) {\n        order(id: $orderID) {\n          name\n          fulfillments {\n            trackingInfo {\n              number\n              url\n            }\n          }\n        }\n      }\n    `;\n\n    const getOrderDetailsBody = JSON.stringify({\n      query: getOrderDetailsQuery,\n      variables: { orderID }\n    });\n\n    const detailsResponse = await fetch(`https://${shopifyStoreID}.myshopify.com/admin/api/2024-10/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body: getOrderDetailsBody\n    });\n\n    if (!detailsResponse.ok) {\n      const errorText = await detailsResponse.text;\n      throw new Error(`Error fetching order details: ${errorText}`);\n    }\n\n    const detailsResult = await detailsResponse.json;\n    const trackingURL = detailsResult?.data?.order?.fulfillments?.[0]?.trackingInfo?.[0]?.url || \"False\";\n\n    // Return the tracking URL as output variable\n    return {\n      outputVars: { trackingURL },\n      next: { path: 'success' },\n      trace: [{ type: \"debug\", payload: { message: `Tracking URL: ${trackingURL}` } }]\n    };\n\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: `[ERROR]: ${error.message}` } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754475215359-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "6793cd2492c4506f0615da92",
        "6793cd2892c4506f0615da95"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:13:36.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793e829006dc7f7d20d603d",
      "name": "Shopify - Email Get Order Data",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { email, shopifyStoreID, shopifyAdminAccessToken } = args.inputVars;\n\n  if (!email || !shopifyStoreID || !shopifyAdminAccessToken) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables\" } }]\n    };\n  }\n\n  const shopifyHeaders = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  // Step 1: Get Customer ID by Email\n  const getCustomerIDQuery = `\n    query getCustomerByEmail($email: String!) {\n      customers(first: 1, query: $email) {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n  `;\n\n  const getCustomerIDBody = JSON.stringify({\n    query: getCustomerIDQuery,\n    variables: { email: `email:${email}` }\n  });\n\n  try {\n    const customerResponse = await fetch(`https://${shopifyStoreID}.myshopify.com/admin/api/2024-10/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body: getCustomerIDBody\n    });\n\n    if (!customerResponse.ok) {\n      const errorText = await customerResponse.text;\n      throw new Error(`Error fetching customer ID: ${errorText}`);\n    }\n\n    const customerResult = await customerResponse.json;\n    const customerID = customerResult?.data?.customers?.edges?.[0]?.node?.id;\n\n    if (!customerID) {\n      return {\n        outputVars: { ordersData: \"No customer found with the provided email\" },\n        trace: [{ type: \"debug\", payload: { message: `No customer found with email: ${email}`, data: customerResult } }],\n        next: { path: 'no_customer' }\n      };\n    }\n\n    // Step 2: Get the latest 5 orders by Customer ID\n    const getCustomerOrdersQuery = `\n      query getOrdersByCustomerID($customerID: ID!) {\n        customer(id: $customerID) {\n          orders(first: 5, sortKey: CREATED_AT, reverse: true) {\n            edges {\n              node {\n                name\n                totalPriceSet {\n                  shopMoney {\n                    amount\n                    currencyCode\n                  }\n                }\n                fulfillments {\n                  trackingInfo {\n                    url\n                  }\n                }\n                createdAt\n              }\n            }\n          }\n        }\n      }\n    `;\n\n    const getCustomerOrdersBody = JSON.stringify({\n      query: getCustomerOrdersQuery,\n      variables: { customerID: customerID }\n    });\n\n    const ordersResponse = await fetch(`https://${shopifyStoreID}.myshopify.com/admin/api/2024-10/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body: getCustomerOrdersBody\n    });\n\n    if (!ordersResponse.ok) {\n      const errorText = await ordersResponse.text;\n      throw new Error(`Error fetching orders: ${errorText}`);\n    }\n\n    const ordersResult = await ordersResponse.json;\n    const orders = ordersResult?.data?.customer?.orders?.edges || [];\n\n    // Filter orders from the last 14 days\n    const currentDate = new Date();\n    const filteredOrders = orders.filter(order => {\n      const orderDate = new Date(order.node.createdAt);\n      const timeDifference = currentDate - orderDate;\n      const daysDifference = timeDifference / (1000 * 3600 * 24);\n      return daysDifference <= 14;\n    });\n\n    // Output the filtered orders as a JSON string\n    return {\n      outputVars: { ordersData: JSON.stringify({ data: { customer: { orders: { edges: filteredOrders } } } }) },\n      next: { path: 'success' },\n      trace: [\n        { type: \"debug\", payload: { message: \"Filtered orders data fetched successfully\", data: filteredOrders } }\n      ]\n    };\n\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: `[ERROR]: ${error.message}` } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754475151683-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "6793e829006dc7f7d20d603e",
        "6793e829006dc7f7d20d603f"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:12:32.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67372bf4dd4bf1d669dc1b86",
      "name": "Generate Dynamic Carousel",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { filteredProducts, rawProductData, bt_orderNow, bt_moreInfo } = args.inputVars;\n\n  let parsedProductData;\n\n  try {\n    // Parse rawProductData\n    parsedProductData =\n      typeof rawProductData === \"string\" ? JSON.parse(rawProductData) : rawProductData;\n\n    if (!Array.isArray(parsedProductData)) {\n      throw new Error(\"Invalid rawProductData structure. Expected an array.\");\n    }\n  } catch (err) {\n    console.error(\"Error parsing rawProductData:\", err.message, rawProductData);\n    throw new Error(\"Invalid rawProductData structure. Ensure it is a valid JSON array.\");\n  }\n\n  // Normalize filtered products to extract product titles and variants\n  const productSelections = filteredProducts\n    .split(',')\n    .map(entry => entry.trim().toLowerCase())\n    .filter(Boolean)\n    .map(entry => {\n      const parts = entry.split('|').map(part => part.trim());\n      return {\n        productTitle: parts[0].toLowerCase(),\n        variants: parts.slice(1).map(variant => variant.toLowerCase())\n      };\n    });\n\n  // Filter products based on the title\n  const matchedProducts = parsedProductData.filter(product => {\n    const normalizedTitle = product.title.toLowerCase().trim();\n    return productSelections.some(selection => selection.productTitle === normalizedTitle);\n  });\n\n  // Prepare carousel items\n  const carouselItems = matchedProducts.map(product => {\n    const productSelection = productSelections.find(\n      sel => sel.productTitle === product.title.toLowerCase().trim()\n    );\n\n    // Extract variants and process edges correctly\n    const variants = product.variants?.edges.map(edge => edge.node) || [];\n\n    // If specific variants are mentioned, filter accordingly\n    let selectedVariants = variants;\n    if (productSelection.variants.length > 0) {\n      selectedVariants = variants.filter(variant =>\n        productSelection.variants.includes(variant.title.toLowerCase().trim())\n      );\n    }\n\n    // Determine the price to display\n    let displayPrice;\n    if (selectedVariants.length === 1) {\n      displayPrice = selectedVariants[0].price;\n    } else {\n      const allPrices = selectedVariants.map(v => parseFloat(v.price)).filter(Boolean);\n      displayPrice = allPrices.length > 0 ? Math.min(...allPrices).toFixed(2) : \"Unknown\";\n    }\n\n    // Collect variant prices and IDs\n    const variantPrices = selectedVariants.map(v => v.price);\n    const variantIds = selectedVariants.map(v => v.id);\n\n    // Process variant titles\n    const variantTitles = selectedVariants.map(v => \n      v.title === \"Default Title\" ? \"Not needed\" : v.title\n    );\n\n    // Fallback to product image if variant images are not available\n    const images = selectedVariants.map(v => v.image?.url).filter(Boolean);\n    const imageUrl = images.length > 0 ? images[0] : product.featuredMedia?.preview?.image?.url || null;\n\n    return {\n      title: product.title || \"Unknown Product\",\n      description: { text: `Prijs: ‚Ç¨${displayPrice}` },\n      imageUrl: imageUrl,\n      buttons: [\n        {\n          name: bt_orderNow || \"Bestel nu\",\n          request: {\n            type: \"checkout\",\n            payload: {\n              productDetails: {\n                productId: product.id,\n                productTitle: product.title,\n                productDescription: product.description || \"No Description\",\n                variantIds: variantIds.join(\", \"),\n                variantTitles: variantTitles.join(\", \"),\n                variantPrices: variantPrices.join(\", \"),\n                price: displayPrice,\n              },\n            },\n          },\n        },\n        {\n          name: bt_moreInfo || \"Meer informatie\",\n          request: {\n            type: \"moreInfo\",\n            payload: {\n              productDetails: {\n                productTitle: product.title,\n                productDescription: product.description || \"No Description\",\n              },\n            },\n          },\n        },\n      ],\n    };\n  });\n\n  // Generate product titles and descriptions for output\n  const productInfo = carouselItems\n    .map(item => `${item.title}, ${item.description.text}`)\n    .join(\" | \");\n\n  // Handle case where no products are matched\n  if (carouselItems.length === 0) {\n    return {\n      next: { path: \"no_match\" },\n      outputVars: {\n        productInfo: \"No matching products found.\",\n      },\n    };\n  }\n\n  return {\n    trace: [\n      {\n        type: \"carousel\",\n        payload: {\n          layout: \"Carousel\",\n          cards: carouselItems,\n        },\n      },\n    ],\n    next: {\n      listen: true,\n      to: [\n        {\n          on: { \"event.type\": \"checkout\" },\n          dest: \"checkout\",\n          outputVars: {\n            productInfo,\n          },\n        },\n        {\n          on: { \"event.type\": \"moreInfo\" },\n          dest: \"moreInfo\",\n          outputVars: {\n            productInfo,\n          },\n        },\n      ],\n      defaultTo: \"fallback\",\n    },\n    outputVars: {\n      productInfo,\n    },\n  };\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754427239496-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "67372c85dd4bf1d669dc1c12",
        "67372c98dd4bf1d669dc1c88",
        "678ba51722fbcb6ac61274be",
        "678bd95522fbcb6ac6129c62",
        "67372c9fdd4bf1d669dc1ca8"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T20:54:00.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679e1e84b581cc269ec41d8f",
      "name": "Shopify - Return the Whole Order",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const {\n    shopifyAdminAccessToken,\n    shopifyStoreID,\n    shopifyApiVersion,\n    orderNumber\n  } = args.inputVars;\n\n  // Validate required input variables\n  if (!shopifyAdminAccessToken || !shopifyStoreID || !shopifyApiVersion || !orderNumber) {\n    return {\n      next: { path: 'error' },\n      trace: [{\n        type: \"debug\",\n        payload: { message: \"Missing required input variables.\" }\n      }]\n    };\n  }\n\n  // Construct the Shopify GraphQL API URL and headers\n  const shopifyApiUrl = `https://${shopifyStoreID}.myshopify.com/admin/api/${shopifyApiVersion}/graphql.json`;\n  const headers = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  try {\n    // =========================================================================\n    // Step 1: Get the Order ID using the order number.\n    // Remove a potential leading '#' and then use a query to look up the order by name.\n    // =========================================================================\n    const sanitizedOrderNumber = orderNumber.replace(/^#/, '');\n    const orderIdQuery = {\n      query: `\n        query GetOrderID($orderNumber: String!) {\n          orders(first: 1, query: $orderNumber) {\n            edges {\n              node {\n                id\n              }\n            }\n          }\n        }\n      `,\n      variables: { orderNumber: `name:${sanitizedOrderNumber}` }\n    };\n\n    const orderIdResponse = await fetch(shopifyApiUrl, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(orderIdQuery)\n    });\n    const orderIdData = await orderIdResponse.json;\n\n    if (!orderIdData?.data?.orders?.edges.length) {\n      throw new Error(\"Order not found. Ensure order number is correct.\");\n    }\n\n    const shopifyOrderID = orderIdData.data.orders.edges[0].node.id;\n\n    // =========================================================================\n    // Step 2: Retrieve all returnable fulfillment line items for the order.\n    // This query fetches all the returnable fulfillment line items (up to 10 fulfillments,\n    // each with up to 10 line items). Adjust pagination as needed.\n    // =========================================================================\n    const returnableFulfillmentsQuery = {\n      query: `\n        query GetReturnableFulfillments($orderId: ID!) {\n          returnableFulfillments(orderId: $orderId, first: 10) {\n            edges {\n              node {\n                id\n                returnableFulfillmentLineItems(first: 10) {\n                  edges {\n                    node {\n                      fulfillmentLineItem {\n                        id\n                      }\n                      quantity\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      `,\n      variables: { orderId: shopifyOrderID }\n    };\n\n    const fulfillmentResponse = await fetch(shopifyApiUrl, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(returnableFulfillmentsQuery)\n    });\n    const fulfillmentData = await fulfillmentResponse.json;\n\n    if (!fulfillmentData?.data?.returnableFulfillments?.edges.length) {\n      throw new Error(\"No returnable fulfillments found for this order.\");\n    }\n\n    // =========================================================================\n    // Step 3: Build the array of returnLineItems to return all items.\n    // For each returnable fulfillment line item, we set the quantity to the full\n    // returnable amount and the return reason to \"UNWANTED\".\n    // =========================================================================\n    let returnLineItems = [];\n\n    for (let fulfillmentEdge of fulfillmentData.data.returnableFulfillments.edges) {\n      const lineItemsEdges = fulfillmentEdge.node.returnableFulfillmentLineItems.edges;\n      for (let lineItemEdge of lineItemsEdges) {\n        const item = lineItemEdge.node;\n        if (item?.fulfillmentLineItem?.id) {\n          returnLineItems.push({\n            fulfillmentLineItemId: item.fulfillmentLineItem.id,\n            quantity: item.quantity,\n            returnReason: \"UNWANTED\"  // Fixed return reason for all items.\n          });\n        }\n      }\n    }\n\n    if (!returnLineItems.length) {\n      throw new Error(\"No returnable line items found for this order.\");\n    }\n\n    // =========================================================================\n    // Step 4: Create the return request using the gathered order ID and return line items.\n    // This mutation creates a return request for every returnable line item.\n    // =========================================================================\n    const returnRequestMutation = {\n      query: `\n        mutation CreateReturn($input: ReturnRequestInput!) {\n          returnRequest(input: $input) {\n            userErrors {\n              field\n              message\n            }\n            return {\n              id\n              status\n            }\n          }\n        }\n      `,\n      variables: {\n        input: {\n          orderId: shopifyOrderID,\n          returnLineItems: returnLineItems\n        }\n      }\n    };\n\n    const returnRequestResponse = await fetch(shopifyApiUrl, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(returnRequestMutation)\n    });\n    const returnRequestData = await returnRequestResponse.json;\n\n    if (!returnRequestData?.data?.returnRequest?.return) {\n      const errorMessage =\n        returnRequestData?.data?.returnRequest?.userErrors?.[0]?.message ||\n        \"Unknown error\";\n      throw new Error(`Return request failed: ${errorMessage}`);\n    }\n\n    return {\n      next: { path: 'success' },\n      outputVars: {\n        returnID: returnRequestData.data.returnRequest.return.id,\n        returnStatus: returnRequestData.data.returnRequest.return.status\n      },\n      trace: [{\n        type: \"debug\",\n        payload: { message: \"Return request created successfully.\" }\n      }]\n    };\n\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{\n        type: \"debug\",\n        payload: { message: `Error: ${error.message}` }\n      }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754474831124-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "679e1eadb581cc269ec41dd1",
        "679e1eb3b581cc269ec41dd3"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:07:12.000Z",
      "updatedByID": 893814
    },
    {
      "id": "678a31003f09b38dd6f7ea01",
      "name": "Shopify - Get All Products",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { shopifyStoreID, shopifyAdminAccessToken, shopifyApiVersion } = args.inputVars;\n\n  if (!shopifyStoreID || !shopifyAdminAccessToken || !shopifyApiVersion) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables\" } }]\n    };\n  }\n\n  const shopifyHeaders = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  const getProductsQuery = `\n    query GetAllProducts($cursor: String) {\n      products(first: 50, after: $cursor, query: \"status:active\") {\n        edges {\n          node {\n            id\n            title\n            description\n            productType\n            tags\n            vendor\n            featuredMedia {\n              preview {\n                image {\n                  url\n                }\n              }\n            }\n            variants(first: 10) {\n              edges {\n                node {\n                  id\n                  title\n                  price\n                  sku\n                  image {\n                    url\n                  }\n                }\n              }\n            }\n          }\n        }\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n      }\n    }\n  `;\n\n  const fetchProducts = async (cursor = null) => {\n    const body = JSON.stringify({\n      query: getProductsQuery,\n      variables: { cursor }\n    });\n\n    const response = await fetch(`https://${shopifyStoreID}.myshopify.com/admin/api/${shopifyApiVersion}/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text;\n      throw new Error(`Shopify API request failed: ${response.statusText} - ${errorText}`);\n    }\n\n    const result = await response.json;\n\n    if (!result || !result.data || !result.data.products) {\n      throw new Error(\"No data received from Shopify API or invalid structure.\");\n    }\n\n    return result.data.products;\n  };\n\n  try {\n    let products = [];\n    let cursor = null;\n    let hasNextPage = true;\n\n    while (hasNextPage) {\n      const data = await fetchProducts(cursor);\n\n      if (!data.edges || !data.pageInfo) {\n        throw new Error(\"Invalid response structure: Missing edges or pageInfo.\");\n      }\n\n      products = products.concat(data.edges.map(edge => edge.node));\n\n      hasNextPage = data.pageInfo.hasNextPage || false;\n      cursor = data.pageInfo.endCursor || null;\n    }\n\n    if (products.length === 0) {\n      throw new Error(\"No products found.\");\n    }\n\n    // Map relevant product info for LLM\n    const productInfoForLLM = {\n      storeVendor: products.length > 0 ? (products[0].vendor || \"No Vendor\") : \"No Vendor\",\n      productTypes: [...new Set(products.map(product => product.productType || \"Unknown\"))],\n      tags: [...new Set(products.flatMap(product => product.tags || []))],\n      allProducts: products.map(product => ({\n        title: product.title || \"Untitled Product\",\n        description: product.description || \"No description available.\",\n        productType: product.productType || \"Unknown\",\n        tags: product.tags || [],\n        vendor: product.vendor || \"No Vendor\",\n        variants: product.variants?.edges.map(variantEdge => variantEdge.node.title || \"Untitled Variant\") || []\n      }))\n    };\n\n    // Extract only product titles\n    const productTitlesForLLM = products.map(product => product.title || \"Untitled Product\");\n\n    return {\n      outputVars: {\n        productInfoForLLM: JSON.stringify(productInfoForLLM),  // Store only relevant info\n        rawProductData: JSON.stringify(products),              // Full product data for reference\n        productTitlesForLLM: JSON.stringify(productTitlesForLLM)            // New variable containing only product titles\n      },\n      next: { path: 'success' },\n      trace: [\n        {\n          type: 'debug',\n          payload: { message: 'Products fetched and formatted successfully' }\n        }\n      ]\n    };\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: `[ERROR]: ${error.message}` } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754426822032-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "This will get all the products from the clients Shopify backend",
      "pathOrder": [
        "678a31323f09b38dd6f7ea1f",
        "678a31353f09b38dd6f7ea20"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-05T20:47:03.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67377d2cbdb17488f6f808d7",
      "name": "Shopify - Create Checkout URL",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { orderProductList, shopifyStoreID, shopifyStorefrontAccessToken, shopifyApiVersion } = args.inputVars;\n\n  // Validate Inputs\n  if (!orderProductList || !shopifyStoreID || !shopifyStorefrontAccessToken || !shopifyApiVersion) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables\" } }]\n    };\n  }\n\n  // Parse orderProductList\n  let parsedOrderProductList;\n  try {\n    parsedOrderProductList = JSON.parse(orderProductList);\n    if (!Array.isArray(parsedOrderProductList)) {\n      throw new Error(\"orderProductList is not an array\");\n    }\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Invalid orderProductList format: \" + error.message } }]\n    };\n  }\n\n  const shopifyHeaders = {\n    'X-Shopify-Storefront-Access-Token': shopifyStorefrontAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  try {\n    // Step 1: Create Shopify Cart\n    const createCartQuery = `\n      mutation {\n        cartCreate(input: {}) {\n          cart {\n            id\n          }\n        }\n      }\n    `;\n\n    const createCartResponse = await fetch(`https://${shopifyStoreID}.myshopify.com/api/${shopifyApiVersion}/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body: JSON.stringify({ query: createCartQuery })\n    });\n\n    if (!createCartResponse.ok) {\n      const errorText = await createCartResponse.text;\n      throw new Error(`Error creating cart: ${errorText}`);\n    }\n\n    const createCartData = await createCartResponse.json;\n    const cartId = createCartData.data?.cartCreate?.cart?.id;\n\n    if (!cartId) {\n      throw new Error(\"Cart creation failed, cart ID not found.\");\n    }\n\n    // Step 2: Add Products to Shopify Cart\n    for (const product of parsedOrderProductList) {\n      const addProductQuery = `\n        mutation AddLineItemsToCart($cartId: ID!, $lines: [CartLineInput!]!) {\n          cartLinesAdd(cartId: $cartId, lines: $lines) {\n            cart {\n              id\n              lines(first: 10) {\n                edges {\n                  node {\n                    id\n                    quantity\n                    merchandise {\n                      ... on ProductVariant {\n                        id\n                        title\n                        product {\n                          title\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n            userErrors {\n              field\n              message\n            }\n          }\n        }\n      `;\n\n      const variables = {\n        cartId: cartId,\n        lines: [\n          {\n            merchandiseId: product.variantID,\n            quantity: parseInt(product.quantity, 10)\n          }\n        ]\n      };\n\n      const body = JSON.stringify({\n        query: addProductQuery,\n        variables\n      });\n\n      const addProductResponse = await fetch(`https://${shopifyStoreID}.myshopify.com/api/${shopifyApiVersion}/graphql.json`, {\n        method: 'POST',\n        headers: shopifyHeaders,\n        body\n      });\n\n      if (!addProductResponse.ok) {\n        const errorText = await addProductResponse.text;\n        throw new Error(`Error adding product to cart: ${errorText}`);\n      }\n\n      await addProductResponse.json;\n    }\n\n    // Step 3: Generate Checkout URL\n    const getCheckoutUrlQuery = `\n      query {\n        cart(id: \"${cartId}\") {\n          checkoutUrl\n        }\n      }\n    `;\n\n    const getCheckoutUrlResponse = await fetch(`https://${shopifyStoreID}.myshopify.com/api/${shopifyApiVersion}/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body: JSON.stringify({ query: getCheckoutUrlQuery })\n    });\n\n    if (!getCheckoutUrlResponse.ok) {\n      const errorText = await getCheckoutUrlResponse.text;\n      throw new Error(`Error fetching checkout URL: ${errorText}`);\n    }\n\n    const getCheckoutUrlData = await getCheckoutUrlResponse.json;\n    const checkoutUrl = getCheckoutUrlData.data?.cart?.checkoutUrl;\n\n    if (!checkoutUrl) {\n      throw new Error(\"Checkout URL generation failed.\");\n    }\n\n    // Return the Checkout URL\n    return {\n      outputVars: { checkoutUrl },\n      next: { path: 'success' },\n      trace: [{ type: \"debug\", payload: { message: `Checkout URL: ${checkoutUrl}` } }]\n    };\n\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: `[ERROR]: ${error.message}` } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754474290479-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "67377d78bdb17488f6f8091f",
        "67377d81bdb17488f6f80922"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T09:58:11.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794d2c892c4506f06164ea4",
      "name": "Shopify - Get Return Policy Data",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { shopifyStoreID, shopifyAdminAccessToken, shopifyApiVersion } = args.inputVars;\n\n  // Validate required inputs\n  if (!shopifyStoreID || !shopifyAdminAccessToken || !shopifyApiVersion) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables\" } }]\n    };\n  }\n\n  // Shopify API request headers\n  const shopifyHeaders = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  // GraphQL query to fetch shop policies including the return policy\n  const getReturnPolicyQuery = `\n    query GetReturnPolicy {\n      shop {\n        shopPolicies {\n          body\n          title\n          type\n        }\n      }\n    }\n  `;\n\n  // Function to fetch the return policy from Shopify\n  const fetchReturnPolicy = async () => {\n    const body = JSON.stringify({ query: getReturnPolicyQuery });\n\n    // Send request to Shopify GraphQL API\n    const response = await fetch(`https://${shopifyStoreID}.myshopify.com/admin/api/${shopifyApiVersion}/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text;\n      throw new Error(`Shopify API request failed: ${response.statusText} - ${errorText}`);\n    }\n\n    const result = await response.json;\n\n    if (!result || !result.data || !result.data.shop || !result.data.shop.shopPolicies) {\n      throw new Error(\"No data received from Shopify API or invalid structure.\");\n    }\n\n    return result.data.shop.shopPolicies;\n  };\n\n  try {\n    // Fetch policies from Shopify\n    const policies = await fetchReturnPolicy();\n\n    // Find the return/refund policy by filtering the type\n    const returnPolicy = policies.find(policy => policy.type === \"REFUND_POLICY\");\n\n    // Handle case when no return policy is found\n    if (!returnPolicy) {\n      throw new Error(\"No return policy found in the Shopify store.\");\n    }\n\n    return {\n      outputVars: {\n        returnPolicyBody: returnPolicy.body // Output only the return policy body\n      },\n      next: { path: 'success' },\n      trace: [\n        {\n          type: 'debug',\n          payload: { message: 'Return policy fetched successfully' }\n        }\n      ]\n    };\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: `[ERROR]: ${error.message}` } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754474570054-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "6794d31192c4506f06164f15",
        "6794d31792c4506f06164f16"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:02:51.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794e33792c4506f06165a3c",
      "name": "Shopify - Get Return Orders by OrderID",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { orderNumber, shopifyAdminAccessToken, shopifyStoreID, shopifyApiVersion, extractReturnDays } = args.inputVars;\n\n  // Validate input variables\n  if (!orderNumber || !shopifyAdminAccessToken || !shopifyStoreID || !shopifyApiVersion || !extractReturnDays) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables.\" } }]\n    };\n  }\n\n  const shopifyApiUrl = `https://${shopifyStoreID}.myshopify.com/admin/api/${shopifyApiVersion}/graphql.json`;\n\n  const headers = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  // Query to get the order ID based on order number\n  const orderQuery = {\n    query: `\n      query ($orderNumber: String!) {\n        orders(first: 1, query: $orderNumber) {\n          edges {\n            node {\n              id\n              name\n              createdAt\n              lineItems(first: 10) {\n                edges {\n                  node {\n                    title\n                    quantity\n                    product {\n                      id\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    `,\n    variables: { orderNumber }\n  };\n\n  try {\n    // Fetch order details from Shopify\n    const response = await fetch(shopifyApiUrl, {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(orderQuery)\n    });\n\n    const responseData = await response.json;\n\n    // Check if order exists\n    if (!responseData?.data?.orders?.edges.length) {\n      throw new Error(\"Order not found.\");\n    }\n\n    const order = responseData.data.orders.edges[0].node;\n    const shopifyOrderID = order.id; // Extract Order ID\n\n    // Log the Order ID for debugging\n    const traceLogs = [\n      { type: \"debug\", payload: { message: `Order ID found: ${shopifyOrderID}` } }\n    ];\n\n    // Check if the order is eligible for return based on extractReturnDays\n    const orderDate = new Date(order.createdAt);\n    const currentDate = new Date();\n    const returnDaysLimit = parseInt(extractReturnDays, 10);\n\n    const diffTime = Math.abs(currentDate - orderDate);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // Convert milliseconds to days\n\n    if (diffDays > returnDaysLimit) {\n      return {\n        next: { path: 'no_valid' },\n        outputVars: {\n          message: `Order ${order.name} is not eligible for return.`,\n          orderID: shopifyOrderID\n        },\n        trace: [\n          ...traceLogs,\n          { type: \"debug\", payload: { message: `Order ${order.name} exceeds return period.` } }\n        ]\n      };\n    }\n\n    // Extract order information\n    const productTitles = order.lineItems.edges.map(item => item.node.title).join(', ');\n    const orderedQuantities = order.lineItems.edges.map(item => item.node.quantity).join(', ');\n\n    return {\n      outputVars: {\n        orderNumber: order.name,\n        orderID: shopifyOrderID,\n        productTitles: productTitles,\n        orderedQuantities: orderedQuantities\n      },\n      next: { path: 'success' },\n      trace: [\n        ...traceLogs,\n        { type: \"debug\", payload: { message: `Order ${order.name} processed successfully.` } }\n      ]\n    };\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Error: \" + error.message } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754474709677-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "6794e36792c4506f06165a6b",
        "6794e36a92c4506f06165a74",
        "6794e36e92c4506f06165a79"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:05:10.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6794e53b92c4506f06165bb9",
      "name": "Shopify - Get Return Orders by Email",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { customerEmail, shopifyAdminAccessToken, shopifyStoreID, shopifyApiVersion, extractReturnDays } = args.inputVars;\n\n  // Validate input variables\n  if (!customerEmail || !shopifyAdminAccessToken || !shopifyStoreID || !shopifyApiVersion || !extractReturnDays) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables.\" } }]\n    };\n  }\n\n  const shopifyApiUrl = `https://${shopifyStoreID}.myshopify.com/admin/api/${shopifyApiVersion}/graphql.json`;\n\n  const headers = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  // Query to get orders based on customer email\n  const orderQuery = {\n    query: `\n      query ($email: String!) {\n        orders(first: 10, query: $email) {\n          edges {\n            node {\n              id\n              name\n              email\n              createdAt\n              lineItems(first: 10) {\n                edges {\n                  node {\n                    title\n                    quantity\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    `,\n    variables: { email: customerEmail }\n  };\n\n  try {\n    // Fetch order details from Shopify\n    const response = await fetch(shopifyApiUrl, {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(orderQuery)\n    });\n\n    const responseData = await response.json;\n\n    // Check if orders exist\n    if (!responseData?.data?.orders?.edges.length) {\n      throw new Error(\"No orders found for this email.\");\n    }\n\n    let validOrders = [];\n    let orderIDs = []; // Collect order IDs for output\n    const currentDate = new Date();\n    const returnDaysLimit = parseInt(extractReturnDays, 10);\n\n    responseData.data.orders.edges.forEach(order => {\n      const orderNode = order.node;\n      const orderDate = new Date(orderNode.createdAt);\n      const diffTime = Math.abs(currentDate - orderDate);\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n      // Check if order is within the return period\n      if (diffDays <= returnDaysLimit) {\n        validOrders.push({\n          orderID: orderNode.id,\n          orderNumber: orderNode.name,\n          productTitles: orderNode.lineItems.edges.map(item => item.node.title).join(', '),\n          orderedQuantities: orderNode.lineItems.edges.map(item => item.node.quantity).join(', ')\n        });\n        orderIDs.push(orderNode.id);\n      }\n    });\n\n    if (validOrders.length === 0) {\n      return {\n        next: { path: 'no_valid' },\n        outputVars: {\n          message: `No valid orders found within the return period for ${customerEmail}.`\n        },\n        trace: [{ type: \"debug\", payload: { message: `All orders exceed return period for ${customerEmail}.` } }]\n      };\n    }\n\n    // Format order numbers separated by commas\n    const orderNumbers = validOrders.map(order => order.orderNumber).join(', ');\n\n    // Format order IDs separated by commas\n    const orderIDsString = orderIDs.join(', ');\n\n    // Format product titles and quantities\n    const productTitles = validOrders.map(order => order.productTitles).join(' | ');\n    const orderedQuantities = validOrders.map(order => order.orderedQuantities).join(' | ');\n\n    return {\n      outputVars: {\n        orderNumbers: orderNumbers,\n        orderIDs: orderIDsString,\n        productTitles: productTitles,\n        orderedQuantities: orderedQuantities\n      },\n      next: { path: 'success' },\n      trace: [\n        { type: \"debug\", payload: { message: `Orders retrieved successfully for ${customerEmail}.` } },\n        { type: \"debug\", payload: { message: `Order IDs found: ${orderIDsString}` } }\n      ]\n    };\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Error: \" + error.message } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754474739018-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "6794e57292c4506f06165bc1",
        "6794e57692c4506f06165bc6",
        "6794e58392c4506f06165bcf"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:05:40.000Z",
      "updatedByID": 893814
    },
    {
      "id": "67950c2d92c4506f06166d71",
      "name": "Dynamic Carousel Return Products",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { orderedQuantity, returnProductTitles, rawProductData, bt_createReturn } = args.inputVars;\n\n  let parsedProductData;\n\n  try {\n    // Parse rawProductData safely\n    parsedProductData = typeof rawProductData === \"string\" ? JSON.parse(rawProductData) : rawProductData;\n\n    if (!Array.isArray(parsedProductData)) {\n      throw new Error(\"Invalid rawProductData structure. Expected an array.\");\n    }\n  } catch (err) {\n    console.error(\"Error parsing rawProductData:\", err.message);\n    throw new Error(\"Invalid rawProductData structure. Ensure it is a valid JSON array.\");\n  }\n\n  // Split input variables into structured arrays\n  const orders = returnProductTitles.split('|').map(order => order.split(',').map(product => product.trim()));\n  const quantities = orderedQuantity.split('|').map(order => order.split(',').map(qty => qty.trim()));\n\n  // Flatten product list for easier matching\n  const allProducts = orders.flat();\n  const allQuantities = quantities.flat();\n\n  // Generate carousel items for individual products only\n  const carouselItems = allProducts.map((productTitle, index) => {\n    // Find the matching product in the rawProductData\n    const matchedProduct = parsedProductData.find(\n      product => product.title.trim().toLowerCase() === productTitle.toLowerCase()\n    );\n\n    if (!matchedProduct) {\n      console.warn(`Product not found in rawProductData: ${productTitle}`);\n      return null;\n    }\n\n    // Safe extraction of image URL, avoiding null/undefined errors\n    let imageUrl;\n    if (matchedProduct.featuredMedia?.preview?.image?.url) {\n      imageUrl = matchedProduct.featuredMedia.preview.image.url;\n    }\n\n    const variants = matchedProduct.variants?.edges.map(edge => edge.node) || [];\n    const variantTitle = variants.length === 1 && variants[0].title === \"Default Title\" ? \"Not needed\" : variants[0].title;\n\n    // Construct the card object\n    const card = {\n      title: matchedProduct.title || \"Unknown Product\",\n      description: { text: `Quantity: ${allQuantities[index]}` },\n      buttons: [\n        {\n          name: bt_createReturn || \"Return Product\",\n          request: {\n            type: \"returnProduct\",\n            payload: {\n              orderedQuantity: allQuantities[index],\n              productTitle: matchedProduct.title,\n              variantTitle: variantTitle\n            }\n          }\n        }\n      ]\n    };\n\n    // Add imageUrl only if it's defined\n    if (imageUrl) {\n      card.imageUrl = imageUrl;\n    }\n\n    return card;\n  }).filter(Boolean);\n\n  // Handle case where no products are matched\n  if (carouselItems.length === 0) {\n    return {\n      next: { path: \"no_match\" },\n      outputVars: {\n        message: \"No matching products found.\"\n      }\n    };\n  }\n\n  return {\n    trace: [\n      {\n        type: \"carousel\",\n        payload: {\n          layout: \"Carousel\",\n          cards: carouselItems\n        }\n      }\n    ],\n    next: {\n      listen: true,\n      to: [\n        {\n          on: { \"event.type\": \"returnProduct\" },\n          dest: \"processReturn\",\n          outputVars: {\n            message: \"Product selected for return.\"\n          }\n        }\n      ],\n      defaultTo: \"fallback\"\n    },\n    outputVars: {\n      message: \"Select a product to return.\"\n    }\n  };\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754474804237-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "67950c6d92c4506f06166dac",
        "67950c7792c4506f06166dae",
        "67975c4e639c4e49bca261d6"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:06:45.000Z",
      "updatedByID": 893814
    },
    {
      "id": "6793e89f350d65537076d6d9",
      "name": "Generate Orders Carousel",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  const { ordersData } = args.inputVars;\n\n  try {\n    // Parse the ordersData JSON string into an object\n    const parsedOrdersData = JSON.parse(ordersData);\n    const orders = parsedOrdersData?.data?.customer?.orders?.edges || [];\n\n    if (orders.length === 0) {\n      throw new Error(\"No orders found.\");\n    }\n\n    // Build the carousel with structured data\n    const orderCarousel = {\n      layout: \"Carousel\",\n      cards: orders.map(order => {\n        const orderNode = order.node;\n        const trackingInfo = orderNode.fulfillments?.[0]?.trackingInfo?.[0];\n        const orderDate = new Date(orderNode.createdAt);\n        const formattedDate = `${orderDate.getDate().toString().padStart(2, '0')}-${(orderDate.getMonth() + 1).toString().padStart(2, '0')}-${orderDate.getFullYear()}`;\n\n        return {\n          title: orderNode.name || 'Order',\n          description: {\n            text: `Amount: ${orderNode.totalPriceSet.shopMoney.amount} ${orderNode.totalPriceSet.shopMoney.currencyCode}, Date: ${formattedDate}`\n          },\n          imageUrl: \"\", // Set to an empty string if no image is available\n          buttons: [\n            {\n              name: \"Track Order\",\n              payload: {\n                actions: [\n                  {\n                    type: \"open_url\",\n                    url: trackingInfo?.url || \"#\", // Add tracking URL or fallback to #\n                  }\n                ]\n              }\n            }\n          ]\n        };\n      })\n    };\n\n    return {\n      next: { path: 'success' },  // Simply end with success path without listening for events\n      trace: [\n        {\n          type: 'debug',\n          payload: { message: 'Order carousel generated successfully with direct URL open functionality' }\n        },\n        {\n          type: 'carousel',  // Directly output the generated order carousel to Voiceflow's interface\n          payload: orderCarousel\n        }\n      ]\n    };\n  } catch (error) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: `[ERROR]: ${error.message}` } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754475182318-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "",
      "pathOrder": [
        "6793e89f350d65537076d6da",
        "6793e89f350d65537076d6db"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:13:03.000Z",
      "updatedByID": 893814
    },
    {
      "id": "679293f5f2a1a96c77921d6b",
      "name": "Shopify - Get Upsell Information",
      "createdByID": 893814,
      "folderID": null,
      "code": "export default async function main(args) {\n  // Extract necessary input variables from Voiceflow\n  const { shopifyStoreID, shopifyAdminAccessToken, shopifyApiVersion } = args.inputVars;\n\n  // Validate required inputs and return an error if any are missing\n  if (!shopifyStoreID || !shopifyAdminAccessToken || !shopifyApiVersion) {\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: \"Missing required input variables\" } }]\n    };\n  }\n\n  // Shopify API request headers including authentication token\n  const shopifyHeaders = {\n    'X-Shopify-Access-Token': shopifyAdminAccessToken,\n    'Content-Type': 'application/json'\n  };\n\n  // GraphQL query to fetch past orders and their line items (products)\n  const getOrdersQuery = `\n    query GetPastOrders($first: Int!) {\n      orders(first: $first, reverse: true) {\n        edges {\n          node {\n            id\n            createdAt\n            lineItems(first: 10) {\n              edges {\n                node {\n                  product {\n                    id\n                    title\n                  }\n                  quantity\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `;\n\n  // Function to fetch orders from the Shopify store\n  const fetchOrders = async () => {\n    // Define the request body with the query and the number of orders to retrieve\n    const body = JSON.stringify({\n      query: getOrdersQuery,\n      variables: { first: 50 } // Fetch the latest 50 orders\n    });\n\n    // Make the API request to Shopify\n    const response = await fetch(`https://${shopifyStoreID}.myshopify.com/admin/api/${shopifyApiVersion}/graphql.json`, {\n      method: 'POST',\n      headers: shopifyHeaders,\n      body\n    });\n\n    // Handle API response errors\n    if (!response.ok) {\n      const errorText = await response.text;\n      throw new Error(`Shopify API request failed: ${response.statusText} - ${errorText}`);\n    }\n\n    // Parse the JSON response from Shopify\n    const result = await response.json;\n\n    // Validate if the response contains order data\n    if (!result || !result.data || !result.data.orders) {\n      throw new Error(\"No data received from Shopify API or invalid structure.\");\n    }\n\n    // Return the list of orders\n    return result.data.orders.edges;\n  };\n\n  try {\n    // Fetch orders from Shopify\n    const orders = await fetchOrders();\n\n    // Object to store product pair combinations and their frequency\n    let productPairs = {};\n\n    // Process each order to analyze product combinations\n    orders.forEach(order => {\n      // Extract product titles from the order's line items\n      const products = order.node.lineItems.edges.map(item => item.node.product.title);\n      \n      // Sort products alphabetically to avoid duplicate combinations in a different order\n      products.sort();\n\n      // Generate all possible unique product pairs within the order\n      for (let i = 0; i < products.length; i++) {\n        for (let j = i + 1; j < products.length; j++) {\n          // Create a key representing the product pair\n          const pairKey = `${products[i]} & ${products[j]}`;\n          // Increment the count for this product pair\n          productPairs[pairKey] = (productPairs[pairKey] || 0) + 1;\n        }\n      }\n    });\n\n    // Convert product pair object to an array sorted by the number of occurrences\n    const sortedPairs = Object.entries(productPairs)\n      .map(([pair, count]) => ({ pair, count }))\n      .sort((a, b) => b.count - a.count); // Sort pairs from most frequent to least\n\n    // Normalize scores to a scale of 0 to 1 for ranking recommendations\n    const maxCount = sortedPairs.length > 0 ? sortedPairs[0].count : 1;\n    const productRecommendations = sortedPairs.slice(0, 10).map(({ pair, count }) => ({\n      pair, \n      score: (count / maxCount).toFixed(2) // Calculate normalized score\n    }));\n\n    // Return the processed data to Voiceflow, including recommendations and raw order data\n    return {\n      outputVars: {\n        productPairsForLLM: JSON.stringify(productRecommendations), // Formatted product pair data\n        rawOrderData: JSON.stringify(orders) // Original raw data for debugging if needed\n      },\n      next: { path: 'success' },\n      trace: [\n        {\n          type: 'debug',\n          payload: { message: 'Order data processed successfully' }\n        }\n      ]\n    };\n  } catch (error) {\n    // Handle errors and return an error message\n    return {\n      next: { path: 'error' },\n      trace: [{ type: \"debug\", payload: { message: `[ERROR]: ${error.message}` } }]\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1754476862268-flux_dev_a_minimalist_svg_icon_for_customer_relationship_manag_2.jpg",
      "description": "1.\tFinds Latest Orders:\n\t‚Ä¢\tThe function retrieves the most recent orders from a data source.\n2.\tGenerates Product Pairs:\n\t‚Ä¢\tIt identifies product combinations (pairs) from these orders.\n3.\tCalculates Weight Scores:\n\t‚Ä¢\tEach product pair is assigned a weight score based on its frequency of occurrence across orders (i.e., how often the pair appears together).\n4.\tFormats Output in JSON:\n\t‚Ä¢\tThe final output is a JSON structure that contains the product pairs and their respective weight scores, formatted for easy use in further processing (such as for a prompt or analysis).",
      "pathOrder": [
        "67929423f2a1a96c77921d8e",
        "6792942af2a1a96c77921da0"
      ],
      "createdAt": "2025-08-05T18:05:35.000Z",
      "updatedAt": "2025-08-06T10:41:04.000Z",
      "updatedByID": 893814
    }
  ],
  "functionPaths": [
    {
      "id": "67372c85dd4bf1d669dc1c12",
      "name": "checkout",
      "label": "",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "createdAt": "2025-08-05T18:05:35.405Z"
    },
    {
      "id": "67372c98dd4bf1d669dc1c88",
      "name": "no_match",
      "label": "",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "createdAt": "2025-08-05T18:05:35.406Z"
    },
    {
      "id": "67372c9fdd4bf1d669dc1ca8",
      "name": "error",
      "label": "",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "createdAt": "2025-08-05T18:05:35.407Z"
    },
    {
      "id": "67377d78bdb17488f6f8091f",
      "name": "success",
      "label": "",
      "functionID": "67377d2cbdb17488f6f808d7",
      "createdAt": "2025-08-05T18:05:35.408Z"
    },
    {
      "id": "67377d81bdb17488f6f80922",
      "name": "error",
      "label": "",
      "functionID": "67377d2cbdb17488f6f808d7",
      "createdAt": "2025-08-05T18:05:35.409Z"
    },
    {
      "id": "678a31323f09b38dd6f7ea1f",
      "name": "success",
      "label": "",
      "functionID": "678a31003f09b38dd6f7ea01",
      "createdAt": "2025-08-05T18:05:35.410Z"
    },
    {
      "id": "678a31353f09b38dd6f7ea20",
      "name": "error",
      "label": "",
      "functionID": "678a31003f09b38dd6f7ea01",
      "createdAt": "2025-08-05T18:05:35.411Z"
    },
    {
      "id": "678ba51722fbcb6ac61274be",
      "name": "moreInfo",
      "label": "",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "createdAt": "2025-08-05T18:05:35.412Z"
    },
    {
      "id": "678bd95522fbcb6ac6129c62",
      "name": "fallback",
      "label": "",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "createdAt": "2025-08-05T18:05:35.413Z"
    },
    {
      "id": "67929423f2a1a96c77921d8e",
      "name": "success",
      "label": "",
      "functionID": "679293f5f2a1a96c77921d6b",
      "createdAt": "2025-08-05T18:05:35.414Z"
    },
    {
      "id": "6792942af2a1a96c77921da0",
      "name": "error",
      "label": "",
      "functionID": "679293f5f2a1a96c77921d6b",
      "createdAt": "2025-08-05T18:05:35.415Z"
    },
    {
      "id": "6793726492c4506f06159f5b",
      "name": "fallback",
      "label": "",
      "functionID": "6793726492c4506f06159f56",
      "createdAt": "2025-08-05T18:05:35.416Z"
    },
    {
      "id": "6793726492c4506f06159f57",
      "name": "checkout",
      "label": "",
      "functionID": "6793726492c4506f06159f56",
      "createdAt": "2025-08-05T18:05:35.417Z"
    },
    {
      "id": "6793726492c4506f06159f59",
      "name": "error",
      "label": "",
      "functionID": "6793726492c4506f06159f56",
      "createdAt": "2025-08-05T18:05:35.418Z"
    },
    {
      "id": "6793726492c4506f06159f5a",
      "name": "moreInfo",
      "label": "",
      "functionID": "6793726492c4506f06159f56",
      "createdAt": "2025-08-05T18:05:35.419Z"
    },
    {
      "id": "6793726492c4506f06159f58",
      "name": "no_match",
      "label": "",
      "functionID": "6793726492c4506f06159f56",
      "createdAt": "2025-08-05T18:05:35.420Z"
    },
    {
      "id": "6793728992c4506f06159f83",
      "name": "bt_notInterested",
      "label": "",
      "functionID": "6793726492c4506f06159f56",
      "createdAt": "2025-08-05T18:05:35.421Z"
    },
    {
      "id": "6793cd2492c4506f0615da92",
      "name": "success",
      "label": "",
      "functionID": "6793ccfa92c4506f0615da61",
      "createdAt": "2025-08-05T18:05:35.422Z"
    },
    {
      "id": "6793cd2892c4506f0615da95",
      "name": "error",
      "label": "",
      "functionID": "6793ccfa92c4506f0615da61",
      "createdAt": "2025-08-05T18:05:35.423Z"
    },
    {
      "id": "6793e829006dc7f7d20d603e",
      "name": "success",
      "label": "",
      "functionID": "6793e829006dc7f7d20d603d",
      "createdAt": "2025-08-05T18:05:35.424Z"
    },
    {
      "id": "6793e829006dc7f7d20d603f",
      "name": "error",
      "label": "",
      "functionID": "6793e829006dc7f7d20d603d",
      "createdAt": "2025-08-05T18:05:35.425Z"
    },
    {
      "id": "6793e89f350d65537076d6da",
      "name": "success",
      "label": "",
      "functionID": "6793e89f350d65537076d6d9",
      "createdAt": "2025-08-05T18:05:35.426Z"
    },
    {
      "id": "6793e89f350d65537076d6db",
      "name": "error",
      "label": "",
      "functionID": "6793e89f350d65537076d6d9",
      "createdAt": "2025-08-05T18:05:35.427Z"
    },
    {
      "id": "6794d31192c4506f06164f15",
      "name": "success",
      "label": "",
      "functionID": "6794d2c892c4506f06164ea4",
      "createdAt": "2025-08-05T18:05:35.428Z"
    },
    {
      "id": "6794d31792c4506f06164f16",
      "name": "error",
      "label": "",
      "functionID": "6794d2c892c4506f06164ea4",
      "createdAt": "2025-08-05T18:05:35.429Z"
    },
    {
      "id": "6794e36792c4506f06165a6b",
      "name": "success",
      "label": "",
      "functionID": "6794e33792c4506f06165a3c",
      "createdAt": "2025-08-05T18:05:35.430Z"
    },
    {
      "id": "6794e36a92c4506f06165a74",
      "name": "no_valid",
      "label": "",
      "functionID": "6794e33792c4506f06165a3c",
      "createdAt": "2025-08-05T18:05:35.431Z"
    },
    {
      "id": "6794e36e92c4506f06165a79",
      "name": "error",
      "label": "",
      "functionID": "6794e33792c4506f06165a3c",
      "createdAt": "2025-08-05T18:05:35.432Z"
    },
    {
      "id": "6794e57292c4506f06165bc1",
      "name": "success",
      "label": "",
      "functionID": "6794e53b92c4506f06165bb9",
      "createdAt": "2025-08-05T18:05:35.433Z"
    },
    {
      "id": "6794e57692c4506f06165bc6",
      "name": "no_valid",
      "label": "",
      "functionID": "6794e53b92c4506f06165bb9",
      "createdAt": "2025-08-05T18:05:35.434Z"
    },
    {
      "id": "6794e58392c4506f06165bcf",
      "name": "error",
      "label": "",
      "functionID": "6794e53b92c4506f06165bb9",
      "createdAt": "2025-08-05T18:05:35.435Z"
    },
    {
      "id": "67950c6d92c4506f06166dac",
      "name": "processReturn",
      "label": "",
      "functionID": "67950c2d92c4506f06166d71",
      "createdAt": "2025-08-05T18:05:35.436Z"
    },
    {
      "id": "67950c7792c4506f06166dae",
      "name": "fallback",
      "label": "",
      "functionID": "67950c2d92c4506f06166d71",
      "createdAt": "2025-08-05T18:05:35.437Z"
    },
    {
      "id": "67975c4e639c4e49bca261d6",
      "name": "no_match",
      "label": "",
      "functionID": "67950c2d92c4506f06166d71",
      "createdAt": "2025-08-05T18:05:35.438Z"
    },
    {
      "id": "679764d3639c4e49bca2679c",
      "name": "success",
      "label": "",
      "functionID": "67976484639c4e49bca26770",
      "createdAt": "2025-08-05T18:05:35.439Z"
    },
    {
      "id": "679764d5639c4e49bca2679d",
      "name": "error",
      "label": "",
      "functionID": "67976484639c4e49bca26770",
      "createdAt": "2025-08-05T18:05:35.440Z"
    },
    {
      "id": "679e1eadb581cc269ec41dd1",
      "name": "success",
      "label": "",
      "functionID": "679e1e84b581cc269ec41d8f",
      "createdAt": "2025-08-05T18:05:35.441Z"
    },
    {
      "id": "679e1eb3b581cc269ec41dd3",
      "name": "error",
      "label": "",
      "functionID": "679e1e84b581cc269ec41d8f",
      "createdAt": "2025-08-05T18:05:35.442Z"
    }
  ],
  "functionVariables": [
    {
      "id": "67372c6fdd4bf1d669dc1bf1",
      "name": "bt_orderNow",
      "type": "input",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.405Z"
    },
    {
      "id": "67372c73dd4bf1d669dc1bf3",
      "name": "rawProductData",
      "type": "input",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.406Z"
    },
    {
      "id": "67372c76dd4bf1d669dc1bf4",
      "name": "filteredProducts",
      "type": "input",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.407Z"
    },
    {
      "id": "67377d52bdb17488f6f808f5",
      "name": "shopifyStorefrontAccessToken",
      "type": "input",
      "functionID": "67377d2cbdb17488f6f808d7",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.408Z"
    },
    {
      "id": "67377d55bdb17488f6f808f7",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "67377d2cbdb17488f6f808d7",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.409Z"
    },
    {
      "id": "67377d57bdb17488f6f808f9",
      "name": "shopifyApiVersion",
      "type": "input",
      "functionID": "67377d2cbdb17488f6f808d7",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.410Z"
    },
    {
      "id": "67377d70bdb17488f6f80916",
      "name": "orderProductList",
      "type": "input",
      "functionID": "67377d2cbdb17488f6f808d7",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.411Z"
    },
    {
      "id": "673781c4bdb17488f6f80c44",
      "name": "checkoutUrl",
      "type": "output",
      "functionID": "67377d2cbdb17488f6f808d7",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.412Z"
    },
    {
      "id": "678a31073f09b38dd6f7ea02",
      "name": "shopifyApiVersion",
      "type": "input",
      "functionID": "678a31003f09b38dd6f7ea01",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.413Z"
    },
    {
      "id": "678a310a3f09b38dd6f7ea03",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "678a31003f09b38dd6f7ea01",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.414Z"
    },
    {
      "id": "678a310d3f09b38dd6f7ea04",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "678a31003f09b38dd6f7ea01",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.415Z"
    },
    {
      "id": "678a312c3f09b38dd6f7ea1a",
      "name": "rawProductData",
      "type": "output",
      "functionID": "678a31003f09b38dd6f7ea01",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.416Z"
    },
    {
      "id": "678a312f3f09b38dd6f7ea1c",
      "name": "productInfoForLLM",
      "type": "output",
      "functionID": "678a31003f09b38dd6f7ea01",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.417Z"
    },
    {
      "id": "678ba30b22fbcb6ac612726f",
      "name": "bt_moreInfo",
      "type": "input",
      "functionID": "67372bf4dd4bf1d669dc1b86",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.418Z"
    },
    {
      "id": "679096f9a3a14c8742fb67e1",
      "name": "productTitlesForLLM",
      "type": "output",
      "functionID": "678a31003f09b38dd6f7ea01",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.419Z"
    },
    {
      "id": "679293fdf2a1a96c77921d6f",
      "name": "shopifyApiVersion",
      "type": "input",
      "functionID": "679293f5f2a1a96c77921d6b",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.420Z"
    },
    {
      "id": "67929401f2a1a96c77921d70",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "679293f5f2a1a96c77921d6b",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.421Z"
    },
    {
      "id": "67929407f2a1a96c77921d71",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "679293f5f2a1a96c77921d6b",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.422Z"
    },
    {
      "id": "6792941bf2a1a96c77921d8b",
      "name": "rawOrderData",
      "type": "output",
      "functionID": "679293f5f2a1a96c77921d6b",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.423Z"
    },
    {
      "id": "6792941ff2a1a96c77921d8d",
      "name": "productPairsForLLM",
      "type": "output",
      "functionID": "679293f5f2a1a96c77921d6b",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.424Z"
    },
    {
      "id": "6793726492c4506f06159f5c",
      "name": "bt_orderNow",
      "type": "input",
      "functionID": "6793726492c4506f06159f56",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.425Z"
    },
    {
      "id": "6793726492c4506f06159f5d",
      "name": "filteredProducts",
      "type": "input",
      "functionID": "6793726492c4506f06159f56",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.426Z"
    },
    {
      "id": "6793726492c4506f06159f5e",
      "name": "bt_moreInfo",
      "type": "input",
      "functionID": "6793726492c4506f06159f56",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.427Z"
    },
    {
      "id": "6793726492c4506f06159f5f",
      "name": "rawProductData",
      "type": "input",
      "functionID": "6793726492c4506f06159f56",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.428Z"
    },
    {
      "id": "6793727f92c4506f06159f7e",
      "name": "bt_notInterested",
      "type": "input",
      "functionID": "6793726492c4506f06159f56",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.429Z"
    },
    {
      "id": "6793cd1492c4506f0615da6a",
      "name": "orderNumber",
      "type": "input",
      "functionID": "6793ccfa92c4506f0615da61",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.430Z"
    },
    {
      "id": "6793cd1792c4506f0615da6b",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "6793ccfa92c4506f0615da61",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.431Z"
    },
    {
      "id": "6793cd1a92c4506f0615da73",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "6793ccfa92c4506f0615da61",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.432Z"
    },
    {
      "id": "6793cd1e92c4506f0615da7e",
      "name": "trackingURL",
      "type": "output",
      "functionID": "6793ccfa92c4506f0615da61",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.433Z"
    },
    {
      "id": "6793e829006dc7f7d20d6040",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "6793e829006dc7f7d20d603d",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.434Z"
    },
    {
      "id": "6793e829006dc7f7d20d6041",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "6793e829006dc7f7d20d603d",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.435Z"
    },
    {
      "id": "6793e829006dc7f7d20d6042",
      "name": "email",
      "type": "input",
      "functionID": "6793e829006dc7f7d20d603d",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.436Z"
    },
    {
      "id": "6793e829006dc7f7d20d6043",
      "name": "ordersData",
      "type": "output",
      "functionID": "6793e829006dc7f7d20d603d",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.437Z"
    },
    {
      "id": "6793e89f350d65537076d6dc",
      "name": "ordersData",
      "type": "input",
      "functionID": "6793e89f350d65537076d6d9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.438Z"
    },
    {
      "id": "6794d2e592c4506f06164ed7",
      "name": "shopifyApiVersion",
      "type": "input",
      "functionID": "6794d2c892c4506f06164ea4",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.439Z"
    },
    {
      "id": "6794d2eb92c4506f06164eda",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "6794d2c892c4506f06164ea4",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.440Z"
    },
    {
      "id": "6794d2f092c4506f06164edb",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "6794d2c892c4506f06164ea4",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.441Z"
    },
    {
      "id": "6794d30e92c4506f06164f10",
      "name": "returnPolicyBody",
      "type": "output",
      "functionID": "6794d2c892c4506f06164ea4",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.442Z"
    },
    {
      "id": "6794e34b92c4506f06165a54",
      "name": "extractReturnDays",
      "type": "input",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.443Z"
    },
    {
      "id": "6794e34e92c4506f06165a55",
      "name": "shopifyApiVersion",
      "type": "input",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.444Z"
    },
    {
      "id": "6794e35292c4506f06165a56",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.445Z"
    },
    {
      "id": "6794e35692c4506f06165a61",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.446Z"
    },
    {
      "id": "6794e35a92c4506f06165a6a",
      "name": "orderNumber",
      "type": "input",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.447Z"
    },
    {
      "id": "6794e38292c4506f06165a96",
      "name": "orderNumber",
      "type": "output",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.448Z"
    },
    {
      "id": "6794e38792c4506f06165a97",
      "name": "productTitles",
      "type": "output",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.449Z"
    },
    {
      "id": "6794e55492c4506f06165bba",
      "name": "extractReturnDays",
      "type": "input",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.450Z"
    },
    {
      "id": "6794e55792c4506f06165bbb",
      "name": "shopifyApiVersion",
      "type": "input",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.451Z"
    },
    {
      "id": "6794e55a92c4506f06165bbc",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.452Z"
    },
    {
      "id": "6794e55d92c4506f06165bbd",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.453Z"
    },
    {
      "id": "6794e56092c4506f06165bbe",
      "name": "customerEmail",
      "type": "input",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.454Z"
    },
    {
      "id": "6794e56c92c4506f06165bbf",
      "name": "productTitles",
      "type": "output",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.455Z"
    },
    {
      "id": "6794e57092c4506f06165bc0",
      "name": "orderNumbers",
      "type": "output",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.456Z"
    },
    {
      "id": "679507cd92c4506f06166a17",
      "name": "orderedQuantities",
      "type": "output",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.457Z"
    },
    {
      "id": "6795082892c4506f06166a43",
      "name": "orderedQuantities",
      "type": "output",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.458Z"
    },
    {
      "id": "67950c3f92c4506f06166d86",
      "name": "bt_createReturn",
      "type": "input",
      "functionID": "67950c2d92c4506f06166d71",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.459Z"
    },
    {
      "id": "67950c4292c4506f06166d8d",
      "name": "rawProductData",
      "type": "input",
      "functionID": "67950c2d92c4506f06166d71",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.460Z"
    },
    {
      "id": "67950c4592c4506f06166d8f",
      "name": "returnProductTitles",
      "type": "input",
      "functionID": "67950c2d92c4506f06166d71",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.461Z"
    },
    {
      "id": "67950c4992c4506f06166d90",
      "name": "orderedQuantity",
      "type": "input",
      "functionID": "67950c2d92c4506f06166d71",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.462Z"
    },
    {
      "id": "6797649c639c4e49bca26782",
      "name": "shopifyOrderID",
      "type": "input",
      "functionID": "67976484639c4e49bca26770",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.463Z"
    },
    {
      "id": "6797649e639c4e49bca26783",
      "name": "returnReason",
      "type": "input",
      "functionID": "67976484639c4e49bca26770",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.464Z"
    },
    {
      "id": "679764a1639c4e49bca26785",
      "name": "returnProductQuantity",
      "type": "input",
      "functionID": "67976484639c4e49bca26770",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.465Z"
    },
    {
      "id": "679764a4639c4e49bca26787",
      "name": "selectedProductTitle",
      "type": "input",
      "functionID": "67976484639c4e49bca26770",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.466Z"
    },
    {
      "id": "679764a6639c4e49bca26788",
      "name": "shopifyApiVersion",
      "type": "input",
      "functionID": "67976484639c4e49bca26770",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.467Z"
    },
    {
      "id": "679764ac639c4e49bca2678a",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "67976484639c4e49bca26770",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.468Z"
    },
    {
      "id": "679764af639c4e49bca2678c",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "67976484639c4e49bca26770",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.469Z"
    },
    {
      "id": "679e1e93b581cc269ec41dbd",
      "name": "orderNumber",
      "type": "input",
      "functionID": "679e1e84b581cc269ec41d8f",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.470Z"
    },
    {
      "id": "679e1e99b581cc269ec41dc0",
      "name": "shopifyApiVersion",
      "type": "input",
      "functionID": "679e1e84b581cc269ec41d8f",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.471Z"
    },
    {
      "id": "679e1e9eb581cc269ec41dc2",
      "name": "shopifyStoreID",
      "type": "input",
      "functionID": "679e1e84b581cc269ec41d8f",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.472Z"
    },
    {
      "id": "679e1ea6b581cc269ec41dce",
      "name": "shopifyAdminAccessToken",
      "type": "input",
      "functionID": "679e1e84b581cc269ec41d8f",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.473Z"
    },
    {
      "id": "679e80deb581cc269ec4615c",
      "name": "orderID",
      "type": "output",
      "functionID": "6794e33792c4506f06165a3c",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.474Z"
    },
    {
      "id": "679e810ab581cc269ec4617d",
      "name": "orderIDs",
      "type": "output",
      "functionID": "6794e53b92c4506f06165bb9",
      "description": "",
      "createdAt": "2025-08-05T18:05:35.475Z"
    }
  ],
  "mcpServers": [],
  "mcpServerTools": [],
  "mcpIntegrationTools": [],
  "project": {
    "type": "chat",
    "name": "Plateprestige Agent",
    "image": "https://cm4-production-assets.s3.amazonaws.com/1729190521409-square-onyx-1024.jpg",
    "teamID": "8ekYQdr8kN",
    "members": [],
    "platform": "webchat",
    "_version": 1.2,
    "linkType": "STRAIGHT",
    "creatorID": 893814,
    "updatedBy": 893814,
    "platformData": {
      "invocationName": "template project general"
    },
    "customThemes": [
      {
        "name": "",
        "palette": {
          "50": "#f4ebf6",
          "100": "#edddf1",
          "200": "#e5ccea",
          "300": "#ddbce3",
          "400": "#d0a0d9",
          "500": "#c385ce",
          "600": "#b168bd",
          "700": "#8d5197",
          "800": "#673a6f",
          "900": "#412346"
        },
        "standardColor": "#c385ce"
      },
      {
        "name": "",
        "palette": {
          "50": "#f7ecdf",
          "100": "#f2e0c8",
          "200": "#ecd0a8",
          "300": "#e3c28c",
          "400": "#cbac7c",
          "500": "#b2976c",
          "600": "#98805b",
          "700": "#786547",
          "800": "#574933",
          "900": "#362d1e"
        },
        "standardColor": "#b2976c"
      },
      {
        "name": "",
        "palette": {
          "50": "#c9f7f5",
          "100": "#a7efed",
          "200": "#9ce1de",
          "300": "#92d2cf",
          "400": "#81bbb9",
          "500": "#71a4a2",
          "600": "#608c8a",
          "700": "#4b6e6d",
          "800": "#35504f",
          "900": "#1f3131"
        },
        "standardColor": "#71a4a2"
      },
      {
        "name": "",
        "palette": {
          "50": "#f0f3a8",
          "100": "#e4e7a0",
          "200": "#d6d995",
          "300": "#c8cb8b",
          "400": "#b2b47c",
          "500": "#9c9e6c",
          "600": "#85875b",
          "700": "#696a47",
          "800": "#4c4d32",
          "900": "#2f2f1d"
        },
        "standardColor": "#9c9e6c"
      }
    ],
    "aiAssistSettings": {
      "aiPlayground": true
    },
    "privacy": "private",
    "apiPrivacy": "public",
    "_id": "689247ef52036d1f3e225353",
    "updatedAt": "2025-08-06T11:15:15.473Z",
    "devVersion": "689247ef52036d1f3e225354",
    "liveVersion": "689247ef52036d1f3e225355"
  },
  "_version": "1.2",
  "secrets": [
    {
      "assistantID": "689247ef52036d1f3e225353",
      "id": "6735e17a863bc8c813ddfc14",
      "updatedByID": 893814,
      "name": "ShopifyAdminAccessToken",
      "visibility": "masked",
      "updatedAt": "2025-08-05T19:21:35.000Z",
      "createdAt": "2025-08-05T18:05:35.000Z"
    },
    {
      "assistantID": "689247ef52036d1f3e225353",
      "id": "6735e195863bc8c813ddfc25",
      "updatedByID": 893814,
      "name": "ShopifyStorefrontAccessToken",
      "visibility": "masked",
      "updatedAt": "2025-08-05T19:36:31.000Z",
      "createdAt": "2025-08-05T18:05:35.000Z"
    }
  ],
  "variableStates": [],
  "transcriptEvaluations": []
}